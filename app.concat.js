!function(){"use strict";function e(e,t,o,n){switch(window.location.origin){case"http://stg1.jwtdigitalpr.com":t.server_url="http://stg1.jwtdigitalpr.com/mpto";break;case"http://192.168.235.153":case"http://localhost:63342":t.server_url="http://192.168.235.153/musica_para_tus_oidos/public";break;case"http://www.musicaparatusoidospr.com":case"http://www.mptopr.com":t.server_url="http://www.musicaparatusoidospr.com"}t.upload_url=t.server_url+"/api/upload",t.isType=function(e,t,o){var n=!1;return t==e?n=!0:o&&void 0!=o.type&&(n=o.type.indexOf(e)>-1),n},n.isAuthenticated()?n.refresh().then(function(e){console.log(e)}):e.go("login"),t.$on("$stateChangeStart",function(e,o){if(o.data)var r=o.data.authorizedRoles;r&&!n.isAuthorized(r)&&(e.preventDefault(),t.$broadcast("unauthorized"))})}function t(e){var t=e.extendPalette("light-blue",{contrastDefaultColor:"light",contrastDarkColors:["50"],50:"ffffff"});e.definePalette("customBlue",t),e.theme("default").primaryPalette("customBlue",{"default":"500","hue-1":"50"}).accentPalette("pink"),e.theme("input","default").primaryPalette("grey")}var o=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,o,n){if(n){e.$watch(o.ngModel,function(){r()}),o.$observe("equals",function(e){r()});var r=function(){var e=n.$viewValue,t=o.equals;n.$setValidity("equals",!e||!t||e===t)}}}}},n=function(){return function(e,t){return e?e.replace(/([^\W_]+[^\s-]*) */g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}):""}};angular.module("backendApp",[,"chart.js","chart.js","angular-storage","ngFileUpload","ngMaterial","data-table","ngResource","ngMessages","ui.router","backendApp.controllers","backendApp.services"]).config(t).constant("USER_ROLES",{admin:"admin",editor:"editor",editorPlus:"editorPlus",analista:"analista",lector:"lector"}).run(e).filter("capitalize",n).directive("equals",o),angular.module("backendApp.controllers",[]),angular.module("backendApp.services",[]),e.$inject=["$state","$rootScope","UserService","AuthService"],t.$inject=["$mdThemingProvider"]}(),function(){"use strict";function e(e,t,o,n){o.interceptors.push("APIInterceptor"),e.state("ads",{url:"/promos/:id",controller:"AdListController",controllerAs:"vm",templateUrl:"partials/promos/list.html",data:{authorizedRoles:[t.admin,t.editorPlus]}}).state("canciones",{url:"/canciones/:id",controller:"CancionListController",controllerAs:"vm",templateUrl:"partials/canciones/list.html",data:{authorizedRoles:[t.admin,t.editor,t.editorPlus]}}).state("categorias",{url:"/categorias/:id",controller:"CategoriaListController",controllerAs:"vm",templateUrl:"partials/categorias/list.html",data:{authorizedRoles:[t.admin,t.editor,t.editorPlus]}}).state("cuentos",{url:"/cuentos/:id",controller:"CuentoController",controllerAs:"vm",templateUrl:"partials/cuentos/list.html",data:{authorizedRoles:[t.admin,t.editor,t.editorPlus]}}).state("comentarios",{url:"/comentarios/:id",controller:"ComentarioController",controllerAs:"vm",templateUrl:"partials/comentarios/list.html",data:{authorizedRoles:[t.admin,t.editor,t.editorPlus]}}).state("discos",{url:"/discos/:id",controller:"DiscoListController",controllerAs:"vm",templateUrl:"partials/discos/list.html",data:{authorizedRoles:[t.admin,t.editor,t.editorPlus]}}).state("eventos",{url:"/eventos",controller:"EventoListController",controllerAs:"vm",templateUrl:"partials/eventos/list.html",data:{authorizedRoles:[t.admin,t.editor,t.editorPlus]}}).state("noticias",{url:"/noticias",controller:"NoticiaListController",controllerAs:"vm",templateUrl:"partials/noticias/list.html",data:{authorizedRoles:[t.admin,t.editor,t.editorPlus]}}).state("videos",{url:"/videos",controller:"VideoListController",controllerAs:"vm",templateUrl:"partials/videos/list.html",data:{authorizedRoles:[t.admin,t.editor,t.editorPlus]}}).state("users",{url:"/users",controller:"UserListController",controllerAs:"vm",templateUrl:"partials/users/list.html",data:{authorizedRoles:[t.admin]}}).state("siteusers",{url:"/siteusers",controller:"SiteUserListController",controllerAs:"vm",templateUrl:"partials/siteUsers/list.html",data:{authorizedRoles:[t.admin]}}).state("integrantes",{url:"/integrantes/:id",controller:"IntegranteListController",controllerAs:"vm",templateUrl:"partials/integrantes/list.html",data:{authorizedRoles:[t.admin]}}).state("login",{url:"/login",controller:"LoginController",controllerAs:"vm",templateUrl:"partials/login.html"}).state("analytics",{url:"/analytics",controller:"AnalyticsController",controllerAs:"vm",templateUrl:"partials/analytics.html"})}angular.module("backendApp").config(e),e.$inject=["$stateProvider","USER_ROLES","$httpProvider","$provide"]}(),function(){"use strict";angular.module("backendApp.services").factory("Ad",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/ads/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("Cancion",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/canciones/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("Categoria",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/categorias/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("Comentario",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/comentarios/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("Cuento",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/cuentos/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("Disco",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/discos/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("Evento",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/eventos/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("Integrante",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/integrantes/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("User",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/users/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("SiteUser",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/siteusers/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("Noticia",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/noticias/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("Video",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/videos/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("Tag",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/tags/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("AuthService",["$rootScope","$http","UserService",function(e,t,o){function n(t){var n=t.data;console.log("new user data",n),n.error?alert("BAD LOGIN"):n.access_token&&(o.setCurrentUser(n),e.$broadcast("authorized"))}var r={};return r.login=function(o){var r=t.post(e.server_url+"/api/login",o);return r.then(n,function(){e.$broadcast("unauthorized")}),r},r.logout=function(){t.post(e.server_url+"/api/logout");e.$broadcast("unauthorized")},r.refresh=function(){var r=o.getCurrentUser();if(r){var i=t.post(e.server_url+"/api/refresh",r.access_token);return i.then(n,function(){e.$broadcast("unauthorized")}),i}},r.isAuthenticated=function(){return null!=o.getCurrentUser()},r.isAuthorized=function(e){return angular.isArray(e)||(e=[e]),r.isAuthenticated()&&-1!==e.indexOf(o.getCurrentUser().role.toLowerCase())},r}]),angular.module("backendApp.services").service("UserService",["store",function(e){var t=this,o=null;t.setCurrentUser=function(t){return o=t,e.set("user-backend",t),o},t.getCurrentUser=function(){return o||(o=e.get("user-backend")),o}}]),angular.module("backendApp.services").service("APIInterceptor",["$rootScope","UserService",function(e,t){var o=this;o.request=function(e){var o=t.getCurrentUser(),n=o?o.access_token:null;return n&&(e.headers.Authorization=n),e},o.responseError=function(t){return 401===t.status&&e.$broadcast("unauthorized"),t}}])}(),function(){"use strict";function e(e){}angular.module("backendApp.controllers").controller("AnalyticsController",e),e.$inject=["Ad"]}(),function(){"use strict";angular.module("backendApp.controllers").controller("HeaderController",["$scope","$mdSidenav","$rootScope",function(e,t,o){e.openLeftMenu=function(){t("side-nav").toggle()},o.$on("$stateChangeSuccess",function(t,o,n,r,i){e.state=o})}])}(),function(){"use strict";angular.module("backendApp.controllers").controller("LoginController",["$scope","$rootScope","AuthService","$state",function(e,t,o,n){e.credentials={email:"",password:""},e.login=function(t){o.login(t).then(function(t){var o=t.data;o.error?e.form.$isValid=!1:n.go("noticias")})},e.register=function(){LoginService.register(e.newUser).then(function(t){e.login(e.newUser)})},e.newUser=null}])}(),function(){"use strict";angular.module("backendApp.controllers").controller("MainCtrl",["$scope","$rootScope","$state","AuthService","UserService",function(e,t,o,n,r){function i(e,t,o){o<e.length&&o>=0?e[o]=t:e.push(t)}var s=this;e.isAuthorized=n.isAuthorized,t.$on("authorized",function(){s.currentUser=r.getCurrentUser()}),t.$on("unauthorized",function(){s.currentUser=r.setCurrentUser(null),o.go("login")}),t.addOrUpdateList=i,s.logout=n.logout,s.currentUser=r.getCurrentUser()}])}(),function(){"use strict";angular.module("backendApp.controllers").controller("MenuController",["$scope","USER_ROLES",function(e,t){e.menu=[{link:"ads",title:"Ads",icon:"add_shopping_cart",roles:[t.admin,t.editorPlus]},{link:"canciones",title:"Canciones",icon:"music_note",roles:[t.admin,t.editor,t.editorPlus]},{link:"categorias",title:"Categorias",icon:"filter_list",roles:[t.admin,t.editor,t.editorPlus]},{link:"comentarios",title:"Comentarios",icon:"book",roles:[t.admin,t.editor,t.editorPlus]},{link:"cuentos",title:"Cuentos",icon:"book",roles:[t.admin,t.editor,t.editorPlus]},{link:"discos",title:"Discos",icon:"library_music",roles:[t.admin,t.editor,t.editorPlus]},{link:"eventos",title:"Eventos",icon:"event",roles:[t.admin,t.editor,t.editorPlus]},{link:"integrantes",title:"Integrantes",icon:"account_circle",roles:[t.admin]},{link:"noticias",title:"Noticias",icon:"new_releases",roles:[t.admin,t.editor,t.editorPlus]},{link:"videos",title:"Videos",icon:"video_library",roles:[t.admin,t.editor,t.editorPlus]},{link:"users",title:"Usuarios",icon:"account_circle",roles:[t.admin]},{link:"siteusers",title:"Usuarios sitio",icon:"account_circle",roles:[t.admin]}]}])}(),function(){"use strict";function e(e,t,o,n,r,i,s){function a(){return p.attempted=!0,e.form.$valid?(console.log("isValid"),p.submitting=!0,console.log(p.fileChanged),void(p.fileChanged?c():p.edit?u():d())):!1}function l(){p.fileChanged=!0}function c(){console.log("upload"),s.upload({url:t.upload_url,file:p.cancion.audio_source}).progress(function(e){p.progress=parseInt(100*e.loaded/e.total)}).success(function(e,t,o,n){p.cancion.audio_source=e.url,p.fileChanged=!0,p.progress=0,p.edit?u():d()}).error(function(e,t,n,r){o.show(o.simple().content(e.error).theme("error-toast")),p.submitting=!1,p.progress=0})}function d(){r.save(p.cancion).$promise.then(function(e,t,r){console.log(t),console.log(r),e.error?o.show(o.simple().content(e.error).theme("error-toast")):(n.hide(e),o.show(o.simple().content("Nueva cancion guardado"))),p.submitting=!1})}function u(){r.update({id:p.cancion.id},p.cancion).$promise.then(function(e){p.submitting=!1,n.hide(p.cancion)})}var p=this;p.edit=!1,p.discos=i.query(),p.progress=0,p.submitting=!1,p.fileChanged=!1,p.attempted=!1,p.submit=a,p.fileChange=l,p.hide=n.hide,void 0!=e.selectedItem?(p.cancion=e.selectedItem,p.cancion.disco&&(p.cancion.disco_id=p.cancion.disco.id),p.edit=!0):p.cancion=new r}angular.module("backendApp.controllers").controller("AddCancionController",e),e.$inject=["$scope","$rootScope","$mdToast","$mdDialog","Cancion","Disco","Upload"]}(),function(){"use strict";function e(e,t,o,n,r,i,s){function a(){i.id&&o.get({id:i.id}).$promise.then(function(e){u(e)})}function l(t){n.show({controller:"AddCancionController",controllerAs:"vm",templateUrl:"partials/canciones/add.html",parent:angular.element(document.body),targetEvent:t}).then(function(t){1!=t&&e.addOrUpdateList(p.canciones,t)})}function c(e,t){t.preventDefault(),t.stopPropagation();var i=n.confirm().content("Esta seguro que desea borrar este elemento").ok("Borrar").cancel("Cancelar").targetEvent(t);n.show(i).then(function(){o["delete"]({id:e.id}).$promise.then(function(t){if(t.error)r.show(r.simple().content(t.error).theme("error-toast"));else{r.show(r.simple().content(t.message));var o=p.canciones.indexOf(e);p.canciones.splice(o,1)}})})}function d(e){s.go("canciones",{id:e.id},{notify:!1}),u(e)}function u(o){t.selectedItem=angular.copy(o);var r=p.canciones.indexOf(o);n.show({controller:"AddCancionController",controllerAs:"vm",templateUrl:"partials/canciones/add.html",parent:angular.element(document.body),scope:t.$new()}).then(function(t){1!=t&&e.addOrUpdateList(p.canciones,t,r),s.go("canciones",{id:""},{notify:!1})})}var p=this;p.canciones=o.query(),p.options={rowHeight:50,footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},p.showAdd=l,p["delete"]=c,p.showEdit=d,p.hide=n.cancel,a()}angular.module("backendApp.controllers").controller("CancionListController",e),e.$inject=["$rootScope","$scope","Cancion","$mdDialog","$mdToast","$stateParams","$state"]}(),function(){"use strict";function e(e,t,o,n){function r(){void 0!=e.selectedItem?(l.categoria=e.selectedItem,l.edit=!0):l.categoria=new n}function i(){return l.attempted=!0,e.form.$valid?void(l.edit?a():s()):!1}function s(){n.save(l.categoria).$promise.then(function(e){e.error?t.show(t.simple().content(e.error).theme("error-toast")):(o.hide(e),t.show(t.simple().content("Nuevo ad guardado"))),l.submitting=!1})}function a(){n.update({id:l.categoria.id},l.categoria).$promise.then(function(e){l.submitting=!1,o.hide(l.categoria)})}var l=this;l.categoria=null,l.edit=!1,l.hide=o.hide,l.submitting=!1,l.attempted=!1,l.submit=i,r()}angular.module("backendApp.controllers").controller("AddCategoriaController",e),e.$inject=["$scope","$mdToast","$mdDialog","Categoria"]}(),function(){"use strict";function e(e,t,o,n,r,i,s){function a(){s.id&&e.get({id:s.id}).$promise.then(function(e){u(e)})}function l(e){i.go("categorias",{id:e.id},{notify:!1}),u(e)}function c(e){n.show({controller:"AddCategoriaController",controllerAs:"vm",templateUrl:"partials/categorias/add.html",parent:angular.element(document.body),targetEvent:e}).then(function(e){void 0!==e&&p.categorias.push(e)})}function d(t,o){o.preventDefault(),o.stopPropagation();var i=n.confirm().content("Esta seguro que desea borrar este elemento").ok("Borrar").cancel("Cancelar").targetEvent(o);n.show(i).then(function(){e["delete"]({id:t.id}).$promise.then(function(e){if(e.error)r.show(r.simple().content(e.error).theme("error-toast"));else{r.show(r.simple().content(e.message));var o=p.categorias.indexOf(t);p.categorias.splice(o,1)}})})}function u(e){o.selectedItem=e;var r=p.categorias.indexOf(e);n.show({controller:"AddCategoriaController",controllerAs:"vm",templateUrl:"partials/categorias/add.html",parent:angular.element(document.body),scope:o.$new()}).then(function(e){console.log("back",e),1!=e&&t.addOrUpdateList(p.categorias,e,r),i.go("categorias",{id:""},{notify:!1})})}var p=this;p.categorias=e.query(),p.options={rowHeight:50,footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},p.showAdd=c,p["delete"]=d,p.showEdit=l,a()}angular.module("backendApp.controllers").controller("CategoriaListController",e),e.$inject=["Categoria","$rootScope","$scope","$mdDialog","$mdToast","$state","$stateParams"]}(),function(){"use strict";angular.module("backendApp.controllers").controller("ComentarioController",["$scope","Comentario","$mdDialog","$mdToast",function(e,t,o,n){function r(e,t){e.comentario=e.selectedItem,console.log("INIT",e.comentario)}var i;t.query().$promise.then(function(t){e.comentarios=i=t,e.filter()}),e.hide=o.hide,e.options={rowHeight:"auto",footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},e.filters={aprobados:!1,pendientes:!0,rechazados:!1},e.filter=function(t){i&&(e.filters.aprobados||e.filters.pendientes||e.filters.rechazados?e.comentarios=i.filter(function(t){var o=t.aprobado,n=!1;switch(o){case 1:n=e.filters.aprobados;break;case 0:n=e.filters.rechazados;break;case-1:n=e.filters.pendientes}return n}):e.comentarios=[])},e.$watch("filters",e.filter,!0),e["delete"]=function(o,r){r.preventDefault(),r.stopPropagation(),t["delete"]({id:o.id}).$promise.then(function(t){if(t.error)n.show(n.simple().content(t.error).theme("error-toast"));else{n.show(n.simple().content(t.message));var r=e.comentarios.indexOf(o);e.comentarios.splice(r,1),i.splice(r,1)}})},e.approve=function(n,r,i){i.preventDefault(),i.stopPropagation(),o.hide(),console.log("aprobar",n),n.aprobado=r?1:0,e.filter(),e.submitting=!0,t.update({id:n.id},n).$promise.then(function(t){e.submitting=!1,o.hide(n)})},e.showEdit=function(t){e.selectedItem=t,o.show({templateUrl:"partials/comentarios/add.html",parent:angular.element(document.body),scope:e.$new(),controller:r})},r.$inject=["$scope","$mdDialog"]}])}(),function(){"use strict";angular.module("backendApp.controllers").controller("CuentoController",["$scope","Cuento","$mdDialog","$mdToast",function(e,t,o,n){function r(r,i){i.preventDefault(),i.stopPropagation();var s=o.confirm().content("Esta seguro que desea borrar este elemento").ok("Borrar").cancel("Cancelar").targetEvent(i);o.show(s).then(function(){t["delete"]({id:r.id}).$promise.then(function(t){if(t.error)n.show(n.simple().content(t.error).theme("error-toast"));else{n.show(n.simple().content(t.message));var o=e.cuentos.indexOf(r);e.cuentos.splice(o,1)}})})}function i(e,t){console.log("INIT"),e.cuento=e.selectedItem}var s;t.query().$promise.then(function(t){e.cuentos=s=t,console.log(e.cuentos)}),e.hide=o.hide,e.options={rowHeight:"auto",footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},e.filters={aprobados:!1,pendientes:!1,rechazados:!1},e.filter=function(t){console.log("filtering"),s&&(e.filters.aprobados||e.filters.pendientes||e.filters.rechazados?e.cuentos=s.filter(function(t){var o=t.aprobado;switch(o){case 1:var n=e.filters.aprobados;break;case 0:var n=e.filters.rechazados;break;case-1:var n=e.filters.pendientes}return n}):e.cuentos=s,console.log(e.cuentos))},e.$watch("filters",e.filter,!0),e["delete"]=r,e.approve=function(n,r,i){i.preventDefault(),i.stopPropagation(),o.hide(),console.log("aprobar",n),n.aprobado=r?1:0,e.filter(),e.submitting=!0,t.update({id:n.id},n).$promise.then(function(t){e.submitting=!1,o.hide(n)})},e.showEdit=function(t){e.selectedItem=t,o.show({templateUrl:"partials/cuentos/add.html",parent:angular.element(document.body),scope:e.$new(),controller:i})},i.$inject=["$scope","$mdDialog"]}])}(),function(){"use strict";function e(e,t,o,n,r,i){function s(){void 0!=t.selectedItem?(u.disco=t.selectedItem,u.edit=!0):u.disco=new r}function a(){return u.attempted=!0,t.form.$valid?(u.submitting=!0,console.log("fileChanged",u.fileChanged),void(u.fileChanged?c():u.edit?d():l())):!1}function l(){u.disco.$save(function(e){n.hide(u.disco),u.submitting=!1,o.show(o.simple().content("Nuevo disco guardado"))},function(e){o.show(o.simple().content(e.data.error).theme("error-toast")),u.submitting=!1})}function c(){u.submitting=!0,i.upload({url:e.upload_url,file:u.disco.cover_img}).progress(function(e){u.progress=parseInt(100*e.loaded/e.total)}).success(function(e,t,o,n){u.disco.cover_img=e.url,u.fileChanged=!0,u.progress=0,u.edit?d():l()}).error(function(e,t,n,r){o.show(o.simple().content(e.error).theme("error-toast")),u.submitting=!1,u.progress=0})}function d(){r.update({id:u.disco.id},u.disco).$promise.then(function(e){u.submitting=!1,n.hide(u.disco)})}var u=this;u.hide=n.hide,u.edit=!1,u.disco=null,u.submitting=!1,u.attempted=!1,u.progress=0,u.fileChanged=!1,u.fileChange=function(){u.fileChanged=!0},u.submit=a,s()}angular.module("backendApp.controllers").controller("AddDiscoController",e),e.$inject=["$rootScope","$scope","$mdToast","$mdDialog","Disco","Upload"]}(),function(){"use strict";function e(e,t,o,n,r,i,s){function a(){s.id&&n.get({id:s.id}).$promise.then(function(e){u(e)})}function l(e){o.go("discos",{id:e.id},{notify:!1}),u(e)}function c(e){r.show({controller:"AddDiscoController",controllerAs:"vm",templateUrl:"partials/discos/add.html",parent:angular.element(document.body),targetEvent:e}).then(function(e){void 0!==e&&p.discos.push(e)})}function d(e,t){t.preventDefault(),t.stopPropagation();var o=r.confirm().content("Esta seguro que desea borrar este elemento").ok("Borrar").cancel("Cancelar").targetEvent(t);r.show(o).then(function(){Noticia["delete"]({id:e.id}).$promise.then(function(t){if(t.error)i.show(i.simple().content(t.error).theme("error-toast"));else{i.show(i.simple().content(t.message));var o=p.discos.indexOf(e);p.discos.splice(o,1)}})})}function u(n){e.selectedItem=n;var i=p.discos.indexOf(n);r.show({controller:"AddDiscoController",controllerAs:"vm",templateUrl:"partials/discos/add.html",parent:angular.element(document.body),scope:e.$new()}).then(function(e){1!=e&&t.addOrUpdateList(p.discos,e,i),o.go("discos",{id:""},{notify:!1})})}var p=this;p.discos=n.query(),p.options={rowHeight:50,footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},p.showAdd=c,p["delete"]=d,p.showEdit=l,a()}angular.module("backendApp.controllers").controller("DiscoListController",e),e.$inject=["$scope","$rootScope","$state","Disco","$mdDialog","$mdToast","$stateParams"]}(),function(){"use strict";angular.module("backendApp.controllers").controller("EventoListController",["$scope","Evento","$mdDialog","$mdToast",function(e,t,o,n){e.eventos=t.query(),e.options={rowHeight:50,footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},e.showAdd=function(t){o.show({controller:"AddEventoController",templateUrl:"partials/eventos/add.html",parent:angular.element(document.body),targetEvent:t}).then(function(t){void 0!==t&&(t.fecha=new Date(t.fecha),e.eventos.push(t))})},e["delete"]=function(o,r){r.preventDefault(),r.stopPropagation(),t["delete"]({id:o.id}).$promise.then(function(t){if(t.error)n.show(n.simple().content(t.error).theme("error-toast"));else{n.show(n.simple().content(t.message));var r=e.eventos.indexOf(o);e.eventos.splice(r,1)}})},e.showEdit=function(t){e.selectedItem=t,o.show({controller:"AddEventoController",templateUrl:"partials/eventos/add.html",parent:angular.element(document.body),scope:e.$new()})}}]),angular.module("backendApp.controllers").controller("AddEventoController",["$rootScope","$scope","$mdToast","$mdDialog","Evento","Upload",function(e,t,o,n,r,i){function s(){t.evento.$save(function(e){n.hide(t.evento),t.submitting=!1,o.show(o.simple().content("Nuevo evento guardado"))},function(e){o.show(o.simple().content(e.data.error).theme("error-toast")),t.submitting=!1})}function a(){t.submitting=!0,i.upload({url:e.upload_url,file:t.evento.imagen}).progress(function(e){t.progress=parseInt(100*e.loaded/e.total)}).success(function(e,o,n,r){t.evento.imagen=e.url,t.fileChanged=!0,t.progress=0,t.edit?l():s()}).error(function(e,n,r,i){o.show(o.simple().content(e.error).theme("error-toast")),t.submitting=!1,t.progress=0})}function l(){r.update({id:t.evento.id},t.evento).$promise.then(function(e){t.submitting=!1,n.hide(t.evento)})}void 0!=t.selectedItem?(t.evento=t.selectedItem,t.evento.fecha=new Date(t.evento.fecha),t.edit=!0):t.evento=new r,t.hide=function(){n.hide()},t.submitting=!1,t.attempted=!1,t.submit=function(){return t.attempted=!0,t.form.$valid?void(t.fileChanged?a():t.edit?l():s()):!1},t.progress=0,t.fileChanged=!1,t.fileChange=function(){t.fileChanged=!0}}])}(),function(){"use strict";angular.module("backendApp.controllers").controller("EventoListController",["$scope","Evento","$mdDialog","$mdToast",function(e,t,o,n){function r(r,i){i.preventDefault(),i.stopPropagation();var s=o.confirm().content("Esta seguro que desea borrar este elemento").ok("Borrar").cancel("Cancelar").targetEvent(i);o.show(s).then(function(){t["delete"]({id:r.id}).$promise.then(function(t){if(t.error)n.show(n.simple().content(t.error).theme("error-toast"));else{n.show(n.simple().content(t.message));var o=e.eventos.indexOf(r);e.eventos.splice(o,1)}})})}e.eventos=t.query(),e.options={rowHeight:50,footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},e.showAdd=function(t){o.show({controller:"AddEventoController",templateUrl:"partials/eventos/add.html",parent:angular.element(document.body),targetEvent:t}).then(function(t){void 0!==t&&(t.fecha=new Date(t.fecha),e.eventos.push(t))})},e["delete"]=r,e.showEdit=function(t){e.selectedItem=t,o.show({controller:"AddEventoController",templateUrl:"partials/eventos/add.html",parent:angular.element(document.body),scope:e.$new()})}}]),angular.module("backendApp.controllers").controller("AddEventoController",["$rootScope","$scope","$mdToast","$mdDialog","Evento","Upload",function(e,t,o,n,r,i){function s(){t.evento.$save(function(e){n.hide(t.evento),t.submitting=!1,o.show(o.simple().content("Nuevo evento guardado"))},function(e){o.show(o.simple().content(e.data.error).theme("error-toast")),t.submitting=!1})}function a(){t.submitting=!0,i.upload({url:e.upload_url,file:t.evento.imagen}).progress(function(e){t.progress=parseInt(100*e.loaded/e.total)}).success(function(e,o,n,r){t.evento.imagen=e.url,t.fileChanged=!0,t.progress=0,t.edit?l():s()}).error(function(e,n,r,i){o.show(o.simple().content(e.error).theme("error-toast")),t.submitting=!1,t.progress=0})}function l(){r.update({id:t.evento.id},t.evento).$promise.then(function(e){t.submitting=!1,n.hide(t.evento)})}void 0!=t.selectedItem?(t.evento=t.selectedItem,t.evento.fecha=new Date(t.evento.fecha),t.edit=!0):t.evento=new r,t.hide=function(){n.hide()},t.submitting=!1,t.attempted=!1,t.submit=function(){return t.attempted=!0,t.form.$valid?void(t.fileChanged?a():t.edit?l():s()):!1},t.progress=0,t.fileChanged=!1,t.fileChange=function(){t.fileChanged=!0}}])}(),function(){"use strict";function e(e,t,o,n,r,i,s){function a(){return p.attempted=!0,p.submitting=!0,e.form.$valid?void(p.fileChanged?c():p.edit?u():d()):!1}function l(){p.fileChanged=!0}function c(){s.upload({url:t.upload_url,file:p.integrante.imagen}).progress(function(e){p.progress=parseInt(100*e.loaded/e.total)}).success(function(e,t,o,n){p.integrante.imagen=e.url,p.fileChanged=!0,p.progress=0,p.edit?u():d()}).error(function(e,t,n,r){o.show(o.simple().content(e.error).theme("error-toast")),p.submitting=!1,p.progress=0})}function d(){r.save(p.integrante).$promise.then(function(e,t,r){console.log(t),console.log(r),e.error?o.show(o.simple().content(e.error).theme("error-toast")):(n.hide(e),o.show(o.simple().content("Nueva integrante guardado"))),p.submitting=!1})}function u(){r.update({id:p.integrante.id},p.integrante).$promise.then(function(e){p.submitting=!1,n.hide(p.integrante)})}var p=this;p.edit=!1,p.discos=i.query(),p.progress=0,p.submitting=!1,p.fileChanged=!1,p.attempted=!1,p.submit=a,p.fileChange=l,p.hide=n.hide,void 0!=e.selectedItem?(p.integrante=e.selectedItem,p.edit=!0):p.integrante=new r}angular.module("backendApp.controllers").controller("AddIntegranteController",e),e.$inject=["$scope","$rootScope","$mdToast","$mdDialog","Integrante","Disco","Upload"]}(),function(){"use strict";function e(e,t,o,n,r,i,s){function a(){i.id&&o.get({id:i.id}).$promise.then(function(e){u(e)})}function l(t){n.show({controller:"AddIntegranteController",controllerAs:"vm",templateUrl:"partials/integrantes/add.html",parent:angular.element(document.body),targetEvent:t}).then(function(t){1!=t&&e.addOrUpdateList(p.integrantes,t)})}function c(e,t){t.preventDefault(),t.stopPropagation();var i=n.confirm().content("Esta seguro que desea borrar este elemento").ok("Borrar").cancel("Cancelar").targetEvent(t);n.show(i).then(function(){o["delete"]({id:e.id}).$promise.then(function(t){if(t.error)r.show(r.simple().content(t.error).theme("error-toast"));else{r.show(r.simple().content(t.message));var o=p.integrantes.indexOf(e);p.integrantes.splice(o,1)}})})}function d(e){s.go("integrantes",{id:e.id},{notify:!1}),u(e)}function u(o){t.selectedItem=angular.copy(o);var r=p.integrantes.indexOf(o);n.show({controller:"AddIntegranteController",controllerAs:"vm",templateUrl:"partials/integrantes/add.html",parent:angular.element(document.body),scope:t.$new()}).then(function(t){1!=t&&e.addOrUpdateList(p.integrantes,t,r),s.go("integrantes",{id:""},{notify:!1})})}var p=this;p.integrantes=o.query(),p.options={rowHeight:50,footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},p.showAdd=l,p["delete"]=c,p.showEdit=d,p.hide=n.cancel,a()}angular.module("backendApp.controllers").controller("IntegranteListController",e),e.$inject=["$rootScope","$scope","Integrante","$mdDialog","$mdToast","$stateParams","$state"]}(),function(){"use strict";angular.module("backendApp.controllers").controller("AddNoticiaController",["$rootScope","$scope","$mdToast","$mdDialog","Noticia","Categoria","Video","Cancion","Ad","Upload","Tag",function(e,t,o,n,r,i,s,a,l,c,d){function u(){t.noticia.$save(function(e){n.hide(t.noticia),t.submitting=!1,o.show(o.simple().content("Nueva noticia guardada"))},function(e){o.show(o.simple().content(e.data.error).theme("error-toast")),t.submitting=!1})}function p(){t.submitting=!0,c.upload({url:e.upload_url,file:t.noticia.imagen}).progress(function(e){t.progress=parseInt(100*e.loaded/e.total)}).success(function(e,o,n,r){t.noticia.imagen=e.url,t.fileChanged=!0,t.progress=0,t.edit?m():u()}).error(function(e,n,r,i){o.show(o.simple().content(e.error).theme("error-toast")),t.submitting=!1,t.progress=0})}function m(){r.update({id:t.noticia.id},t.noticia).$promise.then(function(e){t.submitting=!1,t.noticia=e,t.noticia.fecha=new Date(t.noticia.fecha),t.noticia.categorias&&t.noticia.categorias.length>0&&(t.noticia.categoria_id=t.noticia.categorias[0].id),t.noticia.video&&(t.noticia.video_id=t.noticia.video.id),t.noticia.cancion&&(t.noticia.cancion_id=t.noticia.cancion.id),n.hide(e)})}function f(e){var o=e?t.tags.then(function(t){return t.filter(g(e))}):[];return o}function g(e){var t=angular.lowercase(e);return function(e){return 0===e.nombre.toLowerCase().indexOf(t)}}function h(){return d.query().$promise.then(function(e){return e})}void 0!=t.selectedItem?(t.noticia=t.selectedItem,t.noticia.fecha=new Date(t.noticia.fecha),t.noticia.categoria_id=t.noticia.categorias[0].id,t.noticia.video_id=t.noticia.video.id,t.noticia.cancion_id=t.noticia.cancion.id,t.edit=!0,t.noticia.noticiaads[0]||(t.noticia.noticiaads[0]={ad_id:0}),t.noticia.noticiaads[1]||(t.noticia.noticiaads[1]={ad_id:0})):(t.noticia=new r,t.noticia.tags=[],t.noticia.noticiaads=[],t.noticia.noticiaads[0]={ad_id:0},t.noticia.noticiaads[1]={ad_id:0}),console.log(t.noticia),t.categorias=i.query(),t.videos=s.query(),t.canciones=a.query(),t.ads=l.query(),t.tags=d.query(),t.posiciones=new Array(6),t.hide=function(){n.hide()},t.filterSize=function(e){var t=["970x90","728x90"],o=t.indexOf(e.size)>-1;return o},t.submitting=!1,t.attempted=!1,t.submit=function(){return t.attempted=!0,t.form.$valid?void(t.fileChanged?p():t.edit?m():u()):!1},t.progress=0,t.fileChanged=!1,t.fileChange=function(){t.fileChanged=!0},t.searchText=null,t.querySearch=f,t.tags=h(),t.selectedTags=[],t.numberChips=[],t.numberChips2=[],t.numberBuffer="",t.newTag=function(e){if(e.nombre)return e;var t={nombre:e};return t}}])}(),function(){"use strict";angular.module("backendApp.controllers").controller("NoticiaListController",["$rootScope","$scope","Noticia","$mdDialog","$mdToast","$state",function(e,t,o,n,r,i){
function s(e,i){i.preventDefault(),i.stopPropagation();var s=n.confirm().content("Esta seguro que desea borrar este elemento").ok("Borrar").cancel("Cancelar").targetEvent(i);n.show(s).then(function(){o["delete"]({id:e.id}).$promise.then(function(o){if(o.error)r.show(r.simple().content(o.error).theme("error-toast"));else{r.show(r.simple().content(o.message));var n=t.noticias.indexOf(e);t.noticias.splice(n,1)}})})}t.noticias=o.query(),t.options={rowHeight:50,footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},t.showAdd=function(o){n.show({controller:"AddNoticiaController",templateUrl:"partials/noticias/add.html",parent:angular.element(document.body),targetEvent:o}).then(function(o){1!=o&&e.addOrUpdateList(t.noticias,o)})},t["delete"]=s,t.showEdit=function(o){t.selectedItem=angular.copy(o);var r=t.noticias.indexOf(o);n.show({controller:"AddNoticiaController",templateUrl:"partials/noticias/add.html",parent:angular.element(document.body),scope:t.$new()}).then(function(o){1!=o&&e.addOrUpdateList(t.noticias,o,r),i.go("noticias",{id:""},{notify:!1})})}}])}(),function(){"use strict";function e(e,t,o,n,r,i){function s(){c.ad.$save(function(e){n.hide(c.ad),c.submitting=!1,o.show(o.simple().content("Nuevo ad guardado"))},function(e){o.show(o.simple().content(e.data.error).theme("error-toast")),c.submitting=!1})}function a(){r.update({id:c.ad.id},c.ad).$promise.then(function(e){console.log("finished",e),c.submitting=!1,n.hide(c.ad)})}function l(){c.submitting=!0,i.upload({url:e.upload_url,file:c.ad.source}).progress(function(e){c.progress=parseInt(100*e.loaded/e.total)}).success(function(e,t,o,n){c.ad.source=e.url,c.ad.type=e.type,c.fileChanged=!1,c.progress=0,c.edit?a():s()}).error(function(e,t,n,r){o.show(o.simple().content(e.error).theme("error-toast")),c.submitting=!1,c.progress=0})}var c=this;c.edit=!1,c.submitting=!1,c.attempted=!1,c.progress=0,c.fileChanged=!1,c.sizes=["300x50","300x250","300x600","970x90","728x90","810x550"],c.posiciones=[1,2,3],c.posiciones_tamano=["(728x90)","(300x250)","(728x90)"],void 0!=t.selectedItem?(c.ad=t.selectedItem,c.edit=!0):c.ad=new r,c.hide=n.hide,c.submit=function(){return c.attempted=!0,t.adForm.$valid?(c.submitting=!0,void(c.fileChanged?l():c.edit?a():s())):!1},c.fileChange=function(){c.fileChanged=!0}}angular.module("backendApp.controllers").controller("AddAdController",e),e.$inject=["$rootScope","$scope","$mdToast","$mdDialog","Ad","Upload"]}(),function(){"use strict";function e(e,t,o,n,r,i,s){function a(){s.id&&(console.log(s),o.get({id:s.id}).$promise.then(function(e){d(e)}))}function l(e,t){t.preventDefault(),t.stopPropagation();var i=n.confirm().content("Esta seguro que desea borrar este elemento").ok("Borrar").cancel("Cancelar").targetEvent(t);n.show(i).then(function(){o["delete"]({id:e.id}).$promise.then(function(t){if(t.error)r.show(r.simple().content(t.error).theme("error-toast"));else{r.show(r.simple().content(t.message));var o=u.ads.indexOf(e);u.ads.splice(o,1)}})})}function c(e){i.go("ads",{id:e.id},{notify:!1}),d(e)}function d(r){var s=u.ads.indexOf(r);r=o.get({id:r.id},function(){u.ads[s]=r,t.selectedItem=angular.copy(r),n.show({controller:"AddAdController",controllerAs:"vm",templateUrl:"partials/promos/add.html",parent:angular.element(document.body),scope:t.$new()}).then(function(t){1!=t&&e.addOrUpdateList(u.ads,t,s),i.go("ads",{id:""},{notify:!1})})})}var u=this;u.ads=o.query(),u.showEdit=c,u.options={rowHeight:"auto",footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},u.showAdd=function(e){n.show({controller:"AddAdController",controllerAs:"vm",templateUrl:"partials/promos/add.html",parent:angular.element(document.body),targetEvent:e}).then(function(e){e!==!0&&u.ads.push(e)})},a(),u["delete"]=l}angular.module("backendApp.controllers").controller("AdListController",e),e.$inject=["$rootScope","$scope","Ad","$mdDialog","$mdToast","$state","$stateParams"]}(),function(){"use strict";function e(e,t,o,n,r,i,s){function a(){console.log("fileChange"),p.filechanged=!0}function l(){return p.attempted=!0,t.form.$valid?(p.submitting=!0,void(p.filechanged?d():p.edit?u():c())):!1}function c(){r.save(p.user,function(e){e.error?(o.show(o.simple().content(e.error).theme("error-toast")),p.submitting=!1):(n.hide(p.user),o.show(o.simple().content("Nuevo usuario guardado")))})}function d(){p.submitting=!0,i.upload({url:e.upload_url,file:p.user.imagen}).progress(function(e){p.progress=parseInt(100*e.loaded/e.total)}).success(function(e,t,o,n){p.user.imagen=e.url,p.filechanged=!0,p.progress=0,p.edit?u():c()}).error(function(e,t,n,r){o.show(o.simple().content(e.error).theme("error-toast")),p.submitting=!1,p.progress=0})}function u(){r.update({id:p.user.id},p.user).$promise.then(function(e){p.submitting=!1,n.hide(p.user)})}var p=this;void 0!=t.selectedItem?(p.user=t.selectedItem,p.edit=!0):p.user=new r,p.submitting=!1,p.attempted=!1,p.progress=0,p.filechanged=!1,p.roles={},p.roles[s.admin]="Administrador",p.roles[s.editor]="Editor",p.roles[s.editorPlus]="Editor Plus",p.roles[s.analista]="Analista",p.roles[s.lector]="Lector",p.hide=n.hide,p.submit=l,p.fileChange=a}angular.module("backendApp.controllers").controller("SiteUserController",e),e.$inject=["$rootScope","$scope","$mdToast","$mdDialog","SiteUser","Upload","USER_ROLES"]}(),function(){"use strict";angular.module("backendApp.controllers").controller("SiteUserListController",["$rootScope","$scope","SiteUser","$mdDialog","USER_ROLES","$mdToast","$state",function(e,t,o,n,r,i,s){function a(e,r){r.preventDefault(),r.stopPropagation();var s=n.confirm().content("Esta seguro que desea borrar este elemento").ok("Borrar").cancel("Cancelar").targetEvent(r);n.show(s).then(function(){o["delete"]({id:e.id}).$promise.then(function(o){if(o.error)i.show(i.simple().content(o.error).theme("error-toast"));else{i.show(i.simple().content(o.message));var n=t.siteusers.indexOf(e);t.siteusers.splice(n,1)}})})}t.siteusers=o.query(),t.options={rowHeight:50,footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},t.showAdd=function(e){n.show({controller:"SiteUserController",controllerAs:"vm",templateUrl:"partials/siteUsers/add.html",parent:angular.element(document.body),targetEvent:e}).then(function(e){void 0!==e&&t.siteusers.push(e)})},t["delete"]=a,t.showEdit=function(o){t.selectedItem=angular.copy(o);var r=t.siteusers.indexOf(o);n.show({controller:"SiteUserController",controllerAs:"vm",templateUrl:"partials/siteUsers/add.html",parent:angular.element(document.body),scope:t.$new()}).then(function(o){1!=o&&e.addOrUpdateList(t.siteusers,o,r),s.go("siteusers",{id:""},{notify:!1})})}}])}(),function(){"use strict";function e(e,t,o,n,r,i,s){function a(){console.log("fileChange"),p.filechanged=!0}function l(){return p.attempted=!0,t.form.$valid?(p.submitting=!0,void(p.filechanged?d():p.edit?u():c())):!1}function c(){r.save(p.user,function(e){e.error?(o.show(o.simple().content(e.error).theme("error-toast")),p.submitting=!1):(n.hide(p.user),o.show(o.simple().content("Nuevo usuario guardado")))})}function d(){p.submitting=!0,i.upload({url:e.upload_url,file:p.user.imagen}).progress(function(e){p.progress=parseInt(100*e.loaded/e.total)}).success(function(e,t,o,n){p.user.imagen=e.url,p.filechanged=!0,p.progress=0,p.edit?u():c()}).error(function(e,t,n,r){o.show(o.simple().content(e.error).theme("error-toast")),p.submitting=!1,p.progress=0})}function u(){r.update({id:p.user.id},p.user).$promise.then(function(e){p.submitting=!1,n.hide(p.user)})}var p=this;void 0!=t.selectedItem?(p.user=t.selectedItem,p.edit=!0):p.user=new r,p.submitting=!1,p.attempted=!1,p.progress=0,p.filechanged=!1,p.roles={},p.roles[s.admin]="Administrador",p.roles[s.editor]="Editor",p.roles[s.editorPlus]="Editor Plus",p.roles[s.analista]="Analista",p.roles[s.lector]="Lector",p.hide=n.hide,p.submit=l,p.fileChange=a}angular.module("backendApp.controllers").controller("UserController",e),e.$inject=["$rootScope","$scope","$mdToast","$mdDialog","User","Upload","USER_ROLES"]}(),function(){"use strict";angular.module("backendApp.controllers").controller("UserListController",["$rootScope","$scope","User","$mdDialog","USER_ROLES","$mdToast","$state",function(e,t,o,n,r,i,s){t.users=o.query(),t.roles={},t.roles[r.admin]="Administrador",t.roles[r.editor]="Editor",t.roles[r.editorPlus]="Editor Plus",t.roles[r.analista]="Analista",t.roles[r.lector]="Lector",t.options={rowHeight:50,footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},t.showAdd=function(e){n.show({controller:"UserController",controllerAs:"vm",templateUrl:"partials/users/add.html",parent:angular.element(document.body),targetEvent:e}).then(function(e){void 0!==e&&t.users.push(e)})},t["delete"]=function(e,n){n.preventDefault(),n.stopPropagation(),o["delete"]({id:e.id}).$promise.then(function(o){if(o.error)i.show(i.simple().content(o.error).theme("error-toast"));else{i.show(i.simple().content(o.message));var n=t.users.indexOf(e);t.users.splice(n,1)}})},t.showEdit=function(o){t.selectedItem=angular.copy(o);var r=t.users.indexOf(o);n.show({controller:"UserController",controllerAs:"vm",templateUrl:"partials/users/add.html",parent:angular.element(document.body),scope:t.$new()}).then(function(o){1!=o&&e.addOrUpdateList(t.users,o,r),s.go("users",{id:""},{notify:!1})})}}])}(),function(){"use strict";function e(e,t,o,n,r,i,s,a,l){function c(){t.video.$save(function(e){n.hide(e),t.submitting=!1,o.show(o.simple().content("Nuevo ad guardado"))},function(e){o.show(o.simple().content(e.data.error).theme("error-toast")),t.submitting=!1})}function d(){t.submitting=!0,s.upload({url:e.upload_url,file:t.video.source}).progress(function(e){t.progress=parseInt(100*e.loaded/e.total)}).success(function(e,o,n,r){t.video.source=e.url,t.video.type=e.type,t.fileChanged=!0,t.progress=0,t.edit?u():c()}).error(function(e,n,r,i){o.show(o.simple().content(e.error).theme("error-toast")),t.submitting=!1,t.progress=0})}function u(){r.update({id:t.video.id},t.video).$promise.then(function(e){t.submitting=!1,n.hide(t.video)})}t.submitting=!1,t.attempted=!1,t.progress=0,t.fileChanged=!1,t.isLink=!1,t.youtubeId="",t.ads=i.query(),void 0!=t.selectedItem?(t.video=t.selectedItem,t.video.ad&&(t.video.ad_id=t.video.ad.id),t.edit=!0,"youtube"==t.video.type?(t.isLink=!0,t.youtubeId=t.video.source):" video"==t.video.type):t.video=new r,t.submit=function(){return t.attempted=!0,t.form.$valid?void(t.fileChanged&&!t.isLink?d():t.edit?u():c()):!1},t.hide=n.hide,t.fileChange=function(){t.fileChanged=!0,t.isLink=!1},t.linkChanged=function(){t.isLink=!0,l.post(e.server_url+"/api/utils/youtube",{url:t.video.source}).success(function(e){t.youtubeId="",e.id!==!1&&(t.youtubeId=e.id,t.video.type="youtube")})},t.getYt=function(e){return a.trustAsResourceUrl("https://www.youtube.com/embed/"+e)}}angular.module("backendApp.controllers").controller("AddVideoController",e),e.$inject=["$rootScope","$scope","$mdToast","$mdDialog","Video","Ad","Upload","$sce","$http"]}(),function(){"use strict";function e(e,t,o,n,r,i){function s(e,i){i.preventDefault(),i.stopPropagation();var s=n.confirm().content("Esta seguro que desea borrar este elemento").ok("Borrar").cancel("Cancelar").targetEvent(i);n.show(s).then(function(){o["delete"]({id:e.id}).$promise.then(function(o){if(o.error)r.show(r.simple().content(o.error).theme("error-toast"));else{r.show(r.simple().content(o.message));var n=t.videos.indexOf(e);t.videos.splice(n,1)}})})}t.videos=o.query(),t.options={rowHeight:50,footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},t.showAdd=function(e){n.show({controller:"AddVideoController",templateUrl:"partials/videos/add.html",parent:angular.element(document.body),targetEvent:e}).then(function(e){void 0!==e&&t.videos.push(e)})},t["delete"]=s,t.showEdit=function(o){t.selectedItem=angular.copy(o);var r=t.videos.indexOf(o);n.show({controller:"AddVideoController",templateUrl:"partials/videos/add.html",parent:angular.element(document.body),scope:t.$new()}).then(function(o){1!=o&&e.addOrUpdateList(t.videos,o,r),i.go("videos",{id:""},{notify:!1})})}}angular.module("backendApp.controllers").controller("VideoListController",e),e.$inject=["$rootScope","$scope","Video","$mdDialog","$mdToast","$state"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFwcC5jb25jYXQuanMiLCJhcHAucm91dGVzLmpzIiwic2VydmljZXMuanMiLCJjb250cm9sbGVycy9hbmFseXRpY3NDb250cm9sbGVyLmpzIiwiY29udHJvbGxlcnMvaGVhZGVyQ29udHJvbGxlci5qcyIsImNvbnRyb2xsZXJzL2xvZ2luQ29udHJvbGxlci5qcyIsImNvbnRyb2xsZXJzL21haW5Db250cm9sbGVyLmpzIiwiY29udHJvbGxlcnMvbWVudUNvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy9jYW5jaW9uZXMvYWRkQ2FuY2lvbkNvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy9jYW5jaW9uZXMvbGlzdENhbmNpb25lc0NvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy9jYXRlZ29yaWFzL2FkZENhdGVnb3JpYUNvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy9jYXRlZ29yaWFzL2xpc3RDYXRlZ29yaWFzQ29udHJvbGxlci5qcyIsImNvbnRyb2xsZXJzL2NvbWVudGFyaW9zL2xpc3RDb21lbnRhcmlvQ3RybC5qcyIsImNvbnRyb2xsZXJzL2N1ZW50b3MvYWRkQ3VlbnRvQ29udHJvbGxlci5qcyIsImNvbnRyb2xsZXJzL2Rpc2Nvcy9hZGREaXNjb0NvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy9kaXNjb3MvbGlzdERpc2Nvc0NvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy9ldmVudG9zL2FkZEV2ZW50b0NvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy9ldmVudG9zL2xpc3RFdmVudG9zQ29udHJvbGxlci5qcyIsImNvbnRyb2xsZXJzL2ludGVncmFudGVzL2FkZEludGVncmFudGVDb250cm9sbGVyLmpzIiwiY29udHJvbGxlcnMvaW50ZWdyYW50ZXMvbGlzdEludGVncmFudGVzQ29udHJvbGxlci5qcyIsImNvbnRyb2xsZXJzL25vdGljaWFzL2FkZE5vdGljaWFDb250cm9sbGVyLmpzIiwiY29udHJvbGxlcnMvbm90aWNpYXMvbGlzdE5vdGljaWFzQ29udHJvbGxlci5qcyIsImNvbnRyb2xsZXJzL3Byb21vcy9hZGRQcm9tb0NvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy9wcm9tb3MvbGlzdFByb21vc0NvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy9zaXRlVXNlci9hZGRTaXRlVXNlckNvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy9zaXRlVXNlci9saXN0U2l0ZVVzZXJDb250cm9sbGVycy5qcyIsImNvbnRyb2xsZXJzL3VzZXJzL2FkZFVzZXJDb250cm9sbGVyLmpzIiwiY29udHJvbGxlcnMvdXNlcnMvbGlzdFVzZXJzQ29udHJvbGxlcnMuanMiLCJjb250cm9sbGVycy92aWRlb3MvYWRkVmlkZW9Db250cm9sbGVyLmpzIiwiY29udHJvbGxlcnMvdmlkZW9zL2xpc3RWaWRlb3NDb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImFwcFJ1biIsIiRzdGF0ZSIsIiRyb290U2NvcGUiLCJVc2VyU2VydmljZSIsIkF1dGhTZXJ2aWNlIiwid2luZG93IiwibG9jYXRpb24iLCJvcmlnaW4iLCJzZXJ2ZXJfdXJsIiwidXBsb2FkX3VybCIsImlzVHlwZSIsInR5cGUiLCJzdHJUeXBlIiwiZmlsZSIsInVuZGVmaW5lZCIsImluZGV4T2YiLCJpc0F1dGhlbnRpY2F0ZWQiLCJyZWZyZXNoIiwidGhlbiIsInJlc3BvbnNlIiwiY29uc29sZSIsImxvZyIsImdvIiwiJG9uIiwiZXZlbnQiLCJuZXh0IiwiZGF0YSIsImF1dGhvcml6ZWRSb2xlcyIsImlzQXV0aG9yaXplZCIsInByZXZlbnREZWZhdWx0IiwiJGJyb2FkY2FzdCIsInRoZW1lQ29uZmlnIiwiJG1kVGhlbWluZ1Byb3ZpZGVyIiwiY3VzdG9tQmx1ZU1hcCIsImV4dGVuZFBhbGV0dGUiLCJjb250cmFzdERlZmF1bHRDb2xvciIsImNvbnRyYXN0RGFya0NvbG9ycyIsIjUwIiwiZGVmaW5lUGFsZXR0ZSIsInRoZW1lIiwicHJpbWFyeVBhbGV0dGUiLCJkZWZhdWx0IiwiaHVlLTEiLCJhY2NlbnRQYWxldHRlIiwiZXF1YWxzRGlyZWN0aXZlIiwicmVzdHJpY3QiLCJyZXF1aXJlIiwibGluayIsInNjb3BlIiwiZWxlbSIsImF0dHJzIiwibmdNb2RlbCIsIiR3YXRjaCIsInZhbGlkYXRlIiwiJG9ic2VydmUiLCJ2YWwiLCJ2YWwxIiwiJHZpZXdWYWx1ZSIsInZhbDIiLCJlcXVhbHMiLCIkc2V0VmFsaWRpdHkiLCJjYXBpdGFsaXplRmlsdGVyIiwiaW5wdXQiLCJhbGwiLCJyZXBsYWNlIiwidHh0IiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzdWJzdHIiLCJ0b0xvd2VyQ2FzZSIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCJjb25zdGFudCIsImFkbWluIiwiZWRpdG9yIiwiZWRpdG9yUGx1cyIsImFuYWxpc3RhIiwibGVjdG9yIiwicnVuIiwiZmlsdGVyIiwiZGlyZWN0aXZlIiwiJGluamVjdCIsImNvbmZpZ1JvdXRlcyIsIiRzdGF0ZVByb3ZpZGVyIiwiVVNFUl9ST0xFUyIsIiRodHRwUHJvdmlkZXIiLCIkcHJvdmlkZSIsImludGVyY2VwdG9ycyIsInB1c2giLCJzdGF0ZSIsInVybCIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJ0ZW1wbGF0ZVVybCIsImZhY3RvcnkiLCIkcmVzb3VyY2UiLCJ1cGRhdGUiLCJtZXRob2QiLCIkaHR0cCIsInN1Y2Nlc3NBdWh0aGVudGljYXRpb24iLCJlcnJvciIsImFsZXJ0IiwiYWNjZXNzX3Rva2VuIiwic2V0Q3VycmVudFVzZXIiLCJhdXRoU2VydmljZSIsImxvZ2luIiwiY3JlZGVudGlhbHMiLCJwcm9taXNlIiwicG9zdCIsImxvZ291dCIsInVzZXIiLCJnZXRDdXJyZW50VXNlciIsImlzQXJyYXkiLCJyb2xlIiwic2VydmljZSIsInN0b3JlIiwidGhpcyIsImN1cnJlbnRVc2VyIiwic2V0IiwiZ2V0IiwicmVxdWVzdCIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwicmVzcG9uc2VFcnJvciIsInN0YXR1cyIsIkFuYWx5dGljc0NvbnRyb2xsZXIiLCJBZCIsIiRzY29wZSIsIiRtZFNpZGVuYXYiLCJvcGVuTGVmdE1lbnUiLCJ0b2dnbGUiLCJ0b1N0YXRlIiwidG9QYXJhbXMiLCJmcm9tU3RhdGUiLCJmcm9tUGFyYW1zIiwiZW1haWwiLCJwYXNzd29yZCIsImZvcm0iLCIkaXNWYWxpZCIsInJlZ2lzdGVyIiwiTG9naW5TZXJ2aWNlIiwibmV3VXNlciIsImFkZE9yVXBkYXRlTGlzdCIsImFycmF5Iiwicm93IiwiaW5kZXgiLCJsZW5ndGgiLCJtYWluIiwibWVudSIsInRpdGxlIiwiaWNvbiIsInJvbGVzIiwiQWRkQ2FuY2lvbkNvbnRyb2xsZXIiLCIkbWRUb2FzdCIsIiRtZERpYWxvZyIsIkNhbmNpb24iLCJEaXNjbyIsIlVwbG9hZCIsInN1Ym1pdCIsInZtIiwiYXR0ZW1wdGVkIiwiJHZhbGlkIiwic3VibWl0dGluZyIsImZpbGVDaGFuZ2VkIiwidXBsb2FkQW5kU2F2ZSIsImVkaXQiLCJzYXZlIiwiZmlsZUNoYW5nZSIsInVwbG9hZCIsImNhbmNpb24iLCJhdWRpb19zb3VyY2UiLCJwcm9ncmVzcyIsImV2dCIsInBhcnNlSW50IiwibG9hZGVkIiwidG90YWwiLCJzdWNjZXNzIiwic2hvdyIsInNpbXBsZSIsImNvbnRlbnQiLCIkcHJvbWlzZSIsImFsZ28iLCJhbGdvMiIsImhpZGUiLCJpZCIsImRpc2NvcyIsInF1ZXJ5Iiwic2VsZWN0ZWRJdGVtIiwiZGlzY28iLCJkaXNjb19pZCIsIkNhbmNpb25MaXN0Q29udHJvbGxlciIsIiRzdGF0ZVBhcmFtcyIsImFjdGl2YXRlIiwic2hvd0VkaXQiLCJzaG93QWRkIiwiZXYiLCJwYXJlbnQiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJib2R5IiwidGFyZ2V0RXZlbnQiLCJuZXdNb2RlbCIsImNhbmNpb25lcyIsImRvRGVsZXRlIiwiJGV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwiY29uZmlybSIsIm9rIiwiY2FuY2VsIiwibWVzc2FnZSIsInNwbGljZSIsIm5hdmlnYXRlVG9JdGVtIiwibm90aWZ5IiwiY29weSIsIiRuZXciLCJlZGl0ZWQiLCJvcHRpb25zIiwicm93SGVpZ2h0IiwiZm9vdGVySGVpZ2h0IiwiaGVhZGVySGVpZ2h0Iiwic2Nyb2xsYmFyViIsInNlbGVjdGFibGUiLCJjb2x1bW5Nb2RlIiwiQWRkQ2F0ZWdvcmlhQ29udHJvbGxlciIsIkNhdGVnb3JpYSIsImNhdGVnb3JpYSIsIkNhdGVnb3JpYUxpc3RDb250cm9sbGVyIiwibmV3RXZlbnQiLCJjYXRlZ29yaWFzIiwiQ29tZW50YXJpbyIsIlNob3dDb21lbnRhcmlvQ29udHJvbGxlciIsImNvbWVudGFyaW8iLCJjb21lbnRhcmlvcyIsImZpbHRlcnMiLCJhcHJvYmFkb3MiLCJwZW5kaWVudGVzIiwicmVjaGF6YWRvcyIsIm5ld1ZhbCIsImQiLCJhcHJvYmFkbyIsInJldG9ybm8iLCJhcHByb3ZlIiwiaXNBcHByb3ZlZCIsIkN1ZW50byIsImN1ZW50b3MiLCJTaG93Q3VlbnRvQ29udHJvbGxlciIsImN1ZW50byIsIkFkZERpc2NvQ29udHJvbGxlciIsIiRzYXZlIiwiY292ZXJfaW1nIiwiRGlzY29MaXN0Q29udHJvbGxlciIsIk5vdGljaWEiLCJFdmVudG8iLCJldmVudG9zIiwiZmVjaGEiLCJEYXRlIiwiZXZlbnRvIiwiaW1hZ2VuIiwiQWRkSW50ZWdyYW50ZUNvbnRyb2xsZXIiLCJJbnRlZ3JhbnRlIiwiaW50ZWdyYW50ZSIsIkludGVncmFudGVMaXN0Q29udHJvbGxlciIsImludGVncmFudGVzIiwiVmlkZW8iLCJUYWciLCJub3RpY2lhIiwiY2F0ZWdvcmlhX2lkIiwidmlkZW8iLCJ2aWRlb19pZCIsImNhbmNpb25faWQiLCJxdWVyeVNlYXJjaCIsInJlc3VsdHMiLCJ0YWdzIiwiY3JlYXRlRmlsdGVyRm9yIiwibG93ZXJjYXNlUXVlcnkiLCJsb3dlcmNhc2UiLCJ0YWciLCJub21icmUiLCJsb2FkVGFncyIsIm5vdGljaWFhZHMiLCJhZF9pZCIsInZpZGVvcyIsImFkcyIsInBvc2ljaW9uZXMiLCJBcnJheSIsImZpbHRlclNpemUiLCJpdGVtIiwid2FudGVkU2l6ZSIsIm1hdGNoZXMiLCJzaXplIiwic2VhcmNoVGV4dCIsInNlbGVjdGVkVGFncyIsIm51bWJlckNoaXBzIiwibnVtYmVyQ2hpcHMyIiwibnVtYmVyQnVmZmVyIiwibmV3VGFnIiwiY2hpcCIsIm5vdGljaWFzIiwiQWRkQWRDb250cm9sbGVyIiwiYWQiLCJzb3VyY2UiLCJzaXplcyIsInBvc2ljaW9uZXNfdGFtYW5vIiwiYWRGb3JtIiwiQWRMaXN0Q29udHJvbGxlciIsIm5ld09iaiIsIlNpdGVVc2VyQ29udHJvbGxlciIsIlNpdGVVc2VyIiwiZmlsZWNoYW5nZWQiLCJzaXRldXNlcnMiLCJVc2VyQ29udHJvbGxlciIsIlVzZXIiLCJ1c2VycyIsIkFkZFZpZGVvQ29udHJvbGxlciIsIiRzY2UiLCJpc0xpbmsiLCJ5b3V0dWJlSWQiLCJsaW5rQ2hhbmdlZCIsImdldFl0IiwidmlkZW9JZCIsInRydXN0QXNSZXNvdXJjZVVybCIsIlZpZGVvTGlzdENvbnRyb2xsZXIiXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0EsWUFxREEsU0FBQUEsR0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQSxPQUFBQyxPQUFBQyxTQUFBQyxRQUNBLElBQUEsK0JBQ0FMLEVBQUFNLFdBQUEsbUNBQ0EsTUFDQSxLQUFBLHlCQUNBLElBQUEseUJBQ0FOLEVBQUFNLFdBQUEscURBQ0EsTUFDQSxLQUFBLHNDQUNBLElBQUEsd0JBQ0FOLEVBQUFNLFdBQUEsc0NBR0FOLEVBQUFPLFdBQUFQLEVBQUFNLFdBQUEsY0FFQU4sRUFBQVEsT0FBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUVBLEdBQUFILElBQUEsQ0FNQSxPQUxBRSxJQUFBRCxFQUNBRCxHQUFBLEVBQ0FHLEdBQUFDLFFBQUFELEVBQUFGLE9BQ0FELEVBQUFHLEVBQUFGLEtBQUFJLFFBQUFKLEdBQUEsSUFFQUQsR0FHQU4sRUFBQVksa0JBR0FaLEVBQUFhLFVBQUFDLEtBQUEsU0FBQUMsR0FBQUMsUUFBQUMsSUFBQUYsS0FGQWxCLEVBQUFxQixHQUFBLFNBS0FwQixFQUFBcUIsSUFBQSxvQkFBQSxTQUFBQyxFQUFBQyxHQUNBLEdBQUFBLEVBQUFDLEtBQ0EsR0FBQUMsR0FBQUYsRUFBQUMsS0FBQUMsZUFDQUEsS0FBQXZCLEVBQUF3QixhQUFBRCxLQUNBSCxFQUFBSyxpQkFDQTNCLEVBQUE0QixXQUFBLG1CQUtBLFFBQUFDLEdBQUFDLEdBQ0EsR0FBQUMsR0FBQUQsRUFBQUUsY0FBQSxjQUNBQyxxQkFBQSxRQUNBQyxvQkFBQSxNQUNBQyxHQUFBLFVBRUFMLEdBQUFNLGNBQUEsYUFBQUwsR0FDQUQsRUFBQU8sTUFBQSxXQUFBQyxlQUFBLGNBQ0FDLFVBQUEsTUFDQUMsUUFBQSxPQUNBQyxjQUFBLFFBQ0FYLEVBQUFPLE1BQUEsUUFBQSxXQUFBQyxlQUFBLFFBeEdBLEdBQUFJLEdBQUEsV0FDQSxPQUNBQyxTQUFBLElBQ0FDLFFBQUEsV0FDQUMsS0FBQSxTQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBLEdBQUFBLEVBQUEsQ0FHQUgsRUFBQUksT0FBQUYsRUFBQUMsUUFBQSxXQUNBRSxNQUlBSCxFQUFBSSxTQUFBLFNBQUEsU0FBQUMsR0FDQUYsS0FHQSxJQUFBQSxHQUFBLFdBRUEsR0FBQUcsR0FBQUwsRUFBQU0sV0FDQUMsRUFBQVIsRUFBQVMsTUFFQVIsR0FBQVMsYUFBQSxVQUFBSixJQUFBRSxHQUFBRixJQUFBRSxRQUtBRyxFQUFBLFdBQ0EsTUFBQSxVQUFBQyxFQUFBQyxHQUNBLE1BQUFELEdBQUFBLEVBQUFFLFFBQUEsc0JBQUEsU0FBQUMsR0FDQSxNQUFBQSxHQUFBQyxPQUFBLEdBQUFDLGNBQUFGLEVBQUFHLE9BQUEsR0FBQUMsZ0JBQ0EsSUFHQUMsU0FBQUMsT0FBQSxjQUFBLENBQUEsV0FBQSxXQUFBLGtCQUFBLGVBQUEsYUFBQSxhQUFBLGFBQUEsYUFBQSxZQUFBLHlCQUFBLHdCQUNBQyxPQUFBekMsR0FDQTBDLFNBQUEsY0FDQUMsTUFBQSxRQUNBQyxPQUFBLFNBQ0FDLFdBQUEsYUFDQUMsU0FBQSxXQUNBQyxPQUFBLFdBRUFDLElBQUEvRSxHQUNBZ0YsT0FBQSxhQUFBbkIsR0FDQW9CLFVBQUEsU0FBQXJDLEdBRUEwQixRQUFBQyxPQUFBLDZCQUNBRCxRQUFBQyxPQUFBLDBCQzRDSXZFLEVBQU9rRixTQUFXLFNBQVUsYUFBYyxjQUFlLGVBZXpEbkQsRUFBWW1ELFNBQVcseUJDL0czQixXQUNBLFlBSUEsU0FBQUMsR0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FFQUQsRUFBQUUsYUFBQUMsS0FBQSxrQkFFQUwsRUFBQU0sTUFBQSxPQUNBQyxJQUFBLGNBQ0FDLFdBQUEsbUJBQ0FDLGFBQUEsS0FDQUMsWUFBQSw0QkFDQXBFLE1BQ0FDLGlCQUFBMEQsRUFBQVgsTUFBQVcsRUFBQVQsZUFFQWMsTUFBQSxhQUNBQyxJQUFBLGlCQUNBQyxXQUFBLHdCQUNBQyxhQUFBLEtBQ0FDLFlBQUEsK0JBQ0FwRSxNQUNBQyxpQkFBQTBELEVBQUFYLE1BQUFXLEVBQUFWLE9BQUFVLEVBQUFULGVBRUFjLE1BQUEsY0FDQUMsSUFBQSxrQkFDQUMsV0FBQSwwQkFDQUMsYUFBQSxLQUNBQyxZQUFBLGdDQUNBcEUsTUFDQUMsaUJBQUEwRCxFQUFBWCxNQUFBVyxFQUFBVixPQUFBVSxFQUFBVCxlQUVBYyxNQUFBLFdBQ0FDLElBQUEsZUFDQUMsV0FBQSxtQkFDQUMsYUFBQSxLQUNBQyxZQUFBLDZCQUNBcEUsTUFDQUMsaUJBQUEwRCxFQUFBWCxNQUFBVyxFQUFBVixPQUFBVSxFQUFBVCxlQUVBYyxNQUFBLGVBQ0FDLElBQUEsbUJBQ0FDLFdBQUEsdUJBQ0FDLGFBQUEsS0FDQUMsWUFBQSxpQ0FDQXBFLE1BQ0FDLGlCQUFBMEQsRUFBQVgsTUFBQVcsRUFBQVYsT0FBQVUsRUFBQVQsZUFFQWMsTUFBQSxVQUNBQyxJQUFBLGNBQ0FDLFdBQUEsc0JBQ0FDLGFBQUEsS0FDQUMsWUFBQSw0QkFDQXBFLE1BQ0FDLGlCQUFBMEQsRUFBQVgsTUFBQVcsRUFBQVYsT0FBQVUsRUFBQVQsZUFFQWMsTUFBQSxXQUNBQyxJQUFBLFdBQ0FDLFdBQUEsdUJBQ0FDLGFBQUEsS0FDQUMsWUFBQSw2QkFDQXBFLE1BQ0FDLGlCQUFBMEQsRUFBQVgsTUFBQVcsRUFBQVYsT0FBQVUsRUFBQVQsZUFFQWMsTUFBQSxZQUNBQyxJQUFBLFlBQ0FDLFdBQUEsd0JBQ0FDLGFBQUEsS0FDQUMsWUFBQSw4QkFDQXBFLE1BQ0FDLGlCQUFBMEQsRUFBQVgsTUFBQVcsRUFBQVYsT0FBQVUsRUFBQVQsZUFFQWMsTUFBQSxVQUNBQyxJQUFBLFVBQ0FDLFdBQUEsc0JBQ0FDLGFBQUEsS0FDQUMsWUFBQSw0QkFDQXBFLE1BQ0FDLGlCQUFBMEQsRUFBQVgsTUFBQVcsRUFBQVYsT0FBQVUsRUFBQVQsZUFFQWMsTUFBQSxTQUNBQyxJQUFBLFNBQ0FDLFdBQUEscUJBQ0FDLGFBQUEsS0FDQUMsWUFBQSwyQkFDQXBFLE1BQ0FDLGlCQUFBMEQsRUFBQVgsVUFFQWdCLE1BQUEsYUFDQUMsSUFBQSxhQUNBQyxXQUFBLHlCQUNBQyxhQUFBLEtBQ0FDLFlBQUEsK0JBQ0FwRSxNQUNBQyxpQkFBQTBELEVBQUFYLFVBRUFnQixNQUFBLGVBQ0FDLElBQUEsbUJBQ0FDLFdBQUEsMkJBQ0FDLGFBQUEsS0FDQUMsWUFBQSxpQ0FDQXBFLE1BQ0FDLGlCQUFBMEQsRUFBQVgsVUFFQWdCLE1BQUEsU0FDQUMsSUFBQSxTQUNBQyxXQUFBLGtCQUNBQyxhQUFBLEtBQ0FDLFlBQUEsd0JBQ0FKLE1BQUEsYUFDQUMsSUFBQSxhQUNBQyxXQUFBLHNCQUNBQyxhQUFBLEtBQ0FDLFlBQUEsNEJBaEhBeEIsUUFBQUMsT0FBQSxjQUFBQyxPQUFBVyxHQUVBQSxFQUFBRCxTQUFBLGlCQUFBLGFBQUEsZ0JBQUEsZUNKQSxXQUNBLFlBV0FaLFNBQUFDLE9BQUEsdUJBQUF3QixRQUFBLE1BQUEsWUFBQSxhQUFBLFNBQUFDLEVBQUE5RixHQUNBLE1BQUE4RixHQUFBOUYsRUFBQU0sV0FBQSxlQUFBLE1BQUF5RixRQUFBQyxPQUFBLFlBR0E1QixRQUFBQyxPQUFBLHVCQUFBd0IsUUFBQSxXQUFBLFlBQUEsYUFBQSxTQUFBQyxFQUFBOUYsR0FDQSxNQUFBOEYsR0FBQTlGLEVBQUFNLFdBQUEscUJBQUEsTUFBQXlGLFFBQUFDLE9BQUEsWUFHQTVCLFFBQUFDLE9BQUEsdUJBQUF3QixRQUFBLGFBQUEsWUFBQSxhQUFBLFNBQUFDLEVBQUE5RixHQUNBLE1BQUE4RixHQUFBOUYsRUFBQU0sV0FBQSxzQkFBQSxNQUFBeUYsUUFBQUMsT0FBQSxZQUdBNUIsUUFBQUMsT0FBQSx1QkFBQXdCLFFBQUEsY0FBQSxZQUFBLGFBQUEsU0FBQUMsRUFBQTlGLEdBQ0EsTUFBQThGLEdBQUE5RixFQUFBTSxXQUFBLHVCQUFBLE1BQUF5RixRQUFBQyxPQUFBLFlBR0E1QixRQUFBQyxPQUFBLHVCQUFBd0IsUUFBQSxVQUFBLFlBQUEsYUFBQSxTQUFBQyxFQUFBOUYsR0FDQSxNQUFBOEYsR0FBQTlGLEVBQUFNLFdBQUEsbUJBQUEsTUFBQXlGLFFBQUFDLE9BQUEsWUFHQTVCLFFBQUFDLE9BQUEsdUJBQUF3QixRQUFBLFNBQUEsWUFBQSxhQUFBLFNBQUFDLEVBQUE5RixHQUNBLE1BQUE4RixHQUFBOUYsRUFBQU0sV0FBQSxrQkFBQSxNQUFBeUYsUUFBQUMsT0FBQSxZQUdBNUIsUUFBQUMsT0FBQSx1QkFBQXdCLFFBQUEsVUFBQSxZQUFBLGFBQUEsU0FBQUMsRUFBQTlGLEdBQ0EsTUFBQThGLEdBQUE5RixFQUFBTSxXQUFBLG1CQUFBLE1BQUF5RixRQUFBQyxPQUFBLFlBR0E1QixRQUFBQyxPQUFBLHVCQUFBd0IsUUFBQSxjQUFBLFlBQUEsYUFBQSxTQUFBQyxFQUFBOUYsR0FDQSxNQUFBOEYsR0FBQTlGLEVBQUFNLFdBQUEsdUJBQUEsTUFBQXlGLFFBQUFDLE9BQUEsWUFHQTVCLFFBQUFDLE9BQUEsdUJBQUF3QixRQUFBLFFBQUEsWUFBQSxhQUFBLFNBQUFDLEVBQUE5RixHQUNBLE1BQUE4RixHQUFBOUYsRUFBQU0sV0FBQSxpQkFBQSxNQUFBeUYsUUFBQUMsT0FBQSxZQUdBNUIsUUFBQUMsT0FBQSx1QkFBQXdCLFFBQUEsWUFBQSxZQUFBLGFBQUEsU0FBQUMsRUFBQTlGLEdBQ0EsTUFBQThGLEdBQUE5RixFQUFBTSxXQUFBLHFCQUFBLE1BQUF5RixRQUFBQyxPQUFBLFlBR0E1QixRQUFBQyxPQUFBLHVCQUFBd0IsUUFBQSxXQUFBLFlBQUEsYUFBQSxTQUFBQyxFQUFBOUYsR0FDQSxNQUFBOEYsR0FBQTlGLEVBQUFNLFdBQUEsb0JBQUEsTUFBQXlGLFFBQUFDLE9BQUEsWUFHQTVCLFFBQUFDLE9BQUEsdUJBQUF3QixRQUFBLFNBQUEsWUFBQSxhQUFBLFNBQUFDLEVBQUE5RixHQUNBLE1BQUE4RixHQUFBOUYsRUFBQU0sV0FBQSxrQkFBQSxNQUFBeUYsUUFBQUMsT0FBQSxZQUdBNUIsUUFBQUMsT0FBQSx1QkFBQXdCLFFBQUEsT0FBQSxZQUFBLGFBQUEsU0FBQUMsRUFBQTlGLEdBQ0EsTUFBQThGLEdBQUE5RixFQUFBTSxXQUFBLGdCQUFBLE1BQUF5RixRQUFBQyxPQUFBLFlBR0E1QixRQUFBQyxPQUFBLHVCQUFBd0IsUUFBQSxlQUFBLGFBQUEsUUFBQSxjQUFBLFNBQUE3RixFQUFBaUcsRUFBQWhHLEdBK0JBLFFBQUFpRyxHQUFBakYsR0FDQSxHQUFBTyxHQUFBUCxFQUFBTyxJQUNBTixTQUFBQyxJQUFBLGdCQUFBSyxHQUNBQSxFQUFBMkUsTUFDQUMsTUFBQSxhQUNBNUUsRUFBQTZFLGVBQ0FwRyxFQUFBcUcsZUFBQTlFLEdBQ0F4QixFQUFBNEIsV0FBQSxlQXJDQSxHQUFBMkUsS0FzREEsT0FwREFBLEdBQUFDLE1BQUEsU0FBQUMsR0FDQSxHQUFBQyxHQUFBVCxFQUFBVSxLQUFBM0csRUFBQU0sV0FBQSxhQUFBbUcsRUFNQSxPQUpBQyxHQUFBMUYsS0FBQWtGLEVBQUEsV0FDQWxHLEVBQUE0QixXQUFBLGtCQUdBOEUsR0FHQUgsRUFBQUssT0FBQSxXQUNBWCxFQUFBVSxLQUFBM0csRUFBQU0sV0FBQSxjQUNBTixHQUFBNEIsV0FBQSxpQkFHQTJFLEVBQUF4RixRQUFBLFdBQ0EsR0FBQThGLEdBQUE1RyxFQUFBNkcsZ0JBQ0EsSUFBQUQsRUFBQSxDQUNBLEdBQUFILEdBQUFULEVBQUFVLEtBQUEzRyxFQUFBTSxXQUFBLGVBQUF1RyxFQUFBUixhQU1BLE9BSkFLLEdBQUExRixLQUFBa0YsRUFBQSxXQUNBbEcsRUFBQTRCLFdBQUEsa0JBR0E4RSxJQWVBSCxFQUFBekYsZ0JBQUEsV0FDQSxNQUFBLE9BQUFiLEVBQUE2RyxrQkFHQVAsRUFBQTdFLGFBQUEsU0FBQUQsR0FLQSxNQUpBMkMsU0FBQTJDLFFBQUF0RixLQUNBQSxHQUFBQSxJQUdBOEUsRUFBQXpGLG1CQUNBLEtBQUFXLEVBQUFaLFFBQUFaLEVBQUE2RyxpQkFBQUUsS0FBQTdDLGdCQUdBb0MsS0FHQW5DLFFBQUFDLE9BQUEsdUJBQUE0QyxRQUFBLGVBQUEsUUFBQSxTQUFBQyxHQUNBLEdBQUFELEdBQUFFLEtBQ0FDLEVBQUEsSUFFQUgsR0FBQVgsZUFBQSxTQUFBTyxHQUlBLE1BSEFPLEdBQUFQLEVBRUFLLEVBQUFHLElBQUEsZUFBQVIsR0FDQU8sR0FHQUgsRUFBQUgsZUFBQSxXQUlBLE1BSEFNLEtBQ0FBLEVBQUFGLEVBQUFJLElBQUEsaUJBRUFGLE1BSUFoRCxRQUFBQyxPQUFBLHVCQUFBNEMsUUFBQSxrQkFBQSxhQUFBLGNBQUEsU0FBQWpILEVBQUFDLEdBQ0EsR0FBQWdILEdBQUFFLElBRUFGLEdBQUFNLFFBQUEsU0FBQWpELEdBQ0EsR0FBQThDLEdBQUFuSCxFQUFBNkcsaUJBQ0FULEVBQUFlLEVBQUFBLEVBQUFmLGFBQUEsSUFJQSxPQUhBQSxLQUNBL0IsRUFBQWtELFFBQUFDLGNBQUFwQixHQUVBL0IsR0FHQTJDLEVBQUFTLGNBQUEsU0FBQXpHLEdBSUEsTUFIQSxPQUFBQSxFQUFBMEcsUUFDQTNILEVBQUE0QixXQUFBLGdCQUVBWCxTQzFKQSxXQUNBLFlBSUEsU0FBQTJHLEdBQUFDLElBRkF6RCxRQUFBQyxPQUFBLDBCQUFBcUIsV0FBQSxzQkFBQWtDLEdBQ0FBLEVBQUE1QyxTQUFBLFNDSkEsV0FDQSxZQUNBWixTQUFBQyxPQUFBLDBCQUFBcUIsV0FBQSxvQkFBQSxTQUFBLGFBQUEsYUFDQSxTQUFBb0MsRUFBQUMsRUFBQS9ILEdBQ0E4SCxFQUFBRSxhQUFBLFdBQ0FELEVBQUEsWUFBQUUsVUFFQWpJLEVBQUFxQixJQUFBLHNCQUNBLFNBQUFDLEVBQUE0RyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBUCxFQUFBdEMsTUFBQTBDLFVDVEEsV0FDQSxZQUNBOUQsU0FBQUMsT0FBQSwwQkFBQXFCLFdBQUEsbUJBQUEsU0FBQSxhQUFBLGNBQUEsU0FBQSxTQUFBb0MsRUFBQTlILEVBQUFFLEVBQUFILEdBQ0ErSCxFQUFBckIsYUFDQTZCLE1BQUEsR0FDQUMsU0FBQSxJQUdBVCxFQUFBdEIsTUFBQSxTQUFBQyxHQUNBdkcsRUFBQXNHLE1BQUFDLEdBQUF6RixLQUFBLFNBQUFDLEdBQ0EsR0FBQU8sR0FBQVAsRUFBQU8sSUFDQUEsR0FBQTJFLE1BQ0EyQixFQUFBVSxLQUFBQyxVQUFBLEVBRUExSSxFQUFBcUIsR0FBQSxlQUtBMEcsRUFBQVksU0FBQSxXQUNBQyxhQUFBRCxTQUFBWixFQUFBYyxTQUFBNUgsS0FBQSxTQUFBQyxHQUNBNkcsRUFBQXRCLE1BQUFzQixFQUFBYyxZQUlBZCxFQUFBYyxRQUFBLFdDekJBLFdBQ0EsWUFFQXhFLFNBQUFDLE9BQUEsMEJBQUFxQixXQUFBLFlBQUEsU0FBQSxhQUFBLFNBQUEsY0FBQSxjQUFBLFNBQUFvQyxFQUFBOUgsRUFBQUQsRUFBQUcsRUFBQUQsR0FpQkEsUUFBQTRJLEdBQUFDLEVBQUFDLEVBQUFDLEdBQ0FBLEVBQUFGLEVBQUFHLFFBQUFELEdBQUEsRUFDQUYsRUFBQUUsR0FBQUQsRUFFQUQsRUFBQXZELEtBQUF3RCxHQXBCQSxHQUFBRyxHQUFBL0IsSUFHQVcsR0FBQXBHLGFBQUF4QixFQUFBd0IsYUFFQTFCLEVBQUFxQixJQUFBLGFBQUEsV0FDQTZILEVBQUE5QixZQUFBbkgsRUFBQTZHLG1CQUdBOUcsRUFBQXFCLElBQUEsZUFBQSxXQUNBNkgsRUFBQTlCLFlBQUFuSCxFQUFBcUcsZUFBQSxNQUNBdkcsRUFBQXFCLEdBQUEsV0FHQXBCLEVBQUE2SSxnQkFBQUEsRUFTQUssRUFBQXRDLE9BQUExRyxFQUFBMEcsT0FDQXNDLEVBQUE5QixZQUFBbkgsRUFBQTZHLHVCQzVCQSxXQUNBLFlBQ0ExQyxTQUFBQyxPQUFBLDBCQUFBcUIsV0FBQSxrQkFBQSxTQUFBLGFBQ0EsU0FBQW9DLEVBQUEzQyxHQUNBMkMsRUFBQXFCLE9BRUF0RyxLQUFBLE1BQ0F1RyxNQUFBLE1BQ0FDLEtBQUEsb0JBQ0FDLE9BQUFuRSxFQUFBWCxNQUFBVyxFQUFBVCxjQUdBN0IsS0FBQSxZQUNBdUcsTUFBQSxZQUNBQyxLQUFBLGFBQ0FDLE9BQUFuRSxFQUFBWCxNQUFBVyxFQUFBVixPQUFBVSxFQUFBVCxjQUdBN0IsS0FBQSxhQUNBdUcsTUFBQSxhQUNBQyxLQUFBLGNBQ0FDLE9BQUFuRSxFQUFBWCxNQUFBVyxFQUFBVixPQUFBVSxFQUFBVCxjQUdBN0IsS0FBQSxjQUNBdUcsTUFBQSxjQUNBQyxLQUFBLE9BQ0FDLE9BQUFuRSxFQUFBWCxNQUFBVyxFQUFBVixPQUFBVSxFQUFBVCxjQUdBN0IsS0FBQSxVQUNBdUcsTUFBQSxVQUNBQyxLQUFBLE9BQ0FDLE9BQUFuRSxFQUFBWCxNQUFBVyxFQUFBVixPQUFBVSxFQUFBVCxjQUdBN0IsS0FBQSxTQUNBdUcsTUFBQSxTQUNBQyxLQUFBLGdCQUNBQyxPQUFBbkUsRUFBQVgsTUFBQVcsRUFBQVYsT0FBQVUsRUFBQVQsY0FHQTdCLEtBQUEsVUFDQXVHLE1BQUEsVUFDQUMsS0FBQSxRQUNBQyxPQUFBbkUsRUFBQVgsTUFBQVcsRUFBQVYsT0FBQVUsRUFBQVQsY0FHQTdCLEtBQUEsY0FDQXVHLE1BQUEsY0FDQUMsS0FBQSxpQkFDQUMsT0FBQW5FLEVBQUFYLFNBR0EzQixLQUFBLFdBQ0F1RyxNQUFBLFdBQ0FDLEtBQUEsZUFDQUMsT0FBQW5FLEVBQUFYLE1BQUFXLEVBQUFWLE9BQUFVLEVBQUFULGNBR0E3QixLQUFBLFNBQ0F1RyxNQUFBLFNBQ0FDLEtBQUEsZ0JBQ0FDLE9BQUFuRSxFQUFBWCxNQUFBVyxFQUFBVixPQUFBVSxFQUFBVCxjQUVBN0IsS0FBQSxRQUNBdUcsTUFBQSxXQUNBQyxLQUFBLGlCQUNBQyxPQUFBbkUsRUFBQVgsU0FFQTNCLEtBQUEsWUFDQXVHLE1BQUEsaUJBQ0FDLEtBQUEsaUJBQ0FDLE9BQUFuRSxFQUFBWCxlQ3pFQSxXQUNBLFlBS0EsU0FBQStFLEdBQUF6QixFQUFBOUgsRUFBQXdKLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBc0JBLFFBQUFDLEtBR0EsTUFGQUMsR0FBQUMsV0FBQSxFQUVBakMsRUFBQVUsS0FBQXdCLFFBR0E5SSxRQUFBQyxJQUFBLFdBRUEySSxFQUFBRyxZQUFBLEVBRUEvSSxRQUFBQyxJQUFBMkksRUFBQUksa0JBQ0FKLEVBQUFJLFlBQ0FDLElBQ0FMLEVBQUFNLEtBQ0FyRSxJQUVBc0UsT0FaQSxFQWdCQSxRQUFBQyxLQUNBUixFQUFBSSxhQUFBLEVBR0EsUUFBQUMsS0FDQWpKLFFBQUFDLElBQUEsVUFDQXlJLEVBQUFXLFFBQ0E5RSxJQUFBekYsRUFBQU8sV0FDQUksS0FBQW1KLEVBQUFVLFFBQUFDLGVBQ0FDLFNBQUEsU0FBQUMsR0FDQWIsRUFBQVksU0FBQUUsU0FBQSxJQUFBRCxFQUFBRSxPQUFBRixFQUFBRyxTQUNBQyxRQUFBLFNBQUF2SixFQUFBbUcsRUFBQUgsRUFBQWxELEdBQ0F3RixFQUFBVSxRQUFBQyxhQUFBakosRUFBQWlFLElBQ0FxRSxFQUFBSSxhQUFBLEVBQ0FKLEVBQUFZLFNBQUEsRUFDQVosRUFBQU0sS0FDQXJFLElBRUFzRSxNQUNBbEUsTUFBQSxTQUFBM0UsRUFBQW1HLEVBQUFILEVBQUFsRCxHQUNBa0YsRUFBQXdCLEtBQUF4QixFQUFBeUIsU0FBQUMsUUFBQTFKLEVBQUEyRSxPQUFBOUQsTUFBQSxnQkFDQXlILEVBQUFHLFlBQUEsRUFDQUgsRUFBQVksU0FBQSxJQUlBLFFBQUFMLEtBQ0FYLEVBQUFXLEtBQUFQLEVBQUFVLFNBQUFXLFNBQUFuSyxLQUFBLFNBQUFDLEVBQUFtSyxFQUFBQyxHQUNBbkssUUFBQUMsSUFBQWlLLEdBQ0FsSyxRQUFBQyxJQUFBa0ssR0FDQXBLLEVBQUFrRixNQUNBcUQsRUFBQXdCLEtBQUF4QixFQUFBeUIsU0FBQUMsUUFBQWpLLEVBQUFrRixPQUFBOUQsTUFBQSxpQkFFQW9ILEVBQUE2QixLQUFBckssR0FDQXVJLEVBQUF3QixLQUFBeEIsRUFBQXlCLFNBQUFDLFFBQUEsNEJBRUFwQixFQUFBRyxZQUFBLElBSUEsUUFBQWxFLEtBQ0EyRCxFQUFBM0QsUUFBQXdGLEdBQUF6QixFQUFBVSxRQUFBZSxJQUFBekIsRUFBQVUsU0FBQVcsU0FBQW5LLEtBQUEsU0FBQUMsR0FDQTZJLEVBQUFHLFlBQUEsRUFDQVIsRUFBQTZCLEtBQUF4QixFQUFBVSxXQXBGQSxHQUFBVixHQUFBM0MsSUFDQTJDLEdBQUFNLE1BQUEsRUFDQU4sRUFBQTBCLE9BQUE3QixFQUFBOEIsUUFDQTNCLEVBQUFZLFNBQUEsRUFDQVosRUFBQUcsWUFBQSxFQUNBSCxFQUFBSSxhQUFBLEVBQ0FKLEVBQUFDLFdBQUEsRUFFQUQsRUFBQUQsT0FBQUEsRUFDQUMsRUFBQVEsV0FBQUEsRUFDQVIsRUFBQXdCLEtBQUE3QixFQUFBNkIsS0FFQTFLLFFBQUFrSCxFQUFBNEQsY0FDQTVCLEVBQUFVLFFBQUExQyxFQUFBNEQsYUFDQTVCLEVBQUFVLFFBQUFtQixRQUNBN0IsRUFBQVUsUUFBQW9CLFNBQUE5QixFQUFBVSxRQUFBbUIsTUFBQUosSUFDQXpCLEVBQUFNLE1BQUEsR0FFQU4sRUFBQVUsUUFBQSxHQUFBZCxHQXZCQXRGLFFBQUFDLE9BQUEsMEJBQUFxQixXQUFBLHVCQUFBNkQsR0FFQUEsRUFBQXZFLFNBQUEsU0FBQSxhQUFBLFdBQUEsWUFBQSxVQUFBLFFBQUEsYUNKQSxXQUNBLFlBSUEsU0FBQTZHLEdBQUE3TCxFQUFBOEgsRUFBQTRCLEVBQUFELEVBQUFELEVBQUFzQyxFQUFBL0wsR0FvQkEsUUFBQWdNLEtBQ0FELEVBQUFQLElBQ0E3QixFQUFBcEMsS0FBQWlFLEdBQUFPLEVBQUFQLEtBQUFKLFNBQUFuSyxLQUFBLFNBQUFDLEdBQ0ErSyxFQUFBL0ssS0FLQSxRQUFBZ0wsR0FBQUMsR0FDQXpDLEVBQUF1QixNQUNBdEYsV0FBQSx1QkFDQUMsYUFBQSxLQUNBQyxZQUFBLDhCQUNBdUcsT0FBQS9ILFFBQUFnSSxRQUFBQyxTQUFBQyxNQUNBQyxZQUFBTCxJQUNBbEwsS0FBQSxTQUFBd0wsR0FDQSxHQUFBQSxHQUNBeE0sRUFBQTZJLGdCQUFBaUIsRUFBQTJDLFVBQUFELEtBS0EsUUFBQUUsR0FBQTNELEVBQUE0RCxHQUNBQSxFQUFBaEwsaUJBQ0FnTCxFQUFBQyxpQkFDQSxJQUFBQyxHQUFBcEQsRUFBQW9ELFVBQ0EzQixRQUFBLDhDQUNBNEIsR0FBQSxVQUNBQyxPQUFBLFlBQ0FSLFlBQUFJLEVBRUFsRCxHQUFBdUIsS0FBQTZCLEdBQUE3TCxLQUFBLFdBQ0EwSSxFQUFBQSxXQUFBNkIsR0FBQXhDLEVBQUF3QyxLQUFBSixTQUFBbkssS0FBQSxTQUFBQyxHQUNBLEdBQUFBLEVBQUFrRixNQUNBcUQsRUFBQXdCLEtBQUF4QixFQUFBeUIsU0FBQUMsUUFBQWpLLEVBQUFrRixPQUFBOUQsTUFBQSxvQkFDQSxDQUNBbUgsRUFBQXdCLEtBQUF4QixFQUFBeUIsU0FBQUMsUUFBQWpLLEVBQUErTCxTQUNBLElBQUFoRSxHQUFBYyxFQUFBMkMsVUFBQTVMLFFBQUFrSSxFQUNBZSxHQUFBMkMsVUFBQVEsT0FBQWpFLEVBQUEsUUFPQSxRQUFBa0UsR0FBQW5FLEdBQ0FoSixFQUFBcUIsR0FBQSxhQUFBbUssR0FBQXhDLEVBQUF3QyxLQUFBNEIsUUFBQSxJQUNBbkIsRUFBQWpELEdBR0EsUUFBQWlELEdBQUFqRCxHQUNBakIsRUFBQTRELGFBQUF0SCxRQUFBZ0osS0FBQXJFLEVBQ0EsSUFBQUMsR0FBQWMsRUFBQTJDLFVBQUE1TCxRQUFBa0ksRUFDQVUsR0FBQXVCLE1BQ0F0RixXQUFBLHVCQUNBQyxhQUFBLEtBQ0FDLFlBQUEsOEJBQ0F1RyxPQUFBL0gsUUFBQWdJLFFBQUFDLFNBQUFDLE1BQ0F4SixNQUFBZ0YsRUFBQXVGLFNBQ0FyTSxLQUFBLFNBQUFzTSxHQUNBLEdBQUFBLEdBQ0F0TixFQUFBNkksZ0JBQUFpQixFQUFBMkMsVUFBQWEsRUFBQXRFLEdBQ0FqSixFQUFBcUIsR0FBQSxhQUFBbUssR0FBQSxLQUFBNEIsUUFBQSxNQWpGQSxHQUFBckQsR0FBQTNDLElBQ0EyQyxHQUFBMkMsVUFBQS9DLEVBQUErQixRQUNBM0IsRUFBQXlELFNBQ0FDLFVBQUEsR0FDQUMsY0FBQSxFQUNBQyxhQUFBLEdBQ0FDLFlBQUEsRUFDQUMsWUFBQSxFQUNBQyxXQUFBLFNBR0EvRCxFQUFBbUMsUUFBQUEsRUFDQW5DLEVBQUFBLFVBQUE0QyxFQUNBNUMsRUFBQWtDLFNBQUFrQixFQUNBcEQsRUFBQXdCLEtBQUE3QixFQUFBc0QsT0FFQWhCLElBcEJBM0gsUUFBQUMsT0FBQSwwQkFBQXFCLFdBQUEsd0JBQUFtRyxHQUVBQSxFQUFBN0csU0FBQSxhQUFBLFNBQUEsVUFBQSxZQUFBLFdBQUEsZUFBQSxhQ0pBLFdBQ0EsWUFJQSxTQUFBOEksR0FBQWhHLEVBQUEwQixFQUFBQyxFQUFBc0UsR0FlQSxRQUFBaEMsS0FDQW5MLFFBQUFrSCxFQUFBNEQsY0FDQTVCLEVBQUFrRSxVQUFBbEcsRUFBQTRELGFBQ0E1QixFQUFBTSxNQUFBLEdBRUFOLEVBQUFrRSxVQUFBLEdBQUFELEdBR0EsUUFBQWxFLEtBRUEsTUFEQUMsR0FBQUMsV0FBQSxFQUNBakMsRUFBQVUsS0FBQXdCLFlBR0FGLEVBQUFNLEtBQ0FyRSxJQUVBc0UsTUFMQSxFQVFBLFFBQUFBLEtBQ0EwRCxFQUFBMUQsS0FBQVAsRUFBQWtFLFdBQUE3QyxTQUFBbkssS0FBQSxTQUFBQyxHQUNBQSxFQUFBa0YsTUFDQXFELEVBQUF3QixLQUFBeEIsRUFBQXlCLFNBQUFDLFFBQUFqSyxFQUFBa0YsT0FBQTlELE1BQUEsaUJBRUFvSCxFQUFBNkIsS0FBQXJLLEdBQ0F1SSxFQUFBd0IsS0FBQXhCLEVBQUF5QixTQUFBQyxRQUFBLHVCQUVBcEIsRUFBQUcsWUFBQSxJQUlBLFFBQUFsRSxLQUNBZ0ksRUFBQWhJLFFBQUF3RixHQUFBekIsRUFBQWtFLFVBQUF6QyxJQUFBekIsRUFBQWtFLFdBQUE3QyxTQUFBbkssS0FBQSxTQUFBQyxHQUNBNkksRUFBQUcsWUFBQSxFQUNBUixFQUFBNkIsS0FBQXhCLEVBQUFrRSxhQWhEQSxHQUFBbEUsR0FBQTNDLElBRUEyQyxHQUFBa0UsVUFBQSxLQUNBbEUsRUFBQU0sTUFBQSxFQUVBTixFQUFBd0IsS0FBQTdCLEVBQUE2QixLQUNBeEIsRUFBQUcsWUFBQSxFQUNBSCxFQUFBQyxXQUFBLEVBQ0FELEVBQUFELE9BQUFBLEVBRUFrQyxJQWJBM0gsUUFBQUMsT0FBQSwwQkFBQXFCLFdBQUEseUJBQUFvSSxHQUNBQSxFQUFBOUksU0FBQSxTQUFBLFdBQUEsWUFBQSxnQkNKQSxXQUNBLFlBSUEsU0FBQWlKLEdBQUFGLEVBQUEvTixFQUFBOEgsRUFBQTJCLEVBQUFELEVBQUF6SixFQUFBK0wsR0FrQkEsUUFBQUMsS0FDQUQsRUFBQVAsSUFDQXdDLEVBQUF6RyxLQUFBaUUsR0FBQU8sRUFBQVAsS0FBQUosU0FBQW5LLEtBQUEsU0FBQUMsR0FDQStLLEVBQUEvSyxLQUtBLFFBQUFpTSxHQUFBbkUsR0FDQWhKLEVBQUFxQixHQUFBLGNBQUFtSyxHQUFBeEMsRUFBQXdDLEtBQUE0QixRQUFBLElBQ0FuQixFQUFBakQsR0FHQSxRQUFBa0QsR0FBQUMsR0FDQXpDLEVBQUF1QixNQUNBdEYsV0FBQSx5QkFDQUMsYUFBQSxLQUNBQyxZQUFBLCtCQUNBdUcsT0FBQS9ILFFBQUFnSSxRQUFBQyxTQUFBQyxNQUNBQyxZQUFBTCxJQUNBbEwsS0FBQSxTQUFBa04sR0FDQXROLFNBQUFzTixHQUNBcEUsRUFBQXFFLFdBQUE1SSxLQUFBMkksS0FLQSxRQUFBeEIsR0FBQTNELEVBQUE0RCxHQUNBQSxFQUFBaEwsaUJBQ0FnTCxFQUFBQyxpQkFDQSxJQUFBQyxHQUFBcEQsRUFBQW9ELFVBQ0EzQixRQUFBLDhDQUNBNEIsR0FBQSxVQUNBQyxPQUFBLFlBQ0FSLFlBQUFJLEVBRUFsRCxHQUFBdUIsS0FBQTZCLEdBQUE3TCxLQUFBLFdBQ0ErTSxFQUFBQSxXQUFBeEMsR0FBQXhDLEVBQUF3QyxLQUFBSixTQUFBbkssS0FBQSxTQUFBQyxHQUNBLEdBQUFBLEVBQUFrRixNQUNBcUQsRUFBQXdCLEtBQUF4QixFQUFBeUIsU0FBQUMsUUFBQWpLLEVBQUFrRixPQUFBOUQsTUFBQSxvQkFDQSxDQUNBbUgsRUFBQXdCLEtBQUF4QixFQUFBeUIsU0FBQUMsUUFBQWpLLEVBQUErTCxTQUNBLElBQUFoRSxHQUFBYyxFQUFBcUUsV0FBQXROLFFBQUFrSSxFQUNBZSxHQUFBcUUsV0FBQWxCLE9BQUFqRSxFQUFBLFFBT0EsUUFBQWdELEdBQUFqRCxHQUNBakIsRUFBQTRELGFBQUEzQyxDQUNBLElBQUFDLEdBQUFjLEVBQUFxRSxXQUFBdE4sUUFBQWtJLEVBQ0FVLEdBQUF1QixNQUNBdEYsV0FBQSx5QkFDQUMsYUFBQSxLQUNBQyxZQUFBLCtCQUNBdUcsT0FBQS9ILFFBQUFnSSxRQUFBQyxTQUFBQyxNQUNBeEosTUFBQWdGLEVBQUF1RixTQUNBck0sS0FBQSxTQUFBc00sR0FDQXBNLFFBQUFDLElBQUEsT0FBQW1NLEdBQ0EsR0FBQUEsR0FDQXROLEVBQUE2SSxnQkFBQWlCLEVBQUFxRSxXQUFBYixFQUFBdEUsR0FDQWpKLEVBQUFxQixHQUFBLGNBQUFtSyxHQUFBLEtBQUE0QixRQUFBLE1BaEZBLEdBQUFyRCxHQUFBM0MsSUFDQTJDLEdBQUFxRSxXQUFBSixFQUFBdEMsUUFDQTNCLEVBQUF5RCxTQUNBQyxVQUFBLEdBQ0FDLGNBQUEsRUFDQUMsYUFBQSxHQUNBQyxZQUFBLEVBQ0FDLFlBQUEsRUFDQUMsV0FBQSxTQUVBL0QsRUFBQW1DLFFBQUFBLEVBQ0FuQyxFQUFBQSxVQUFBNEMsRUFDQTVDLEVBQUFrQyxTQUFBa0IsRUFFQW5CLElBbEJBM0gsUUFBQUMsT0FBQSwwQkFBQXFCLFdBQUEsMEJBQUF1SSxHQUNBQSxFQUFBakosU0FBQSxZQUFBLGFBQUEsU0FBQSxZQUFBLFdBQUEsU0FBQSxtQkNIQSxXQUNBLFlBQ0FaLFNBQUFDLE9BQUEsMEJBQUFxQixXQUFBLHdCQUFBLFNBQUEsYUFBQSxZQUFBLFdBQ0EsU0FBQW9DLEVBQUFzRyxFQUFBM0UsRUFBQUQsR0F3RkEsUUFBQTZFLEdBQUF2RyxFQUFBMkIsR0FDQTNCLEVBQUF3RyxXQUFBeEcsRUFBQTRELGFBQ0F4SyxRQUFBQyxJQUFBLE9BQUEyRyxFQUFBd0csWUF6RkEsR0FBQTlNLEVBRUE0TSxHQUFBM0MsUUFBQU4sU0FBQW5LLEtBQUEsU0FBQUMsR0FBQTZHLEVBQUF5RyxZQUFBL00sRUFBQVAsRUFBQTZHLEVBQUFoRCxXQUNBZ0QsRUFBQXdELEtBQUE3QixFQUFBNkIsS0FFQXhELEVBQUF5RixTQUNBQyxVQUFBLE9BQ0FDLGNBQUEsRUFDQUMsYUFBQSxHQUNBQyxZQUFBLEVBQ0FDLFlBQUEsRUFDQUMsV0FBQSxTQUdBL0YsRUFBQTBHLFNBQ0FDLFdBQUEsRUFDQUMsWUFBQSxFQUNBQyxZQUFBLEdBR0E3RyxFQUFBaEQsT0FBQSxTQUFBOEosR0FDQXBOLElBQ0FzRyxFQUFBMEcsUUFBQUMsV0FBQTNHLEVBQUEwRyxRQUFBRSxZQUFBNUcsRUFBQTBHLFFBQUFHLFdBR0E3RyxFQUFBeUcsWUFBQS9NLEVBQUFzRCxPQUFBLFNBQUErSixHQUNBLEdBQUFDLEdBQUFELEVBQUFDLFNBQ0FDLEdBQUEsQ0FDQSxRQUFBRCxHQUNBLElBQUEsR0FDQUMsRUFBQWpILEVBQUEwRyxRQUFBQyxTQUNBLE1BQ0EsS0FBQSxHQUNBTSxFQUFBakgsRUFBQTBHLFFBQUFHLFVBQ0EsTUFDQSxLQUFBLEdBQ0FJLEVBQUFqSCxFQUFBMEcsUUFBQUUsV0FHQSxNQUFBSyxLQWhCQWpILEVBQUF5RyxpQkFxQkF6RyxFQUFBNUUsT0FBQSxVQUFBNEUsRUFBQWhELFFBQUEsR0FFQWdELEVBQUFBLFVBQUEsU0FBQWlCLEVBQUE0RCxHQUNBQSxFQUFBaEwsaUJBQ0FnTCxFQUFBQyxrQkFDQXdCLEVBQUFBLFdBQUE3QyxHQUFBeEMsRUFBQXdDLEtBQUFKLFNBQUFuSyxLQUFBLFNBQUFDLEdBQ0EsR0FBQUEsRUFBQWtGLE1BQ0FxRCxFQUFBd0IsS0FBQXhCLEVBQUF5QixTQUFBQyxRQUFBakssRUFBQWtGLE9BQUE5RCxNQUFBLG9CQUNBLENBQ0FtSCxFQUFBd0IsS0FBQXhCLEVBQUF5QixTQUFBQyxRQUFBakssRUFBQStMLFNBQ0EsSUFBQWhFLEdBQUFsQixFQUFBeUcsWUFBQTFOLFFBQUFrSSxFQUNBakIsR0FBQXlHLFlBQUF0QixPQUFBakUsRUFBQSxHQUNBeEgsRUFBQXlMLE9BQUFqRSxFQUFBLE9BS0FsQixFQUFBa0gsUUFBQSxTQUFBakcsRUFBQWtHLEVBQUF0QyxHQUNBQSxFQUFBaEwsaUJBQ0FnTCxFQUFBQyxrQkFDQW5ELEVBQUE2QixPQUNBcEssUUFBQUMsSUFBQSxVQUFBNEgsR0FDQUEsRUFBQStGLFNBQUFHLEVBQUEsRUFBQSxFQUNBbkgsRUFBQWhELFNBQ0FnRCxFQUFBbUMsWUFBQSxFQUNBbUUsRUFBQXJJLFFBQUF3RixHQUFBeEMsRUFBQXdDLElBQUF4QyxHQUFBb0MsU0FBQW5LLEtBQUEsU0FBQUMsR0FDQTZHLEVBQUFtQyxZQUFBLEVBQ0FSLEVBQUE2QixLQUFBdkMsTUFNQWpCLEVBQUFrRSxTQUFBLFNBQUFqRCxHQUNBakIsRUFBQTRELGFBQUEzQyxFQUNBVSxFQUFBdUIsTUFDQXBGLFlBQUEsZ0NBQ0F1RyxPQUFBL0gsUUFBQWdJLFFBQUFDLFNBQUFDLE1BQ0F4SixNQUFBZ0YsRUFBQXVGLE9BQ0EzSCxXQUFBMkksS1o4NkJZQSxFQUF5QnJKLFNBQVcsU0FBVSxtQmFyZ0MxRCxXQUNBLFlBQ0FaLFNBQUFDLE9BQUEsMEJBQUFxQixXQUFBLG9CQUFBLFNBQUEsU0FBQSxZQUFBLFdBQ0EsU0FBQW9DLEVBQUFvSCxFQUFBekYsRUFBQUQsR0FtREEsUUFBQWtELEdBQUEzRCxFQUFBNEQsR0FDQUEsRUFBQWhMLGlCQUNBZ0wsRUFBQUMsaUJBQ0EsSUFBQUMsR0FBQXBELEVBQUFvRCxVQUNBM0IsUUFBQSw4Q0FDQTRCLEdBQUEsVUFDQUMsT0FBQSxZQUNBUixZQUFBSSxFQUVBbEQsR0FBQXVCLEtBQUE2QixHQUFBN0wsS0FBQSxXQUNBa08sRUFBQUEsV0FBQTNELEdBQUF4QyxFQUFBd0MsS0FBQUosU0FBQW5LLEtBQUEsU0FBQUMsR0FDQSxHQUFBQSxFQUFBa0YsTUFDQXFELEVBQUF3QixLQUFBeEIsRUFBQXlCLFNBQUFDLFFBQUFqSyxFQUFBa0YsT0FBQTlELE1BQUEsb0JBQ0EsQ0FDQW1ILEVBQUF3QixLQUFBeEIsRUFBQXlCLFNBQUFDLFFBQUFqSyxFQUFBK0wsU0FDQSxJQUFBaEUsR0FBQWxCLEVBQUFxSCxRQUFBdE8sUUFBQWtJLEVBQ0FqQixHQUFBcUgsUUFBQWxDLE9BQUFqRSxFQUFBLFFBZ0NBLFFBQUFvRyxHQUFBdEgsRUFBQTJCLEdBQ0F2SSxRQUFBQyxJQUFBLFFBQ0EyRyxFQUFBdUgsT0FBQXZILEVBQUE0RCxhQXBHQSxHQUFBbEssRUFFQTBOLEdBQUF6RCxRQUFBTixTQUFBbkssS0FBQSxTQUFBQyxHQUNBNkcsRUFBQXFILFFBQUEzTixFQUFBUCxFQUNBQyxRQUFBQyxJQUFBMkcsRUFBQXFILFdBRUFySCxFQUFBd0QsS0FBQTdCLEVBQUE2QixLQUVBeEQsRUFBQXlGLFNBQ0FDLFVBQUEsT0FDQUMsY0FBQSxFQUNBQyxhQUFBLEdBQ0FDLFlBQUEsRUFDQUMsWUFBQSxFQUNBQyxXQUFBLFNBR0EvRixFQUFBMEcsU0FDQUMsV0FBQSxFQUNBQyxZQUFBLEVBQ0FDLFlBQUEsR0FHQTdHLEVBQUFoRCxPQUFBLFNBQUE4SixHQUNBMU4sUUFBQUMsSUFBQSxhQUNBSyxJQUNBc0csRUFBQTBHLFFBQUFDLFdBQUEzRyxFQUFBMEcsUUFBQUUsWUFBQTVHLEVBQUEwRyxRQUFBRyxXQUdBN0csRUFBQXFILFFBQUEzTixFQUFBc0QsT0FBQSxTQUFBK0osR0FDQSxHQUFBQyxHQUFBRCxFQUFBQyxRQUVBLFFBQUFBLEdBQ0EsSUFBQSxHQUNBLEdBQUFDLEdBQUFqSCxFQUFBMEcsUUFBQUMsU0FDQSxNQUNBLEtBQUEsR0FDQSxHQUFBTSxHQUFBakgsRUFBQTBHLFFBQUFHLFVBQ0EsTUFDQSxLQUFBLEdBQ0EsR0FBQUksR0FBQWpILEVBQUEwRyxRQUFBRSxXQUdBLE1BQUFLLEtBaEJBakgsRUFBQXFILFFBQUEzTixFQWtCQU4sUUFBQUMsSUFBQTJHLEVBQUFxSCxXQUdBckgsRUFBQTVFLE9BQUEsVUFBQTRFLEVBQUFoRCxRQUFBLEdBQ0FnRCxFQUFBQSxVQUFBNEUsRUF1QkE1RSxFQUFBa0gsUUFBQSxTQUFBakcsRUFBQWtHLEVBQUF0QyxHQUNBQSxFQUFBaEwsaUJBQ0FnTCxFQUFBQyxrQkFDQW5ELEVBQUE2QixPQUNBcEssUUFBQUMsSUFBQSxVQUFBNEgsR0FDQUEsRUFBQStGLFNBQUFHLEVBQUEsRUFBQSxFQUNBbkgsRUFBQWhELFNBQ0FnRCxFQUFBbUMsWUFBQSxFQUNBaUYsRUFBQW5KLFFBQUF3RixHQUFBeEMsRUFBQXdDLElBQUF4QyxHQUFBb0MsU0FBQW5LLEtBQUEsU0FBQUMsR0FDQTZHLEVBQUFtQyxZQUFBLEVBQ0FSLEVBQUE2QixLQUFBdkMsTUFNQWpCLEVBQUFrRSxTQUFBLFNBQUFqRCxHQUNBakIsRUFBQTRELGFBQUEzQyxFQUNBVSxFQUFBdUIsTUFDQXBGLFlBQUEsNEJBQ0F1RyxPQUFBL0gsUUFBQWdJLFFBQUFDLFNBQUFDLE1BQ0F4SixNQUFBZ0YsRUFBQXVGLE9BQ0EzSCxXQUFBMEosS2JvaENZQSxFQUFxQnBLLFNBQVcsU0FBVSxtQmN0bkN0RCxXQUNBLFlBSUEsU0FBQXNLLEdBQUF0UCxFQUFBOEgsRUFBQTBCLEVBQUFDLEVBQUFFLEVBQUFDLEdBaUJBLFFBQUFtQyxLQUNBbkwsUUFBQWtILEVBQUE0RCxjQUNBNUIsRUFBQTZCLE1BQUE3RCxFQUFBNEQsYUFDQTVCLEVBQUFNLE1BQUEsR0FFQU4sRUFBQTZCLE1BQUEsR0FBQWhDLEdBR0EsUUFBQUUsS0FFQSxNQURBQyxHQUFBQyxXQUFBLEVBQ0FqQyxFQUFBVSxLQUFBd0IsUUFHQUYsRUFBQUcsWUFBQSxFQUNBL0ksUUFBQUMsSUFBQSxjQUFBMkksRUFBQUksa0JBQ0FKLEVBQUFJLFlBQ0FDLElBQ0FMLEVBQUFNLEtBQ0FyRSxJQUVBc0UsT0FUQSxFQVlBLFFBQUFBLEtBQ0FQLEVBQUE2QixNQUFBNEQsTUFBQSxTQUFBdE8sR0FDQXdJLEVBQUE2QixLQUFBeEIsRUFBQTZCLE9BQ0E3QixFQUFBRyxZQUFBLEVBQ0FULEVBQUF3QixLQUFBeEIsRUFBQXlCLFNBQUFDLFFBQUEsMEJBQ0EsU0FBQWpLLEdBQ0F1SSxFQUFBd0IsS0FBQXhCLEVBQUF5QixTQUFBQyxRQUFBakssRUFBQU8sS0FBQTJFLE9BQUE5RCxNQUFBLGdCQUNBeUgsRUFBQUcsWUFBQSxJQUlBLFFBQUFFLEtBQ0FMLEVBQUFHLFlBQUEsRUFDQUwsRUFBQVcsUUFDQTlFLElBQUF6RixFQUFBTyxXQUNBSSxLQUFBbUosRUFBQTZCLE1BQUE2RCxZQUNBOUUsU0FBQSxTQUFBQyxHQUNBYixFQUFBWSxTQUFBRSxTQUFBLElBQUFELEVBQUFFLE9BQUFGLEVBQUFHLFNBQ0FDLFFBQUEsU0FBQXZKLEVBQUFtRyxFQUFBSCxFQUFBbEQsR0FDQXdGLEVBQUE2QixNQUFBNkQsVUFBQWhPLEVBQUFpRSxJQUNBcUUsRUFBQUksYUFBQSxFQUNBSixFQUFBWSxTQUFBLEVBQ0FaLEVBQUFNLEtBQ0FyRSxJQUVBc0UsTUFDQWxFLE1BQUEsU0FBQTNFLEVBQUFtRyxFQUFBSCxFQUFBbEQsR0FDQWtGLEVBQUF3QixLQUFBeEIsRUFBQXlCLFNBQUFDLFFBQUExSixFQUFBMkUsT0FBQTlELE1BQUEsZ0JBQ0F5SCxFQUFBRyxZQUFBLEVBQ0FILEVBQUFZLFNBQUEsSUFJQSxRQUFBM0UsS0FDQTRELEVBQUE1RCxRQUFBd0YsR0FBQXpCLEVBQUE2QixNQUFBSixJQUFBekIsRUFBQTZCLE9BQUFSLFNBQUFuSyxLQUFBLFNBQUFDLEdBQ0E2SSxFQUFBRyxZQUFBLEVBQ0FSLEVBQUE2QixLQUFBeEIsRUFBQTZCLFNBM0VBLEdBQUE3QixHQUFBM0MsSUFDQTJDLEdBQUF3QixLQUFBN0IsRUFBQTZCLEtBQ0F4QixFQUFBTSxNQUFBLEVBQ0FOLEVBQUE2QixNQUFBLEtBQ0E3QixFQUFBRyxZQUFBLEVBQ0FILEVBQUFDLFdBQUEsRUFDQUQsRUFBQVksU0FBQSxFQUNBWixFQUFBSSxhQUFBLEVBRUFKLEVBQUFRLFdBQUEsV0FDQVIsRUFBQUksYUFBQSxHQUVBSixFQUFBRCxPQUFBQSxFQUVBa0MsSUFsQkEzSCxRQUFBQyxPQUFBLDBCQUFBcUIsV0FBQSxxQkFBQTRKLEdBQ0FBLEVBQUF0SyxTQUFBLGFBQUEsU0FBQSxXQUFBLFlBQUEsUUFBQSxhQ0hBLFdBQ0EsWUFHQSxTQUFBeUssR0FBQTNILEVBQUE5SCxFQUFBRCxFQUFBNEosRUFBQUYsRUFBQUQsRUFBQXNDLEdBbUJBLFFBQUFDLEtBQ0FELEVBQUFQLElBQ0E1QixFQUFBckMsS0FBQWlFLEdBQUFPLEVBQUFQLEtBQUFKLFNBQUFuSyxLQUFBLFNBQUFDLEdBQ0ErSyxFQUFBL0ssS0FJQSxRQUFBaU0sR0FBQW5FLEdBQ0FoSixFQUFBcUIsR0FBQSxVQUFBbUssR0FBQXhDLEVBQUF3QyxLQUFBNEIsUUFBQSxJQUNBbkIsRUFBQWpELEdBSUEsUUFBQWtELEdBQUFDLEdBQ0F6QyxFQUFBdUIsTUFDQXRGLFdBQUEscUJBQ0FDLGFBQUEsS0FDQUMsWUFBQSwyQkFDQXVHLE9BQUEvSCxRQUFBZ0ksUUFBQUMsU0FBQUMsTUFDQUMsWUFBQUwsSUFDQWxMLEtBQUEsU0FBQWtOLEdBQ0F0TixTQUFBc04sR0FDQXBFLEVBQUEwQixPQUFBakcsS0FBQTJJLEtBSUEsUUFBQXhCLEdBQUEzRCxFQUFBNEQsR0FDQUEsRUFBQWhMLGlCQUNBZ0wsRUFBQUMsaUJBQ0EsSUFBQUMsR0FBQXBELEVBQUFvRCxVQUNBM0IsUUFBQSw4Q0FDQTRCLEdBQUEsVUFDQUMsT0FBQSxZQUNBUixZQUFBSSxFQUVBbEQsR0FBQXVCLEtBQUE2QixHQUFBN0wsS0FBQSxXQUNBME8sUUFBQUEsV0FBQW5FLEdBQUF4QyxFQUFBd0MsS0FBQUosU0FBQW5LLEtBQUEsU0FBQUMsR0FDQSxHQUFBQSxFQUFBa0YsTUFDQXFELEVBQUF3QixLQUFBeEIsRUFBQXlCLFNBQUFDLFFBQUFqSyxFQUFBa0YsT0FBQTlELE1BQUEsb0JBQ0EsQ0FDQW1ILEVBQUF3QixLQUFBeEIsRUFBQXlCLFNBQUFDLFFBQUFqSyxFQUFBK0wsU0FDQSxJQUFBaEUsR0FBQWMsRUFBQTBCLE9BQUEzSyxRQUFBa0ksRUFDQWUsR0FBQTBCLE9BQUF5QixPQUFBakUsRUFBQSxRQVFBLFFBQUFnRCxHQUFBakQsR0FDQWpCLEVBQUE0RCxhQUFBM0MsQ0FDQSxJQUFBQyxHQUFBYyxFQUFBMEIsT0FBQTNLLFFBQUFrSSxFQUNBVSxHQUFBdUIsTUFDQXRGLFdBQUEscUJBQ0FDLGFBQUEsS0FDQUMsWUFBQSwyQkFDQXVHLE9BQUEvSCxRQUFBZ0ksUUFBQUMsU0FBQUMsTUFDQXhKLE1BQUFnRixFQUFBdUYsU0FDQXJNLEtBQUEsU0FBQXNNLEdBQ0EsR0FBQUEsR0FDQXROLEVBQUE2SSxnQkFBQWlCLEVBQUEwQixPQUFBOEIsRUFBQXRFLEdBQ0FqSixFQUFBcUIsR0FBQSxVQUFBbUssR0FBQSxLQUFBNEIsUUFBQSxNQWhGQSxHQUFBckQsR0FBQTNDLElBQ0EyQyxHQUFBMEIsT0FBQTdCLEVBQUE4QixRQUNBM0IsRUFBQXlELFNBQ0FDLFVBQUEsR0FDQUMsY0FBQSxFQUNBQyxhQUFBLEdBQ0FDLFlBQUEsRUFDQUMsWUFBQSxFQUNBQyxXQUFBLFNBR0EvRCxFQUFBbUMsUUFBQUEsRUFDQW5DLEVBQUFBLFVBQUE0QyxFQUNBNUMsRUFBQWtDLFNBQUFrQixFQUVBbkIsSUFsQkEzSCxRQUFBQyxPQUFBLDBCQUFBcUIsV0FBQSxzQkFBQStKLEdBQ0FBLEVBQUF6SyxTQUFBLFNBQUEsYUFBQSxTQUFBLFFBQUEsWUFBQSxXQUFBLG1CQ0hBLFdBQ0EsWUFDQVosU0FBQUMsT0FBQSwwQkFBQXFCLFdBQUEsd0JBQUEsU0FBQSxTQUFBLFlBQUEsV0FDQSxTQUFBb0MsRUFBQTZILEVBQUFsRyxFQUFBRCxHQUNBMUIsRUFBQThILFFBQUFELEVBQUFsRSxRQUNBM0QsRUFBQXlGLFNBQ0FDLFVBQUEsR0FDQUMsY0FBQSxFQUNBQyxhQUFBLEdBQ0FDLFlBQUEsRUFDQUMsWUFBQSxFQUNBQyxXQUFBLFNBRUEvRixFQUFBbUUsUUFBQSxTQUFBQyxHQUNBekMsRUFBQXVCLE1BQ0F0RixXQUFBLHNCQUNBRSxZQUFBLDRCQUNBdUcsT0FBQS9ILFFBQUFnSSxRQUFBQyxTQUFBQyxNQUNBQyxZQUFBTCxJQUNBbEwsS0FBQSxTQUFBa04sR0FDQXROLFNBQUFzTixJQUNBQSxFQUFBMkIsTUFBQSxHQUFBQyxNQUFBNUIsRUFBQTJCLE9BQ0EvSCxFQUFBOEgsUUFBQXJLLEtBQUEySSxPQUtBcEcsRUFBQUEsVUFBQSxTQUFBaUIsRUFBQTRELEdBQ0FBLEVBQUFoTCxpQkFDQWdMLEVBQUFDLGtCQUNBK0MsRUFBQUEsV0FBQXBFLEdBQUF4QyxFQUFBd0MsS0FBQUosU0FBQW5LLEtBQUEsU0FBQUMsR0FDQSxHQUFBQSxFQUFBa0YsTUFDQXFELEVBQUF3QixLQUFBeEIsRUFBQXlCLFNBQUFDLFFBQUFqSyxFQUFBa0YsT0FBQTlELE1BQUEsb0JBQ0EsQ0FDQW1ILEVBQUF3QixLQUFBeEIsRUFBQXlCLFNBQUFDLFFBQUFqSyxFQUFBK0wsU0FDQSxJQUFBaEUsR0FBQWxCLEVBQUE4SCxRQUFBL08sUUFBQWtJLEVBQ0FqQixHQUFBOEgsUUFBQTNDLE9BQUFqRSxFQUFBLE9BS0FsQixFQUFBa0UsU0FBQSxTQUFBakQsR0FDQWpCLEVBQUE0RCxhQUFBM0MsRUFDQVUsRUFBQXVCLE1BQ0F0RixXQUFBLHNCQUNBRSxZQUFBLDRCQUNBdUcsT0FBQS9ILFFBQUFnSSxRQUFBQyxTQUFBQyxNQUNBeEosTUFBQWdGLEVBQUF1RixhQU1BakosUUFBQUMsT0FBQSwwQkFBQXFCLFdBQUEsdUJBQUEsYUFBQSxTQUFBLFdBQUEsWUFBQSxTQUFBLFNBQ0EsU0FBQTFGLEVBQUE4SCxFQUFBMEIsRUFBQUMsRUFBQWtHLEVBQUEvRixHQTRCQSxRQUFBUyxLQUNBdkMsRUFBQWlJLE9BQUFSLE1BQUEsU0FBQXRPLEdBQ0F3SSxFQUFBNkIsS0FBQXhELEVBQUFpSSxRQUNBakksRUFBQW1DLFlBQUEsRUFDQVQsRUFBQXdCLEtBQUF4QixFQUFBeUIsU0FBQUMsUUFBQSwyQkFDQSxTQUFBakssR0FDQXVJLEVBQUF3QixLQUFBeEIsRUFBQXlCLFNBQUFDLFFBQUFqSyxFQUFBTyxLQUFBMkUsT0FBQTlELE1BQUEsZ0JBQ0F5RixFQUFBbUMsWUFBQSxJQVFBLFFBQUFFLEtBQ0FyQyxFQUFBbUMsWUFBQSxFQUNBTCxFQUFBVyxRQUNBOUUsSUFBQXpGLEVBQUFPLFdBQ0FJLEtBQUFtSCxFQUFBaUksT0FBQUMsU0FDQXRGLFNBQUEsU0FBQUMsR0FDQTdDLEVBQUE0QyxTQUFBRSxTQUFBLElBQUFELEVBQUFFLE9BQUFGLEVBQUFHLFNBQ0FDLFFBQUEsU0FBQXZKLEVBQUFtRyxFQUFBSCxFQUFBbEQsR0FDQXdELEVBQUFpSSxPQUFBQyxPQUFBeE8sRUFBQWlFLElBQ0FxQyxFQUFBb0MsYUFBQSxFQUNBcEMsRUFBQTRDLFNBQUEsRUFDQTVDLEVBQUFzQyxLQUNBckUsSUFFQXNFLE1BQ0FsRSxNQUFBLFNBQUEzRSxFQUFBbUcsRUFBQUgsRUFBQWxELEdBQ0FrRixFQUFBd0IsS0FBQXhCLEVBQUF5QixTQUFBQyxRQUFBMUosRUFBQTJFLE9BQUE5RCxNQUFBLGdCQUNBeUYsRUFBQW1DLFlBQUEsRUFDQW5DLEVBQUE0QyxTQUFBLElBSUEsUUFBQTNFLEtBQ0E0SixFQUFBNUosUUFBQXdGLEdBQUF6RCxFQUFBaUksT0FBQXhFLElBQUF6RCxFQUFBaUksUUFBQTVFLFNBQUFuSyxLQUFBLFNBQUFDLEdBQ0E2RyxFQUFBbUMsWUFBQSxFQUNBUixFQUFBNkIsS0FBQXhELEVBQUFpSSxVQW5FQW5QLFFBQUFrSCxFQUFBNEQsY0FDQTVELEVBQUFpSSxPQUFBakksRUFBQTRELGFBQ0E1RCxFQUFBaUksT0FBQUYsTUFBQSxHQUFBQyxNQUFBaEksRUFBQWlJLE9BQUFGLE9BQ0EvSCxFQUFBc0MsTUFBQSxHQUVBdEMsRUFBQWlJLE9BQUEsR0FBQUosR0FFQTdILEVBQUF3RCxLQUFBLFdBQ0E3QixFQUFBNkIsUUFHQXhELEVBQUFtQyxZQUFBLEVBQ0FuQyxFQUFBaUMsV0FBQSxFQUVBakMsRUFBQStCLE9BQUEsV0FFQSxNQURBL0IsR0FBQWlDLFdBQUEsRUFDQWpDLEVBQUFVLEtBQUF3QixZQUdBbEMsRUFBQW9DLFlBQ0FDLElBQ0FyQyxFQUFBc0MsS0FDQXJFLElBRUFzRSxNQVBBLEdBb0JBdkMsRUFBQTRDLFNBQUEsRUFDQTVDLEVBQUFvQyxhQUFBLEVBQ0FwQyxFQUFBd0MsV0FBQSxXQUNBeEMsRUFBQW9DLGFBQUEsU0MvRkEsV0FDQSxZQUNBOUYsU0FBQUMsT0FBQSwwQkFBQXFCLFdBQUEsd0JBQUEsU0FBQSxTQUFBLFlBQUEsV0FDQSxTQUFBb0MsRUFBQTZILEVBQUFsRyxFQUFBRCxHQXlCQSxRQUFBa0QsR0FBQTNELEVBQUE0RCxHQUNBQSxFQUFBaEwsaUJBQ0FnTCxFQUFBQyxpQkFDQSxJQUFBQyxHQUFBcEQsRUFBQW9ELFVBQ0EzQixRQUFBLDhDQUNBNEIsR0FBQSxVQUNBQyxPQUFBLFlBQ0FSLFlBQUFJLEVBRUFsRCxHQUFBdUIsS0FBQTZCLEdBQUE3TCxLQUFBLFdBQ0EyTyxFQUFBQSxXQUFBcEUsR0FBQXhDLEVBQUF3QyxLQUFBSixTQUFBbkssS0FBQSxTQUFBQyxHQUNBLEdBQUFBLEVBQUFrRixNQUNBcUQsRUFBQXdCLEtBQUF4QixFQUFBeUIsU0FBQUMsUUFBQWpLLEVBQUFrRixPQUFBOUQsTUFBQSxvQkFDQSxDQUNBbUgsRUFBQXdCLEtBQUF4QixFQUFBeUIsU0FBQUMsUUFBQWpLLEVBQUErTCxTQUNBLElBQUFoRSxHQUFBbEIsRUFBQThILFFBQUEvTyxRQUFBa0ksRUFDQWpCLEdBQUE4SCxRQUFBM0MsT0FBQWpFLEVBQUEsUUF4Q0FsQixFQUFBOEgsUUFBQUQsRUFBQWxFLFFBQ0EzRCxFQUFBeUYsU0FDQUMsVUFBQSxHQUNBQyxjQUFBLEVBQ0FDLGFBQUEsR0FDQUMsWUFBQSxFQUNBQyxZQUFBLEVBQ0FDLFdBQUEsU0FFQS9GLEVBQUFtRSxRQUFBLFNBQUFDLEdBQ0F6QyxFQUFBdUIsTUFDQXRGLFdBQUEsc0JBQ0FFLFlBQUEsNEJBQ0F1RyxPQUFBL0gsUUFBQWdJLFFBQUFDLFNBQUFDLE1BQ0FDLFlBQUFMLElBQ0FsTCxLQUFBLFNBQUFrTixHQUNBdE4sU0FBQXNOLElBQ0FBLEVBQUEyQixNQUFBLEdBQUFDLE1BQUE1QixFQUFBMkIsT0FDQS9ILEVBQUE4SCxRQUFBckssS0FBQTJJLE9BS0FwRyxFQUFBQSxVQUFBNEUsRUF3QkE1RSxFQUFBa0UsU0FBQSxTQUFBakQsR0FDQWpCLEVBQUE0RCxhQUFBM0MsRUFDQVUsRUFBQXVCLE1BQ0F0RixXQUFBLHNCQUNBRSxZQUFBLDRCQUNBdUcsT0FBQS9ILFFBQUFnSSxRQUFBQyxTQUFBQyxNQUNBeEosTUFBQWdGLEVBQUF1RixhQU1BakosUUFBQUMsT0FBQSwwQkFBQXFCLFdBQUEsdUJBQUEsYUFBQSxTQUFBLFdBQUEsWUFBQSxTQUFBLFNBQ0EsU0FBQTFGLEVBQUE4SCxFQUFBMEIsRUFBQUMsRUFBQWtHLEVBQUEvRixHQTRCQSxRQUFBUyxLQUNBdkMsRUFBQWlJLE9BQUFSLE1BQUEsU0FBQXRPLEdBQ0F3SSxFQUFBNkIsS0FBQXhELEVBQUFpSSxRQUNBakksRUFBQW1DLFlBQUEsRUFDQVQsRUFBQXdCLEtBQUF4QixFQUFBeUIsU0FBQUMsUUFBQSwyQkFDQSxTQUFBakssR0FDQXVJLEVBQUF3QixLQUFBeEIsRUFBQXlCLFNBQUFDLFFBQUFqSyxFQUFBTyxLQUFBMkUsT0FBQTlELE1BQUEsZ0JBQ0F5RixFQUFBbUMsWUFBQSxJQVFBLFFBQUFFLEtBQ0FyQyxFQUFBbUMsWUFBQSxFQUNBTCxFQUFBVyxRQUNBOUUsSUFBQXpGLEVBQUFPLFdBQ0FJLEtBQUFtSCxFQUFBaUksT0FBQUMsU0FDQXRGLFNBQUEsU0FBQUMsR0FDQTdDLEVBQUE0QyxTQUFBRSxTQUFBLElBQUFELEVBQUFFLE9BQUFGLEVBQUFHLFNBQ0FDLFFBQUEsU0FBQXZKLEVBQUFtRyxFQUFBSCxFQUFBbEQsR0FDQXdELEVBQUFpSSxPQUFBQyxPQUFBeE8sRUFBQWlFLElBQ0FxQyxFQUFBb0MsYUFBQSxFQUNBcEMsRUFBQTRDLFNBQUEsRUFDQTVDLEVBQUFzQyxLQUNBckUsSUFFQXNFLE1BQ0FsRSxNQUFBLFNBQUEzRSxFQUFBbUcsRUFBQUgsRUFBQWxELEdBQ0FrRixFQUFBd0IsS0FBQXhCLEVBQUF5QixTQUFBQyxRQUFBMUosRUFBQTJFLE9BQUE5RCxNQUFBLGdCQUNBeUYsRUFBQW1DLFlBQUEsRUFDQW5DLEVBQUE0QyxTQUFBLElBSUEsUUFBQTNFLEtBQ0E0SixFQUFBNUosUUFBQXdGLEdBQUF6RCxFQUFBaUksT0FBQXhFLElBQUF6RCxFQUFBaUksUUFBQTVFLFNBQUFuSyxLQUFBLFNBQUFDLEdBQ0E2RyxFQUFBbUMsWUFBQSxFQUNBUixFQUFBNkIsS0FBQXhELEVBQUFpSSxVQW5FQW5QLFFBQUFrSCxFQUFBNEQsY0FDQTVELEVBQUFpSSxPQUFBakksRUFBQTRELGFBQ0E1RCxFQUFBaUksT0FBQUYsTUFBQSxHQUFBQyxNQUFBaEksRUFBQWlJLE9BQUFGLE9BQ0EvSCxFQUFBc0MsTUFBQSxHQUVBdEMsRUFBQWlJLE9BQUEsR0FBQUosR0FFQTdILEVBQUF3RCxLQUFBLFdBQ0E3QixFQUFBNkIsUUFHQXhELEVBQUFtQyxZQUFBLEVBQ0FuQyxFQUFBaUMsV0FBQSxFQUVBakMsRUFBQStCLE9BQUEsV0FFQSxNQURBL0IsR0FBQWlDLFdBQUEsRUFDQWpDLEVBQUFVLEtBQUF3QixZQUdBbEMsRUFBQW9DLFlBQ0FDLElBQ0FyQyxFQUFBc0MsS0FDQXJFLElBRUFzRSxNQVBBLEdBb0JBdkMsRUFBQTRDLFNBQUEsRUFDQTVDLEVBQUFvQyxhQUFBLEVBQ0FwQyxFQUFBd0MsV0FBQSxXQUNBeEMsRUFBQW9DLGFBQUEsU0N6R0EsV0FDQSxZQUtBLFNBQUErRixHQUFBbkksRUFBQTlILEVBQUF3SixFQUFBQyxFQUFBeUcsRUFBQXZHLEVBQUFDLEdBb0JBLFFBQUFDLEtBR0EsTUFGQUMsR0FBQUMsV0FBQSxFQUNBRCxFQUFBRyxZQUFBLEVBQ0FuQyxFQUFBVSxLQUFBd0IsWUFHQUYsRUFBQUksWUFDQUMsSUFDQUwsRUFBQU0sS0FDQXJFLElBRUFzRSxNQVBBLEVBV0EsUUFBQUMsS0FDQVIsRUFBQUksYUFBQSxFQUdBLFFBQUFDLEtBQ0FQLEVBQUFXLFFBQ0E5RSxJQUFBekYsRUFBQU8sV0FDQUksS0FBQW1KLEVBQUFxRyxXQUFBSCxTQUNBdEYsU0FBQSxTQUFBQyxHQUNBYixFQUFBWSxTQUFBRSxTQUFBLElBQUFELEVBQUFFLE9BQUFGLEVBQUFHLFNBQ0FDLFFBQUEsU0FBQXZKLEVBQUFtRyxFQUFBSCxFQUFBbEQsR0FDQXdGLEVBQUFxRyxXQUFBSCxPQUFBeE8sRUFBQWlFLElBQ0FxRSxFQUFBSSxhQUFBLEVBQ0FKLEVBQUFZLFNBQUEsRUFDQVosRUFBQU0sS0FDQXJFLElBRUFzRSxNQUNBbEUsTUFBQSxTQUFBM0UsRUFBQW1HLEVBQUFILEVBQUFsRCxHQUNBa0YsRUFBQXdCLEtBQUF4QixFQUFBeUIsU0FBQUMsUUFBQTFKLEVBQUEyRSxPQUFBOUQsTUFBQSxnQkFDQXlILEVBQUFHLFlBQUEsRUFDQUgsRUFBQVksU0FBQSxJQUlBLFFBQUFMLEtBQ0E2RixFQUFBN0YsS0FBQVAsRUFBQXFHLFlBQUFoRixTQUFBbkssS0FBQSxTQUFBQyxFQUFBbUssRUFBQUMsR0FDQW5LLFFBQUFDLElBQUFpSyxHQUNBbEssUUFBQUMsSUFBQWtLLEdBQ0FwSyxFQUFBa0YsTUFDQXFELEVBQUF3QixLQUFBeEIsRUFBQXlCLFNBQUFDLFFBQUFqSyxFQUFBa0YsT0FBQTlELE1BQUEsaUJBRUFvSCxFQUFBNkIsS0FBQXJLLEdBQ0F1SSxFQUFBd0IsS0FBQXhCLEVBQUF5QixTQUFBQyxRQUFBLCtCQUVBcEIsRUFBQUcsWUFBQSxJQUlBLFFBQUFsRSxLQUNBbUssRUFBQW5LLFFBQUF3RixHQUFBekIsRUFBQXFHLFdBQUE1RSxJQUFBekIsRUFBQXFHLFlBQUFoRixTQUFBbkssS0FBQSxTQUFBQyxHQUNBNkksRUFBQUcsWUFBQSxFQUNBUixFQUFBNkIsS0FBQXhCLEVBQUFxRyxjQTVFQSxHQUFBckcsR0FBQTNDLElBQ0EyQyxHQUFBTSxNQUFBLEVBQ0FOLEVBQUEwQixPQUFBN0IsRUFBQThCLFFBQ0EzQixFQUFBWSxTQUFBLEVBQ0FaLEVBQUFHLFlBQUEsRUFDQUgsRUFBQUksYUFBQSxFQUNBSixFQUFBQyxXQUFBLEVBRUFELEVBQUFELE9BQUFBLEVBQ0FDLEVBQUFRLFdBQUFBLEVBQ0FSLEVBQUF3QixLQUFBN0IsRUFBQTZCLEtBRUExSyxRQUFBa0gsRUFBQTRELGNBQ0E1QixFQUFBcUcsV0FBQXJJLEVBQUE0RCxhQUNBNUIsRUFBQU0sTUFBQSxHQUVBTixFQUFBcUcsV0FBQSxHQUFBRCxHQXJCQTlMLFFBQUFDLE9BQUEsMEJBQUFxQixXQUFBLDBCQUFBdUssR0FFQUEsRUFBQWpMLFNBQUEsU0FBQSxhQUFBLFdBQUEsWUFBQSxhQUFBLFFBQUEsYUNKQSxXQUNBLFlBSUEsU0FBQW9MLEdBQUFwUSxFQUFBOEgsRUFBQW9JLEVBQUF6RyxFQUFBRCxFQUFBc0MsRUFBQS9MLEdBb0JBLFFBQUFnTSxLQUNBRCxFQUFBUCxJQUNBMkUsRUFBQTVJLEtBQUFpRSxHQUFBTyxFQUFBUCxLQUFBSixTQUFBbkssS0FBQSxTQUFBQyxHQUNBK0ssRUFBQS9LLEtBS0EsUUFBQWdMLEdBQUFDLEdBQ0F6QyxFQUFBdUIsTUFDQXRGLFdBQUEsMEJBQ0FDLGFBQUEsS0FDQUMsWUFBQSxnQ0FDQXVHLE9BQUEvSCxRQUFBZ0ksUUFBQUMsU0FBQUMsTUFDQUMsWUFBQUwsSUFDQWxMLEtBQUEsU0FBQXdMLEdBQ0EsR0FBQUEsR0FDQXhNLEVBQUE2SSxnQkFBQWlCLEVBQUF1RyxZQUFBN0QsS0FJQSxRQUFBRSxHQUFBM0QsRUFBQTRELEdBQ0FBLEVBQUFoTCxpQkFDQWdMLEVBQUFDLGlCQUNBLElBQUFDLEdBQUFwRCxFQUFBb0QsVUFDQTNCLFFBQUEsOENBQ0E0QixHQUFBLFVBQ0FDLE9BQUEsWUFDQVIsWUFBQUksRUFFQWxELEdBQUF1QixLQUFBNkIsR0FBQTdMLEtBQUEsV0FDQWtQLEVBQUFBLFdBQUEzRSxHQUFBeEMsRUFBQXdDLEtBQUFKLFNBQUFuSyxLQUFBLFNBQUFDLEdBQ0EsR0FBQUEsRUFBQWtGLE1BQ0FxRCxFQUFBd0IsS0FBQXhCLEVBQUF5QixTQUFBQyxRQUFBakssRUFBQWtGLE9BQUE5RCxNQUFBLG9CQUNBLENBQ0FtSCxFQUFBd0IsS0FBQXhCLEVBQUF5QixTQUFBQyxRQUFBakssRUFBQStMLFNBQ0EsSUFBQWhFLEdBQUFjLEVBQUF1RyxZQUFBeFAsUUFBQWtJLEVBQ0FlLEdBQUF1RyxZQUFBcEQsT0FBQWpFLEVBQUEsUUFPQSxRQUFBa0UsR0FBQW5FLEdBQ0FoSixFQUFBcUIsR0FBQSxlQUFBbUssR0FBQXhDLEVBQUF3QyxLQUFBNEIsUUFBQSxJQUNBbkIsRUFBQWpELEdBR0EsUUFBQWlELEdBQUFqRCxHQUNBakIsRUFBQTRELGFBQUF0SCxRQUFBZ0osS0FBQXJFLEVBQ0EsSUFBQUMsR0FBQWMsRUFBQXVHLFlBQUF4UCxRQUFBa0ksRUFDQVUsR0FBQXVCLE1BQ0F0RixXQUFBLDBCQUNBQyxhQUFBLEtBQ0FDLFlBQUEsZ0NBQ0F1RyxPQUFBL0gsUUFBQWdJLFFBQUFDLFNBQUFDLE1BQ0F4SixNQUFBZ0YsRUFBQXVGLFNBQ0FyTSxLQUFBLFNBQUFzTSxHQUNBLEdBQUFBLEdBQ0F0TixFQUFBNkksZ0JBQUFpQixFQUFBdUcsWUFBQS9DLEVBQUF0RSxHQUNBakosRUFBQXFCLEdBQUEsZUFBQW1LLEdBQUEsS0FBQTRCLFFBQUEsTUFoRkEsR0FBQXJELEdBQUEzQyxJQUNBMkMsR0FBQXVHLFlBQUFILEVBQUF6RSxRQUNBM0IsRUFBQXlELFNBQ0FDLFVBQUEsR0FDQUMsY0FBQSxFQUNBQyxhQUFBLEdBQ0FDLFlBQUEsRUFDQUMsWUFBQSxFQUNBQyxXQUFBLFNBR0EvRCxFQUFBbUMsUUFBQUEsRUFDQW5DLEVBQUFBLFVBQUE0QyxFQUNBNUMsRUFBQWtDLFNBQUFrQixFQUNBcEQsRUFBQXdCLEtBQUE3QixFQUFBc0QsT0FFQWhCLElBcEJBM0gsUUFBQUMsT0FBQSwwQkFBQXFCLFdBQUEsMkJBQUEwSyxHQUVBQSxFQUFBcEwsU0FBQSxhQUFBLFNBQUEsYUFBQSxZQUFBLFdBQUEsZUFBQSxhQ0pBLFdBQ0EsWUFDQVosU0FBQUMsT0FBQSwwQkFBQXFCLFdBQUEsd0JBQUEsYUFBQSxTQUFBLFdBQUEsWUFBQSxVQUFBLFlBQUEsUUFBQSxVQUFBLEtBQUEsU0FBQSxNQUNBLFNBQUExRixFQUFBOEgsRUFBQTBCLEVBQUFDLEVBQUFpRyxFQUFBM0IsRUFBQXVDLEVBQUE1RyxFQUFBN0IsRUFBQStCLEVBQUEyRyxHQTJEQSxRQUFBbEcsS0FDQXZDLEVBQUEwSSxRQUFBakIsTUFBQSxTQUFBdE8sR0FDQXdJLEVBQUE2QixLQUFBeEQsRUFBQTBJLFNBQ0ExSSxFQUFBbUMsWUFBQSxFQUNBVCxFQUFBd0IsS0FBQXhCLEVBQUF5QixTQUFBQyxRQUFBLDRCQUNBLFNBQUFqSyxHQUNBdUksRUFBQXdCLEtBQUF4QixFQUFBeUIsU0FBQUMsUUFBQWpLLEVBQUFPLEtBQUEyRSxPQUFBOUQsTUFBQSxnQkFDQXlGLEVBQUFtQyxZQUFBLElBUUEsUUFBQUUsS0FDQXJDLEVBQUFtQyxZQUFBLEVBQ0FMLEVBQUFXLFFBQ0E5RSxJQUFBekYsRUFBQU8sV0FDQUksS0FBQW1ILEVBQUEwSSxRQUFBUixTQUNBdEYsU0FBQSxTQUFBQyxHQUNBN0MsRUFBQTRDLFNBQUFFLFNBQUEsSUFBQUQsRUFBQUUsT0FBQUYsRUFBQUcsU0FDQUMsUUFBQSxTQUFBdkosRUFBQW1HLEVBQUFILEVBQUFsRCxHQUNBd0QsRUFBQTBJLFFBQUFSLE9BQUF4TyxFQUFBaUUsSUFDQXFDLEVBQUFvQyxhQUFBLEVBQ0FwQyxFQUFBNEMsU0FBQSxFQUNBNUMsRUFBQXNDLEtBQ0FyRSxJQUVBc0UsTUFDQWxFLE1BQUEsU0FBQTNFLEVBQUFtRyxFQUFBSCxFQUFBbEQsR0FDQWtGLEVBQUF3QixLQUFBeEIsRUFBQXlCLFNBQUFDLFFBQUExSixFQUFBMkUsT0FBQTlELE1BQUEsZ0JBQ0F5RixFQUFBbUMsWUFBQSxFQUNBbkMsRUFBQTRDLFNBQUEsSUFJQSxRQUFBM0UsS0FDQTJKLEVBQUEzSixRQUFBd0YsR0FBQXpELEVBQUEwSSxRQUFBakYsSUFBQXpELEVBQUEwSSxTQUFBckYsU0FBQW5LLEtBQUEsU0FBQUMsR0FDQTZHLEVBQUFtQyxZQUFBLEVBQ0FuQyxFQUFBMEksUUFBQXZQLEVBQ0E2RyxFQUFBMEksUUFBQVgsTUFBQSxHQUFBQyxNQUFBaEksRUFBQTBJLFFBQUFYLE9BQ0EvSCxFQUFBMEksUUFBQXJDLFlBQUFyRyxFQUFBMEksUUFBQXJDLFdBQUFsRixPQUFBLElBQ0FuQixFQUFBMEksUUFBQUMsYUFBQTNJLEVBQUEwSSxRQUFBckMsV0FBQSxHQUFBNUMsSUFDQXpELEVBQUEwSSxRQUFBRSxRQUNBNUksRUFBQTBJLFFBQUFHLFNBQUE3SSxFQUFBMEksUUFBQUUsTUFBQW5GLElBQ0F6RCxFQUFBMEksUUFBQWhHLFVBQ0ExQyxFQUFBMEksUUFBQUksV0FBQTlJLEVBQUEwSSxRQUFBaEcsUUFBQWUsSUFDQTlCLEVBQUE2QixLQUFBckssS0FpQkEsUUFBQTRQLEdBQUFwRixHQUNBLEdBQUFxRixHQUFBckYsRUFBQTNELEVBQUFpSixLQUFBL1AsS0FBQSxTQUFBUSxHQUNBLE1BQUFBLEdBQUFzRCxPQUFBa00sRUFBQXZGLFFBRUEsT0FBQXFGLEdBb0JBLFFBQUFFLEdBQUF2RixHQUNBLEdBQUF3RixHQUFBN00sUUFBQThNLFVBQUF6RixFQUNBLE9BQUEsVUFBQTBGLEdBQ0EsTUFBQSxLQUFBQSxFQUFBQyxPQUFBak4sY0FBQXRELFFBQUFvUSxJQUdBLFFBQUFJLEtBQ0EsTUFBQWQsR0FBQTlFLFFBQUFOLFNBQUFuSyxLQUFBLFNBQUFRLEdBQ0EsTUFBQUEsS0EzSkFaLFFBQUFrSCxFQUFBNEQsY0FDQTVELEVBQUEwSSxRQUFBMUksRUFBQTRELGFBQ0E1RCxFQUFBMEksUUFBQVgsTUFBQSxHQUFBQyxNQUFBaEksRUFBQTBJLFFBQUFYLE9BQ0EvSCxFQUFBMEksUUFBQUMsYUFBQTNJLEVBQUEwSSxRQUFBckMsV0FBQSxHQUFBNUMsR0FDQXpELEVBQUEwSSxRQUFBRyxTQUFBN0ksRUFBQTBJLFFBQUFFLE1BQUFuRixHQUNBekQsRUFBQTBJLFFBQUFJLFdBQUE5SSxFQUFBMEksUUFBQWhHLFFBQUFlLEdBQ0F6RCxFQUFBc0MsTUFBQSxFQUNBdEMsRUFBQTBJLFFBQUFjLFdBQUEsS0FDQXhKLEVBQUEwSSxRQUFBYyxXQUFBLElBQUFDLE1BQUEsSUFDQXpKLEVBQUEwSSxRQUFBYyxXQUFBLEtBQ0F4SixFQUFBMEksUUFBQWMsV0FBQSxJQUFBQyxNQUFBLE1BRUF6SixFQUFBMEksUUFBQSxHQUFBZCxHQUNBNUgsRUFBQTBJLFFBQUFPLFFBQ0FqSixFQUFBMEksUUFBQWMsY0FDQXhKLEVBQUEwSSxRQUFBYyxXQUFBLElBQUFDLE1BQUEsR0FDQXpKLEVBQUEwSSxRQUFBYyxXQUFBLElBQUFDLE1BQUEsSUFLQXJRLFFBQUFDLElBQUEyRyxFQUFBMEksU0FFQTFJLEVBQUFxRyxXQUFBSixFQUFBdEMsUUFDQTNELEVBQUEwSixPQUFBbEIsRUFBQTdFLFFBQ0EzRCxFQUFBMkUsVUFBQS9DLEVBQUErQixRQUNBM0QsRUFBQTJKLElBQUE1SixFQUFBNEQsUUFDQTNELEVBQUFpSixLQUFBUixFQUFBOUUsUUFFQTNELEVBQUE0SixXQUFBLEdBQUFDLE9BQUEsR0FFQTdKLEVBQUF3RCxLQUFBLFdBQ0E3QixFQUFBNkIsUUFHQXhELEVBQUE4SixXQUFBLFNBQUFDLEdBQ0EsR0FBQUMsSUFBQSxTQUFBLFVBQ0FDLEVBQUFELEVBQUFqUixRQUFBZ1IsRUFBQUcsTUFBQSxFQUVBLE9BQUFELElBR0FqSyxFQUFBbUMsWUFBQSxFQUNBbkMsRUFBQWlDLFdBQUEsRUFFQWpDLEVBQUErQixPQUFBLFdBRUEsTUFEQS9CLEdBQUFpQyxXQUFBLEVBQ0FqQyxFQUFBVSxLQUFBd0IsWUFHQWxDLEVBQUFvQyxZQUNBQyxJQUNBckMsRUFBQXNDLEtBQ0FyRSxJQUVBc0UsTUFQQSxHQW9CQXZDLEVBQUE0QyxTQUFBLEVBQ0E1QyxFQUFBb0MsYUFBQSxFQUNBcEMsRUFBQXdDLFdBQUEsV0FDQXhDLEVBQUFvQyxhQUFBLEdBMENBcEMsRUFBQW1LLFdBQUEsS0FDQW5LLEVBQUErSSxZQUFBQSxFQUNBL0ksRUFBQWlKLEtBQUFNLElBQ0F2SixFQUFBb0ssZ0JBQ0FwSyxFQUFBcUssZUFDQXJLLEVBQUFzSyxnQkFDQXRLLEVBQUF1SyxhQUFBLEdBY0F2SyxFQUFBd0ssT0FBQSxTQUFBQyxHQUNBLEdBQUFBLEVBQUFuQixPQU1BLE1BQUFtQixFQUxBLElBQUFELElBQ0FsQixPQUFBbUIsRUFFQSxPQUFBRCxVQzlJQSxXQUNBLFlBQ0FsTyxTQUFBQyxPQUFBLDBCQUFBcUIsV0FBQSx5QkFBQSxhQUFBLFNBQUEsVUFBQSxZQUFBLFdBQUEsU0FDQSxTQUFBMUYsRUFBQThILEVBQUE0SCxFQUFBakcsRUFBQUQsRUFBQXpKO0FBc0JBLFFBQUEyTSxHQUFBM0QsRUFBQTRELEdBQ0FBLEVBQUFoTCxpQkFDQWdMLEVBQUFDLGlCQUNBLElBQUFDLEdBQUFwRCxFQUFBb0QsVUFDQTNCLFFBQUEsOENBQ0E0QixHQUFBLFVBQ0FDLE9BQUEsWUFDQVIsWUFBQUksRUFFQWxELEdBQUF1QixLQUFBNkIsR0FBQTdMLEtBQUEsV0FDQTBPLEVBQUFBLFdBQUFuRSxHQUFBeEMsRUFBQXdDLEtBQUFKLFNBQUFuSyxLQUFBLFNBQUFDLEdBQ0EsR0FBQUEsRUFBQWtGLE1BQ0FxRCxFQUFBd0IsS0FBQXhCLEVBQUF5QixTQUFBQyxRQUFBakssRUFBQWtGLE9BQUE5RCxNQUFBLG9CQUNBLENBQ0FtSCxFQUFBd0IsS0FBQXhCLEVBQUF5QixTQUFBQyxRQUFBakssRUFBQStMLFNBQ0EsSUFBQWhFLEdBQUFsQixFQUFBMEssU0FBQTNSLFFBQUFrSSxFQUNBakIsR0FBQTBLLFNBQUF2RixPQUFBakUsRUFBQSxRQXJDQWxCLEVBQUEwSyxTQUFBOUMsRUFBQWpFLFFBQ0EzRCxFQUFBeUYsU0FDQUMsVUFBQSxHQUNBQyxjQUFBLEVBQ0FDLGFBQUEsR0FDQUMsWUFBQSxFQUNBQyxZQUFBLEVBQ0FDLFdBQUEsU0FFQS9GLEVBQUFtRSxRQUFBLFNBQUFDLEdBQ0F6QyxFQUFBdUIsTUFDQXRGLFdBQUEsdUJBQ0FFLFlBQUEsNkJBQ0F1RyxPQUFBL0gsUUFBQWdJLFFBQUFDLFNBQUFDLE1BQ0FDLFlBQUFMLElBQ0FsTCxLQUFBLFNBQUF3TCxHQUNBLEdBQUFBLEdBQ0F4TSxFQUFBNkksZ0JBQUFmLEVBQUEwSyxTQUFBaEcsTUFHQTFFLEVBQUFBLFVBQUE0RSxFQXdCQTVFLEVBQUFrRSxTQUFBLFNBQUFqRCxHQUNBakIsRUFBQTRELGFBQUF0SCxRQUFBZ0osS0FBQXJFLEVBQ0EsSUFBQUMsR0FBQWxCLEVBQUEwSyxTQUFBM1IsUUFBQWtJLEVBQ0FVLEdBQUF1QixNQUNBdEYsV0FBQSx1QkFDQUUsWUFBQSw2QkFDQXVHLE9BQUEvSCxRQUFBZ0ksUUFBQUMsU0FBQUMsTUFDQXhKLE1BQUFnRixFQUFBdUYsU0FDQXJNLEtBQUEsU0FBQXNNLEdBQ0EsR0FBQUEsR0FDQXROLEVBQUE2SSxnQkFBQWYsRUFBQTBLLFNBQUFsRixFQUFBdEUsR0FDQWpKLEVBQUFxQixHQUFBLFlBQUFtSyxHQUFBLEtBQUE0QixRQUFBLGFDM0RBLFdBQ0EsWUFJQSxTQUFBc0YsR0FBQXpTLEVBQUE4SCxFQUFBMEIsRUFBQUMsRUFBQTVCLEVBQUErQixHQXlDQSxRQUFBUyxLQUNBUCxFQUFBNEksR0FBQW5ELE1BQUEsU0FBQXRPLEdBQ0F3SSxFQUFBNkIsS0FBQXhCLEVBQUE0SSxJQUNBNUksRUFBQUcsWUFBQSxFQUNBVCxFQUFBd0IsS0FBQXhCLEVBQUF5QixTQUFBQyxRQUFBLHVCQUNBLFNBQUFqSyxHQUNBdUksRUFBQXdCLEtBQUF4QixFQUFBeUIsU0FBQUMsUUFBQWpLLEVBQUFPLEtBQUEyRSxPQUFBOUQsTUFBQSxnQkFDQXlILEVBQUFHLFlBQUEsSUFLQSxRQUFBbEUsS0FDQThCLEVBQUE5QixRQUFBd0YsR0FBQXpCLEVBQUE0SSxHQUFBbkgsSUFBQXpCLEVBQUE0SSxJQUFBdkgsU0FBQW5LLEtBQUEsU0FBQUMsR0FDQUMsUUFBQUMsSUFBQSxXQUFBRixHQUNBNkksRUFBQUcsWUFBQSxFQUNBUixFQUFBNkIsS0FBQXhCLEVBQUE0SSxNQU9BLFFBQUF2SSxLQUNBTCxFQUFBRyxZQUFBLEVBQ0FMLEVBQUFXLFFBQ0E5RSxJQUFBekYsRUFBQU8sV0FDQUksS0FBQW1KLEVBQUE0SSxHQUFBQyxTQUNBakksU0FBQSxTQUFBQyxHQUNBYixFQUFBWSxTQUFBRSxTQUFBLElBQUFELEVBQUFFLE9BQUFGLEVBQUFHLFNBQ0FDLFFBQUEsU0FBQXZKLEVBQUFtRyxFQUFBSCxFQUFBbEQsR0FDQXdGLEVBQUE0SSxHQUFBQyxPQUFBblIsRUFBQWlFLElBQ0FxRSxFQUFBNEksR0FBQWpTLEtBQUFlLEVBQUFmLEtBQ0FxSixFQUFBSSxhQUFBLEVBQ0FKLEVBQUFZLFNBQUEsRUFDQVosRUFBQU0sS0FDQXJFLElBRUFzRSxNQUNBbEUsTUFBQSxTQUFBM0UsRUFBQW1HLEVBQUFILEVBQUFsRCxHQUNBa0YsRUFBQXdCLEtBQUF4QixFQUFBeUIsU0FBQUMsUUFBQTFKLEVBQUEyRSxPQUFBOUQsTUFBQSxnQkFDQXlILEVBQUFHLFlBQUEsRUFDQUgsRUFBQVksU0FBQSxJQWxGQSxHQUFBWixHQUFBM0MsSUFFQTJDLEdBQUFNLE1BQUEsRUFDQU4sRUFBQUcsWUFBQSxFQUNBSCxFQUFBQyxXQUFBLEVBQ0FELEVBQUFZLFNBQUEsRUFDQVosRUFBQUksYUFBQSxFQUNBSixFQUFBOEksT0FBQSxTQUFBLFVBQUEsVUFBQSxTQUFBLFNBQUEsV0FDQTlJLEVBQUE0SCxZQUFBLEVBQUEsRUFBQSxHQUNBNUgsRUFBQStJLG1CQUFBLFdBQUEsWUFBQSxZQUVBalMsUUFBQWtILEVBQUE0RCxjQUNBNUIsRUFBQTRJLEdBQUE1SyxFQUFBNEQsYUFDQTVCLEVBQUFNLE1BQUEsR0FFQU4sRUFBQTRJLEdBQUEsR0FBQTdLLEdBR0FpQyxFQUFBd0IsS0FBQTdCLEVBQUE2QixLQUVBeEIsRUFBQUQsT0FBQSxXQUdBLE1BRkFDLEdBQUFDLFdBQUEsRUFFQWpDLEVBQUFnTCxPQUFBOUksUUFHQUYsRUFBQUcsWUFBQSxPQUVBSCxFQUFBSSxZQUNBQyxJQUNBTCxFQUFBTSxLQUNBckUsSUFFQXNFLE9BVEEsR0FZQVAsRUFBQVEsV0FBQSxXQUNBUixFQUFBSSxhQUFBLEdBekNBOUYsUUFBQUMsT0FBQSwwQkFBQXFCLFdBQUEsa0JBQUErTSxHQUVBQSxFQUFBek4sU0FBQSxhQUFBLFNBQUEsV0FBQSxZQUFBLEtBQUEsYUNKQSxXQUNBLFlBR0EsU0FBQStOLEdBQUEvUyxFQUFBOEgsRUFBQUQsRUFBQTRCLEVBQUFELEVBQUF6SixFQUFBK0wsR0ErQkEsUUFBQUMsS0FDQUQsRUFBQVAsS0FDQXJLLFFBQUFDLElBQUEySyxHQUNBakUsRUFBQVAsS0FBQWlFLEdBQUFPLEVBQUFQLEtBQUFKLFNBQUFuSyxLQUFBLFNBQUFDLEdBQ0ErSyxFQUFBL0ssTUFNQSxRQUFBeUwsR0FBQTNELEVBQUE0RCxHQUNBQSxFQUFBaEwsaUJBQ0FnTCxFQUFBQyxpQkFDQSxJQUFBQyxHQUFBcEQsRUFBQW9ELFVBQ0EzQixRQUFBLDhDQUNBNEIsR0FBQSxVQUNBQyxPQUFBLFlBQ0FSLFlBQUFJLEVBRUFsRCxHQUFBdUIsS0FBQTZCLEdBQUE3TCxLQUFBLFdBQ0E2RyxFQUFBQSxXQUFBMEQsR0FBQXhDLEVBQUF3QyxLQUFBSixTQUFBbkssS0FBQSxTQUFBQyxHQUNBLEdBQUFBLEVBQUFrRixNQUNBcUQsRUFBQXdCLEtBQUF4QixFQUFBeUIsU0FBQUMsUUFBQWpLLEVBQUFrRixPQUFBOUQsTUFBQSxvQkFDQSxDQUNBbUgsRUFBQXdCLEtBQUF4QixFQUFBeUIsU0FBQUMsUUFBQWpLLEVBQUErTCxTQUNBLElBQUFoRSxHQUFBYyxFQUFBMkgsSUFBQTVRLFFBQUFrSSxFQUNBZSxHQUFBMkgsSUFBQXhFLE9BQUFqRSxFQUFBLFFBUUEsUUFBQWtFLEdBQUFuRSxHQUNBaEosRUFBQXFCLEdBQUEsT0FBQW1LLEdBQUF4QyxFQUFBd0MsS0FBQTRCLFFBQUEsSUFDQW5CLEVBQUFqRCxHQUVBLFFBQUFpRCxHQUFBakQsR0FDQSxHQUFBQyxHQUFBYyxFQUFBMkgsSUFBQTVRLFFBQUFrSSxFQUNBQSxHQUFBbEIsRUFBQVAsS0FBQWlFLEdBQUF4QyxFQUFBd0MsSUFBQSxXQUNBekIsRUFBQTJILElBQUF6SSxHQUFBRCxFQUNBakIsRUFBQTRELGFBQUF0SCxRQUFBZ0osS0FBQXJFLEdBQ0FVLEVBQUF1QixNQUNBdEYsV0FBQSxrQkFDQUMsYUFBQSxLQUNBQyxZQUFBLDJCQUNBdUcsT0FBQS9ILFFBQUFnSSxRQUFBQyxTQUFBQyxNQUNBeEosTUFBQWdGLEVBQUF1RixTQUNBck0sS0FBQSxTQUFBc00sR0FDQSxHQUFBQSxHQUNBdE4sRUFBQTZJLGdCQUFBaUIsRUFBQTJILElBQUFuRSxFQUFBdEUsR0FDQWpKLEVBQUFxQixHQUFBLE9BQUFtSyxHQUFBLEtBQUE0QixRQUFBLFFBbEZBLEdBQUFyRCxHQUFBM0MsSUFFQTJDLEdBQUEySCxJQUFBNUosRUFBQTRELFFBQ0EzQixFQUFBa0MsU0FBQWtCLEVBRUFwRCxFQUFBeUQsU0FDQUMsVUFBQSxPQUNBQyxjQUFBLEVBQ0FDLGFBQUEsR0FDQUMsWUFBQSxFQUNBQyxZQUFBLEVBQ0FDLFdBQUEsU0FHQS9ELEVBQUFtQyxRQUFBLFNBQUFDLEdBQ0F6QyxFQUFBdUIsTUFDQXRGLFdBQUEsa0JBQ0FDLGFBQUEsS0FDQUMsWUFBQSwyQkFDQXVHLE9BQUEvSCxRQUFBZ0ksUUFBQUMsU0FBQUMsTUFDQUMsWUFBQUwsSUFDQWxMLEtBQUEsU0FBQWdTLEdBQ0FBLEtBQUEsR0FDQWxKLEVBQUEySCxJQUFBbE0sS0FBQXlOLE1BSUFqSCxJQVlBakMsRUFBQUEsVUFBQTRDLEVBMUNBdEksUUFBQUMsT0FBQSwwQkFBQXFCLFdBQUEsbUJBQUFxTixHQUNBQSxFQUFBL04sU0FBQSxhQUFBLFNBQUEsS0FBQSxZQUFBLFdBQUEsU0FBQSxtQkNIQSxXQUNBLFlBSUEsU0FBQWlPLEdBQUFqVCxFQUFBOEgsRUFBQTBCLEVBQUFDLEVBQUF5SixFQUFBdEosRUFBQXpFLEdBMkJBLFFBQUFtRixLQUNBcEosUUFBQUMsSUFBQSxjQUNBMkksRUFBQXFKLGFBQUEsRUFHQSxRQUFBdEosS0FFQSxNQURBQyxHQUFBQyxXQUFBLEVBQ0FqQyxFQUFBVSxLQUFBd0IsUUFFQUYsRUFBQUcsWUFBQSxPQUNBSCxFQUFBcUosWUFDQWhKLElBQ0FMLEVBQUFNLEtBQ0FyRSxJQUVBc0UsT0FQQSxFQVdBLFFBQUFBLEtBQ0E2SSxFQUFBN0ksS0FBQVAsRUFBQWpELEtBQUEsU0FBQXJGLEdBQ0FBLEVBQUEyRSxPQUNBcUQsRUFBQXdCLEtBQUF4QixFQUFBeUIsU0FBQUMsUUFBQTFKLEVBQUEyRSxPQUFBOUQsTUFBQSxnQkFDQXlILEVBQUFHLFlBQUEsSUFFQVIsRUFBQTZCLEtBQUF4QixFQUFBakQsTUFDQTJDLEVBQUF3QixLQUFBeEIsRUFBQXlCLFNBQUFDLFFBQUEsOEJBUUEsUUFBQWYsS0FDQUwsRUFBQUcsWUFBQSxFQUNBTCxFQUFBVyxRQUNBOUUsSUFBQXpGLEVBQUFPLFdBQ0FJLEtBQUFtSixFQUFBakQsS0FBQW1KLFNBQ0F0RixTQUFBLFNBQUFDLEdBQ0FiLEVBQUFZLFNBQUFFLFNBQUEsSUFBQUQsRUFBQUUsT0FBQUYsRUFBQUcsU0FDQUMsUUFBQSxTQUFBdkosRUFBQW1HLEVBQUFILEVBQUFsRCxHQUNBd0YsRUFBQWpELEtBQUFtSixPQUFBeE8sRUFBQWlFLElBQ0FxRSxFQUFBcUosYUFBQSxFQUNBckosRUFBQVksU0FBQSxFQUNBWixFQUFBTSxLQUNBckUsSUFFQXNFLE1BQ0FsRSxNQUFBLFNBQUEzRSxFQUFBbUcsRUFBQUgsRUFBQWxELEdBQ0FrRixFQUFBd0IsS0FBQXhCLEVBQUF5QixTQUFBQyxRQUFBMUosRUFBQTJFLE9BQUE5RCxNQUFBLGdCQUNBeUgsRUFBQUcsWUFBQSxFQUNBSCxFQUFBWSxTQUFBLElBSUEsUUFBQTNFLEtBQ0FtTixFQUFBbk4sUUFBQXdGLEdBQUF6QixFQUFBakQsS0FBQTBFLElBQUF6QixFQUFBakQsTUFBQXNFLFNBQUFuSyxLQUFBLFNBQUFDLEdBQ0E2SSxFQUFBRyxZQUFBLEVBQ0FSLEVBQUE2QixLQUFBeEIsRUFBQWpELFFBckZBLEdBQUFpRCxHQUFBM0MsSUFDQXZHLFNBQUFrSCxFQUFBNEQsY0FDQTVCLEVBQUFqRCxLQUFBaUIsRUFBQTRELGFBQ0E1QixFQUFBTSxNQUFBLEdBRUFOLEVBQUFqRCxLQUFBLEdBQUFxTSxHQUVBcEosRUFBQUcsWUFBQSxFQUNBSCxFQUFBQyxXQUFBLEVBQ0FELEVBQUFZLFNBQUEsRUFDQVosRUFBQXFKLGFBQUEsRUFHQXJKLEVBQUFSLFNBQ0FRLEVBQUFSLE1BQUFuRSxFQUFBWCxPQUFBLGdCQUNBc0YsRUFBQVIsTUFBQW5FLEVBQUFWLFFBQUEsU0FDQXFGLEVBQUFSLE1BQUFuRSxFQUFBVCxZQUFBLGNBQ0FvRixFQUFBUixNQUFBbkUsRUFBQVIsVUFBQSxXQUNBbUYsRUFBQVIsTUFBQW5FLEVBQUFQLFFBQUEsU0FHQWtGLEVBQUF3QixLQUFBN0IsRUFBQTZCLEtBQ0F4QixFQUFBRCxPQUFBQSxFQUNBQyxFQUFBUSxXQUFBQSxFQTNCQWxHLFFBQUFDLE9BQUEsMEJBQUFxQixXQUFBLHFCQUFBdU4sR0FDQUEsRUFBQWpPLFNBQUEsYUFBQSxTQUFBLFdBQUEsWUFBQSxXQUFBLFNBQUEsaUJDSEEsV0FDQSxZQUNBWixTQUFBQyxPQUFBLDBCQUFBcUIsV0FBQSwwQkFBQSxhQUFBLFNBQUEsV0FBQSxZQUFBLGFBQUEsV0FBQSxTQUNBLFNBQUExRixFQUFBOEgsRUFBQW9MLEVBQUF6SixFQUFBdEUsRUFBQXFFLEVBQUF6SixHQTBCQSxRQUFBMk0sR0FBQTNELEVBQUE0RCxHQUNBQSxFQUFBaEwsaUJBQ0FnTCxFQUFBQyxpQkFDQSxJQUFBQyxHQUFBcEQsRUFBQW9ELFVBQ0EzQixRQUFBLDhDQUNBNEIsR0FBQSxVQUNBQyxPQUFBLFlBQ0FSLFlBQUFJLEVBRUFsRCxHQUFBdUIsS0FBQTZCLEdBQUE3TCxLQUFBLFdBQ0FrUyxFQUFBQSxXQUFBM0gsR0FBQXhDLEVBQUF3QyxLQUFBSixTQUFBbkssS0FBQSxTQUFBQyxHQUNBLEdBQUFBLEVBQUFrRixNQUNBcUQsRUFBQXdCLEtBQUF4QixFQUFBeUIsU0FBQUMsUUFBQWpLLEVBQUFrRixPQUFBOUQsTUFBQSxvQkFDQSxDQUNBbUgsRUFBQXdCLEtBQUF4QixFQUFBeUIsU0FBQUMsUUFBQWpLLEVBQUErTCxTQUNBLElBQUFoRSxHQUFBbEIsRUFBQXNMLFVBQUF2UyxRQUFBa0ksRUFDQWpCLEdBQUFzTCxVQUFBbkcsT0FBQWpFLEVBQUEsUUF6Q0FsQixFQUFBc0wsVUFBQUYsRUFBQXpILFFBRUEzRCxFQUFBeUYsU0FDQUMsVUFBQSxHQUNBQyxjQUFBLEVBQ0FDLGFBQUEsR0FDQUMsWUFBQSxFQUNBQyxZQUFBLEVBQ0FDLFdBQUEsU0FHQS9GLEVBQUFtRSxRQUFBLFNBQUFDLEdBQ0F6QyxFQUFBdUIsTUFDQXRGLFdBQUEscUJBQ0FDLGFBQUEsS0FDQUMsWUFBQSw4QkFDQXVHLE9BQUEvSCxRQUFBZ0ksUUFBQUMsU0FBQUMsTUFDQUMsWUFBQUwsSUFDQWxMLEtBQUEsU0FBQWtOLEdBQ0F0TixTQUFBc04sR0FDQXBHLEVBQUFzTCxVQUFBN04sS0FBQTJJLE1BSUFwRyxFQUFBQSxVQUFBNEUsRUF3QkE1RSxFQUFBa0UsU0FBQSxTQUFBakQsR0FDQWpCLEVBQUE0RCxhQUFBdEgsUUFBQWdKLEtBQUFyRSxFQUNBLElBQUFDLEdBQUFsQixFQUFBc0wsVUFBQXZTLFFBQUFrSSxFQUNBVSxHQUFBdUIsTUFDQXRGLFdBQUEscUJBQ0FDLGFBQUEsS0FDQUMsWUFBQSw4QkFDQXVHLE9BQUEvSCxRQUFBZ0ksUUFBQUMsU0FBQUMsTUFDQXhKLE1BQUFnRixFQUFBdUYsU0FDQXJNLEtBQUEsU0FBQXNNLEdBQ0EsR0FBQUEsR0FDQXROLEVBQUE2SSxnQkFBQWYsRUFBQXNMLFVBQUE5RixFQUFBdEUsR0FDQWpKLEVBQUFxQixHQUFBLGFBQUFtSyxHQUFBLEtBQUE0QixRQUFBLGFDaEVBLFdBQ0EsWUFHQSxTQUFBa0csR0FBQXJULEVBQUE4SCxFQUFBMEIsRUFBQUMsRUFBQTZKLEVBQUExSixFQUFBekUsR0EyQkEsUUFBQW1GLEtBQ0FwSixRQUFBQyxJQUFBLGNBQ0EySSxFQUFBcUosYUFBQSxFQUdBLFFBQUF0SixLQUVBLE1BREFDLEdBQUFDLFdBQUEsRUFDQWpDLEVBQUFVLEtBQUF3QixRQUVBRixFQUFBRyxZQUFBLE9BQ0FILEVBQUFxSixZQUNBaEosSUFDQUwsRUFBQU0sS0FDQXJFLElBRUFzRSxPQVBBLEVBV0EsUUFBQUEsS0FDQWlKLEVBQUFqSixLQUFBUCxFQUFBakQsS0FBQSxTQUFBckYsR0FDQUEsRUFBQTJFLE9BQ0FxRCxFQUFBd0IsS0FBQXhCLEVBQUF5QixTQUFBQyxRQUFBMUosRUFBQTJFLE9BQUE5RCxNQUFBLGdCQUNBeUgsRUFBQUcsWUFBQSxJQUVBUixFQUFBNkIsS0FBQXhCLEVBQUFqRCxNQUNBMkMsRUFBQXdCLEtBQUF4QixFQUFBeUIsU0FBQUMsUUFBQSw4QkFRQSxRQUFBZixLQUNBTCxFQUFBRyxZQUFBLEVBQ0FMLEVBQUFXLFFBQ0E5RSxJQUFBekYsRUFBQU8sV0FDQUksS0FBQW1KLEVBQUFqRCxLQUFBbUosU0FDQXRGLFNBQUEsU0FBQUMsR0FDQWIsRUFBQVksU0FBQUUsU0FBQSxJQUFBRCxFQUFBRSxPQUFBRixFQUFBRyxTQUNBQyxRQUFBLFNBQUF2SixFQUFBbUcsRUFBQUgsRUFBQWxELEdBQ0F3RixFQUFBakQsS0FBQW1KLE9BQUF4TyxFQUFBaUUsSUFDQXFFLEVBQUFxSixhQUFBLEVBQ0FySixFQUFBWSxTQUFBLEVBQ0FaLEVBQUFNLEtBQ0FyRSxJQUVBc0UsTUFDQWxFLE1BQUEsU0FBQTNFLEVBQUFtRyxFQUFBSCxFQUFBbEQsR0FDQWtGLEVBQUF3QixLQUFBeEIsRUFBQXlCLFNBQUFDLFFBQUExSixFQUFBMkUsT0FBQTlELE1BQUEsZ0JBQ0F5SCxFQUFBRyxZQUFBLEVBQ0FILEVBQUFZLFNBQUEsSUFJQSxRQUFBM0UsS0FDQXVOLEVBQUF2TixRQUFBd0YsR0FBQXpCLEVBQUFqRCxLQUFBMEUsSUFBQXpCLEVBQUFqRCxNQUFBc0UsU0FBQW5LLEtBQUEsU0FBQUMsR0FDQTZJLEVBQUFHLFlBQUEsRUFDQVIsRUFBQTZCLEtBQUF4QixFQUFBakQsUUFyRkEsR0FBQWlELEdBQUEzQyxJQUNBdkcsU0FBQWtILEVBQUE0RCxjQUNBNUIsRUFBQWpELEtBQUFpQixFQUFBNEQsYUFDQTVCLEVBQUFNLE1BQUEsR0FFQU4sRUFBQWpELEtBQUEsR0FBQXlNLEdBRUF4SixFQUFBRyxZQUFBLEVBQ0FILEVBQUFDLFdBQUEsRUFDQUQsRUFBQVksU0FBQSxFQUNBWixFQUFBcUosYUFBQSxFQUdBckosRUFBQVIsU0FDQVEsRUFBQVIsTUFBQW5FLEVBQUFYLE9BQUEsZ0JBQ0FzRixFQUFBUixNQUFBbkUsRUFBQVYsUUFBQSxTQUNBcUYsRUFBQVIsTUFBQW5FLEVBQUFULFlBQUEsY0FDQW9GLEVBQUFSLE1BQUFuRSxFQUFBUixVQUFBLFdBQ0FtRixFQUFBUixNQUFBbkUsRUFBQVAsUUFBQSxTQUdBa0YsRUFBQXdCLEtBQUE3QixFQUFBNkIsS0FDQXhCLEVBQUFELE9BQUFBLEVBQ0FDLEVBQUFRLFdBQUFBLEVBMUJBbEcsUUFBQUMsT0FBQSwwQkFBQXFCLFdBQUEsaUJBQUEyTixHQUNBQSxFQUFBck8sU0FBQSxhQUFBLFNBQUEsV0FBQSxZQUFBLE9BQUEsU0FBQSxpQkNIQSxXQUNBLFlBQ0FaLFNBQUFDLE9BQUEsMEJBQUFxQixXQUFBLHNCQUFBLGFBQUEsU0FBQSxPQUFBLFlBQUEsYUFBQSxXQUFBLFNBQ0EsU0FBQTFGLEVBQUE4SCxFQUFBd0wsRUFBQTdKLEVBQUF0RSxFQUFBcUUsRUFBQXpKLEdBQ0ErSCxFQUFBeUwsTUFBQUQsRUFBQTdILFFBRUEzRCxFQUFBd0IsU0FDQXhCLEVBQUF3QixNQUFBbkUsRUFBQVgsT0FBQSxnQkFDQXNELEVBQUF3QixNQUFBbkUsRUFBQVYsUUFBQSxTQUNBcUQsRUFBQXdCLE1BQUFuRSxFQUFBVCxZQUFBLGNBQ0FvRCxFQUFBd0IsTUFBQW5FLEVBQUFSLFVBQUEsV0FDQW1ELEVBQUF3QixNQUFBbkUsRUFBQVAsUUFBQSxTQUVBa0QsRUFBQXlGLFNBQ0FDLFVBQUEsR0FDQUMsY0FBQSxFQUNBQyxhQUFBLEdBQ0FDLFlBQUEsRUFDQUMsWUFBQSxFQUNBQyxXQUFBLFNBR0EvRixFQUFBbUUsUUFBQSxTQUFBQyxHQUNBekMsRUFBQXVCLE1BQ0F0RixXQUFBLGlCQUNBQyxhQUFBLEtBQ0FDLFlBQUEsMEJBQ0F1RyxPQUFBL0gsUUFBQWdJLFFBQUFDLFNBQUFDLE1BQ0FDLFlBQUFMLElBQ0FsTCxLQUFBLFNBQUFrTixHQUNBdE4sU0FBQXNOLEdBQ0FwRyxFQUFBeUwsTUFBQWhPLEtBQUEySSxNQUlBcEcsRUFBQUEsVUFBQSxTQUFBaUIsRUFBQTRELEdBQ0FBLEVBQUFoTCxpQkFDQWdMLEVBQUFDLGtCQUNBMEcsRUFBQUEsV0FBQS9ILEdBQUF4QyxFQUFBd0MsS0FBQUosU0FBQW5LLEtBQUEsU0FBQUMsR0FDQSxHQUFBQSxFQUFBa0YsTUFDQXFELEVBQUF3QixLQUFBeEIsRUFBQXlCLFNBQUFDLFFBQUFqSyxFQUFBa0YsT0FBQTlELE1BQUEsb0JBQ0EsQ0FDQW1ILEVBQUF3QixLQUFBeEIsRUFBQXlCLFNBQUFDLFFBQUFqSyxFQUFBK0wsU0FDQSxJQUFBaEUsR0FBQWxCLEVBQUF5TCxNQUFBMVMsUUFBQWtJLEVBQ0FqQixHQUFBeUwsTUFBQXRHLE9BQUFqRSxFQUFBLE9BS0FsQixFQUFBa0UsU0FBQSxTQUFBakQsR0FDQWpCLEVBQUE0RCxhQUFBdEgsUUFBQWdKLEtBQUFyRSxFQUNBLElBQUFDLEdBQUFsQixFQUFBeUwsTUFBQTFTLFFBQUFrSSxFQUNBVSxHQUFBdUIsTUFDQXRGLFdBQUEsaUJBQ0FDLGFBQUEsS0FDQUMsWUFBQSwwQkFDQXVHLE9BQUEvSCxRQUFBZ0ksUUFBQUMsU0FBQUMsTUFDQXhKLE1BQUFnRixFQUFBdUYsU0FDQXJNLEtBQUEsU0FBQXNNLEdBQ0EsR0FBQUEsR0FDQXROLEVBQUE2SSxnQkFBQWYsRUFBQXlMLE1BQUFqRyxFQUFBdEUsR0FDQWpKLEVBQUFxQixHQUFBLFNBQUFtSyxHQUFBLEtBQUE0QixRQUFBLGFDN0RBLFdBQ0EsWUFJQSxTQUFBcUcsR0FBQXhULEVBQUE4SCxFQUFBMEIsRUFBQUMsRUFBQTZHLEVBQUF6SSxFQUFBK0IsRUFBQTZKLEVBQUF4TixHQXFDQSxRQUFBb0UsS0FDQXZDLEVBQUE0SSxNQUFBbkIsTUFBQSxTQUFBdE8sR0FDQXdJLEVBQUE2QixLQUFBckssR0FDQTZHLEVBQUFtQyxZQUFBLEVBQ0FULEVBQUF3QixLQUFBeEIsRUFBQXlCLFNBQUFDLFFBQUEsdUJBQ0EsU0FBQWpLLEdBQ0F1SSxFQUFBd0IsS0FBQXhCLEVBQUF5QixTQUFBQyxRQUFBakssRUFBQU8sS0FBQTJFLE9BQUE5RCxNQUFBLGdCQUNBeUYsRUFBQW1DLFlBQUEsSUF3QkEsUUFBQUUsS0FDQXJDLEVBQUFtQyxZQUFBLEVBQ0FMLEVBQUFXLFFBQ0E5RSxJQUFBekYsRUFBQU8sV0FDQUksS0FBQW1ILEVBQUE0SSxNQUFBaUMsU0FDQWpJLFNBQUEsU0FBQUMsR0FDQTdDLEVBQUE0QyxTQUFBRSxTQUFBLElBQUFELEVBQUFFLE9BQUFGLEVBQUFHLFNBQ0FDLFFBQUEsU0FBQXZKLEVBQUFtRyxFQUFBSCxFQUFBbEQsR0FDQXdELEVBQUE0SSxNQUFBaUMsT0FBQW5SLEVBQUFpRSxJQUNBcUMsRUFBQTRJLE1BQUFqUSxLQUFBZSxFQUFBZixLQUNBcUgsRUFBQW9DLGFBQUEsRUFDQXBDLEVBQUE0QyxTQUFBLEVBQ0E1QyxFQUFBc0MsS0FDQXJFLElBRUFzRSxNQUNBbEUsTUFBQSxTQUFBM0UsRUFBQW1HLEVBQUFILEVBQUFsRCxHQUNBa0YsRUFBQXdCLEtBQUF4QixFQUFBeUIsU0FBQUMsUUFBQTFKLEVBQUEyRSxPQUFBOUQsTUFBQSxnQkFDQXlGLEVBQUFtQyxZQUFBLEVBQ0FuQyxFQUFBNEMsU0FBQSxJQUtBLFFBQUEzRSxLQUNBdUssRUFBQXZLLFFBQUF3RixHQUFBekQsRUFBQTRJLE1BQUFuRixJQUFBekQsRUFBQTRJLE9BQUF2RixTQUFBbkssS0FBQSxTQUFBQyxHQUNBNkcsRUFBQW1DLFlBQUEsRUFDQVIsRUFBQTZCLEtBQUF4RCxFQUFBNEksU0E5RkE1SSxFQUFBbUMsWUFBQSxFQUNBbkMsRUFBQWlDLFdBQUEsRUFDQWpDLEVBQUE0QyxTQUFBLEVBQ0E1QyxFQUFBb0MsYUFBQSxFQUNBcEMsRUFBQTRMLFFBQUEsRUFDQTVMLEVBQUE2TCxVQUFBLEdBQ0E3TCxFQUFBMkosSUFBQTVKLEVBQUE0RCxRQUVBN0ssUUFBQWtILEVBQUE0RCxjQUNBNUQsRUFBQTRJLE1BQUE1SSxFQUFBNEQsYUFDQTVELEVBQUE0SSxNQUFBZ0MsS0FDQTVLLEVBQUE0SSxNQUFBYSxNQUFBekosRUFBQTRJLE1BQUFnQyxHQUFBbkgsSUFDQXpELEVBQUFzQyxNQUFBLEVBQ0EsV0FBQXRDLEVBQUE0SSxNQUFBalEsTUFDQXFILEVBQUE0TCxRQUFBLEVBQ0E1TCxFQUFBNkwsVUFBQTdMLEVBQUE0SSxNQUFBaUMsUUFDQSxVQUFBN0ssRUFBQTRJLE1BQUFqUSxNQUlBcUgsRUFBQTRJLE1BQUEsR0FBQUosR0FFQXhJLEVBQUErQixPQUFBLFdBRUEsTUFEQS9CLEdBQUFpQyxXQUFBLEVBQ0FqQyxFQUFBVSxLQUFBd0IsWUFHQWxDLEVBQUFvQyxjQUFBcEMsRUFBQTRMLE9BQ0F2SixJQUNBckMsRUFBQXNDLEtBQ0FyRSxJQUVBc0UsTUFQQSxHQVVBdkMsRUFBQXdELEtBQUE3QixFQUFBNkIsS0FhQXhELEVBQUF3QyxXQUFBLFdBQ0F4QyxFQUFBb0MsYUFBQSxFQUNBcEMsRUFBQTRMLFFBQUEsR0FHQTVMLEVBQUE4TCxZQUFBLFdBQ0E5TCxFQUFBNEwsUUFBQSxFQUNBek4sRUFBQVUsS0FBQTNHLEVBQUFNLFdBQUEsc0JBQUFtRixJQUFBcUMsRUFBQTRJLE1BQUFpQyxTQUFBNUgsUUFBQSxTQUFBOUosR0FDQTZHLEVBQUE2TCxVQUFBLEdBQ0ExUyxFQUFBc0ssTUFBQSxJQUNBekQsRUFBQTZMLFVBQUExUyxFQUFBc0ssR0FDQXpELEVBQUE0SSxNQUFBalEsS0FBQSxjQUtBcUgsRUFBQStMLE1BQUEsU0FBQUMsR0FDQSxNQUFBTCxHQUFBTSxtQkFBQSxpQ0FBQUQsSUFwRUExUCxRQUFBQyxPQUFBLDBCQUFBcUIsV0FBQSxxQkFBQThOLEdBQ0FBLEVBQUF4TyxTQUFBLGFBQUEsU0FBQSxXQUFBLFlBQUEsUUFBQSxLQUFBLFNBQUEsT0FBQSxZQ0pBLFdBQ0EsWUFJQSxTQUFBZ1AsR0FBQWhVLEVBQUE4SCxFQUFBd0ksRUFBQTdHLEVBQUFELEVBQUF6SixHQXVCQSxRQUFBMk0sR0FBQTNELEVBQUE0RCxHQUNBQSxFQUFBaEwsaUJBQ0FnTCxFQUFBQyxpQkFDQSxJQUFBQyxHQUFBcEQsRUFBQW9ELFVBQ0EzQixRQUFBLDhDQUNBNEIsR0FBQSxVQUNBQyxPQUFBLFlBQ0FSLFlBQUFJLEVBRUFsRCxHQUFBdUIsS0FBQTZCLEdBQUE3TCxLQUFBLFdBQ0FzUCxFQUFBQSxXQUFBL0UsR0FBQXhDLEVBQUF3QyxLQUFBSixTQUFBbkssS0FBQSxTQUFBQyxHQUNBLEdBQUFBLEVBQUFrRixNQUNBcUQsRUFBQXdCLEtBQUF4QixFQUFBeUIsU0FBQUMsUUFBQWpLLEVBQUFrRixPQUFBOUQsTUFBQSxvQkFDQSxDQUNBbUgsRUFBQXdCLEtBQUF4QixFQUFBeUIsU0FBQUMsUUFBQWpLLEVBQUErTCxTQUNBLElBQUFoRSxHQUFBbEIsRUFBQTBKLE9BQUEzUSxRQUFBa0ksRUFDQWpCLEdBQUEwSixPQUFBdkUsT0FBQWpFLEVBQUEsUUF0Q0FsQixFQUFBMEosT0FBQWxCLEVBQUE3RSxRQUNBM0QsRUFBQXlGLFNBQ0FDLFVBQUEsR0FDQUMsY0FBQSxFQUNBQyxhQUFBLEdBQ0FDLFlBQUEsRUFDQUMsWUFBQSxFQUNBQyxXQUFBLFNBRUEvRixFQUFBbUUsUUFBQSxTQUFBQyxHQUNBekMsRUFBQXVCLE1BQ0F0RixXQUFBLHFCQUNBRSxZQUFBLDJCQUNBdUcsT0FBQS9ILFFBQUFnSSxRQUFBQyxTQUFBQyxNQUNBQyxZQUFBTCxJQUNBbEwsS0FBQSxTQUFBa04sR0FDQXROLFNBQUFzTixHQUNBcEcsRUFBQTBKLE9BQUFqTSxLQUFBMkksTUFJQXBHLEVBQUFBLFVBQUE0RSxFQXdCQTVFLEVBQUFrRSxTQUFBLFNBQUFqRCxHQUNBakIsRUFBQTRELGFBQUF0SCxRQUFBZ0osS0FBQXJFLEVBQ0EsSUFBQUMsR0FBQWxCLEVBQUEwSixPQUFBM1EsUUFBQWtJLEVBQ0FVLEdBQUF1QixNQUNBdEYsV0FBQSxxQkFDQUUsWUFBQSwyQkFDQXVHLE9BQUEvSCxRQUFBZ0ksUUFBQUMsU0FBQUMsTUFDQXhKLE1BQUFnRixFQUFBdUYsU0FDQXJNLEtBQUEsU0FBQXNNLEdBQ0EsR0FBQUEsR0FDQXROLEVBQUE2SSxnQkFBQWYsRUFBQTBKLE9BQUFsRSxFQUFBdEUsR0FDQWpKLEVBQUFxQixHQUFBLFVBQUFtSyxHQUFBLEtBQUE0QixRQUFBLE9BNURBL0ksUUFBQUMsT0FBQSwwQkFBQXFCLFdBQUEsc0JBQUFzTyxHQUNBQSxFQUFBaFAsU0FBQSxhQUFBLFNBQUEsUUFBQSxZQUFBLFdBQUEiLCJmaWxlIjoiYXBwLmNvbmNhdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuXHJcbiAgICB2YXIgZXF1YWxzRGlyZWN0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsIC8vIG9ubHkgYWN0aXZhdGUgb24gZWxlbWVudCBhdHRyaWJ1dGVcclxuICAgICAgICAgICAgcmVxdWlyZTogJz9uZ01vZGVsJywgLy8gZ2V0IGEgaG9sZCBvZiBOZ01vZGVsQ29udHJvbGxlclxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW0sIGF0dHJzLCBuZ01vZGVsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW5nTW9kZWwpIHJldHVybjsgLy8gZG8gbm90aGluZyBpZiBubyBuZy1tb2RlbFxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHdhdGNoIG93biB2YWx1ZSBhbmQgcmUtdmFsaWRhdGUgb24gY2hhbmdlXHJcbiAgICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goYXR0cnMubmdNb2RlbCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBvYnNlcnZlIHRoZSBvdGhlciB2YWx1ZSBhbmQgcmUtdmFsaWRhdGUgb24gY2hhbmdlXHJcbiAgICAgICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnZXF1YWxzJywgZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsaWRhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFsdWVzXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbDEgPSBuZ01vZGVsLiR2aWV3VmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbDIgPSBhdHRycy5lcXVhbHM7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IHZhbGlkaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgbmdNb2RlbC4kc2V0VmFsaWRpdHkoJ2VxdWFscycsICF2YWwxIHx8ICF2YWwyIHx8IHZhbDEgPT09IHZhbDIpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgY2FwaXRhbGl6ZUZpbHRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGlucHV0LCBhbGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuICghIWlucHV0KSA/IGlucHV0LnJlcGxhY2UoLyhbXlxcV19dK1teXFxzLV0qKSAqL2csIGZ1bmN0aW9uICh0eHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eHQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0eHQuc3Vic3RyKDEpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIH0pIDogJyc7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiYWNrZW5kQXBwJywgWywnY2hhcnQuanMnLCdjaGFydC5qcycsJ2FuZ3VsYXItc3RvcmFnZScsJ25nRmlsZVVwbG9hZCcsICduZ01hdGVyaWFsJywgJ2RhdGEtdGFibGUnLCAnbmdSZXNvdXJjZScsJ25nTWVzc2FnZXMnLCAndWkucm91dGVyJywnYmFja2VuZEFwcC5jb250cm9sbGVycycsICdiYWNrZW5kQXBwLnNlcnZpY2VzJ10pXHJcbiAgICAgICAgLmNvbmZpZyh0aGVtZUNvbmZpZylcclxuICAgICAgICAuY29uc3RhbnQoJ1VTRVJfUk9MRVMnLCB7XHJcbiAgICAgICAgICAgIGFkbWluOiAnYWRtaW4nLFxyXG4gICAgICAgICAgICBlZGl0b3I6ICdlZGl0b3InLFxyXG4gICAgICAgICAgICBlZGl0b3JQbHVzOiAnZWRpdG9yUGx1cycsXHJcbiAgICAgICAgICAgIGFuYWxpc3RhOiAnYW5hbGlzdGEnLFxyXG4gICAgICAgICAgICBsZWN0b3I6ICdsZWN0b3InXHJcbiAgICAgICAgfSlcclxuICAgICAgICAucnVuKGFwcFJ1bilcclxuICAgICAgICAuZmlsdGVyKCdjYXBpdGFsaXplJywgY2FwaXRhbGl6ZUZpbHRlcilcclxuICAgICAgICAuZGlyZWN0aXZlKCdlcXVhbHMnLCBlcXVhbHNEaXJlY3RpdmUpO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiYWNrZW5kQXBwLmNvbnRyb2xsZXJzJyxbXSk7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmFja2VuZEFwcC5zZXJ2aWNlcycsW10pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFwcFJ1bigkc3RhdGUsICRyb290U2NvcGUsIFVzZXJTZXJ2aWNlLCBBdXRoU2VydmljZSkge1xyXG4gICAgICAgIHN3aXRjaCh3aW5kb3cubG9jYXRpb24ub3JpZ2luKXtcclxuICAgICAgICAgICAgY2FzZSAnaHR0cDovL3N0ZzEuand0ZGlnaXRhbHByLmNvbSc6XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnNlcnZlcl91cmwgPSAnaHR0cDovL3N0ZzEuand0ZGlnaXRhbHByLmNvbS9tcHRvJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdodHRwOi8vMTkyLjE2OC4yMzUuMTUzJzpcclxuICAgICAgICAgICAgY2FzZSAnaHR0cDovL2xvY2FsaG9zdDo2MzM0Mic6XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnNlcnZlcl91cmwgPSAnaHR0cDovLzE5Mi4xNjguMjM1LjE1My9tdXNpY2FfcGFyYV90dXNfb2lkb3MvcHVibGljJztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdodHRwOi8vd3d3Lm11c2ljYXBhcmF0dXNvaWRvc3ByLmNvbSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ2h0dHA6Ly93d3cubXB0b3ByLmNvbSc6XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnNlcnZlcl91cmwgPSAnaHR0cDovL3d3dy5tdXNpY2FwYXJhdHVzb2lkb3Nwci5jb20nO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRyb290U2NvcGUudXBsb2FkX3VybCA9ICRyb290U2NvcGUuc2VydmVyX3VybCArICcvYXBpL3VwbG9hZCc7XHJcblxyXG4gICAgICAgICRyb290U2NvcGUuaXNUeXBlID0gZnVuY3Rpb24gKHR5cGUsIHN0clR5cGUsIGZpbGUpIHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkNBTUJJTyBERSBDT1NPXCIsIHR5cGUsIHN0clR5cGUsIGZpbGUpO1xyXG4gICAgICAgICAgICB2YXIgaXNUeXBlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChzdHJUeXBlID09IHR5cGUpXHJcbiAgICAgICAgICAgICAgICBpc1R5cGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChmaWxlICYmIGZpbGUudHlwZSAhPSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICBpc1R5cGUgPSBmaWxlLnR5cGUuaW5kZXhPZih0eXBlKSA+IC0xO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGlzVHlwZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAoIUF1dGhTZXJ2aWNlLmlzQXV0aGVudGljYXRlZCgpKVxyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2xvZ2luJyk7XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIEF1dGhTZXJ2aWNlLnJlZnJlc2goKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtjb25zb2xlLmxvZyhyZXNwb25zZSk7fSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbiAoZXZlbnQsIG5leHQpIHtcclxuICAgICAgICAgICAgaWYgKG5leHQuZGF0YSlcclxuICAgICAgICAgICAgICAgIHZhciBhdXRob3JpemVkUm9sZXMgPSBuZXh0LmRhdGEuYXV0aG9yaXplZFJvbGVzO1xyXG4gICAgICAgICAgICBpZiAoYXV0aG9yaXplZFJvbGVzICYmICFBdXRoU2VydmljZS5pc0F1dGhvcml6ZWQoYXV0aG9yaXplZFJvbGVzKSkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgndW5hdXRob3JpemVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gdGhlbWVDb25maWcoJG1kVGhlbWluZ1Byb3ZpZGVyKSB7XHJcbiAgICAgICAgdmFyIGN1c3RvbUJsdWVNYXAgPSAkbWRUaGVtaW5nUHJvdmlkZXIuZXh0ZW5kUGFsZXR0ZSgnbGlnaHQtYmx1ZScsIHtcclxuICAgICAgICAgICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JyxcclxuICAgICAgICAgICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6IFsnNTAnXSxcclxuICAgICAgICAgICAgJzUwJzogJ2ZmZmZmZidcclxuICAgICAgICB9KTtcclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIuZGVmaW5lUGFsZXR0ZSgnY3VzdG9tQmx1ZScsIGN1c3RvbUJsdWVNYXApO1xyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnZGVmYXVsdCcpLnByaW1hcnlQYWxldHRlKCdjdXN0b21CbHVlJywge1xyXG4gICAgICAgICAgICAnZGVmYXVsdCc6ICc1MDAnLFxyXG4gICAgICAgICAgICAnaHVlLTEnOiAnNTAnXHJcbiAgICAgICAgfSkuYWNjZW50UGFsZXR0ZSgncGluaycpO1xyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnaW5wdXQnLCAnZGVmYXVsdCcpLnByaW1hcnlQYWxldHRlKCdncmV5Jyk7XHJcbiAgICB9O1xyXG59KSgpOyIsbnVsbCwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiYWNrZW5kQXBwJykuY29uZmlnKGNvbmZpZ1JvdXRlcyk7XHJcblxyXG4gICAgY29uZmlnUm91dGVzLiRpbmplY3QgPSBbJyRzdGF0ZVByb3ZpZGVyJywgJ1VTRVJfUk9MRVMnLCAnJGh0dHBQcm92aWRlcicsICckcHJvdmlkZSddO1xyXG4gICAgZnVuY3Rpb24gY29uZmlnUm91dGVzKCRzdGF0ZVByb3ZpZGVyLCBVU0VSX1JPTEVTLCAkaHR0cFByb3ZpZGVyLCAkcHJvdmlkZSkge1xyXG5cclxuICAgICAgICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdBUElJbnRlcmNlcHRvcicpO1xyXG5cclxuICAgICAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSgnYWRzJywge1xyXG4gICAgICAgICAgICB1cmw6ICcvcHJvbW9zLzppZCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdBZExpc3RDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL3Byb21vcy9saXN0Lmh0bWwnLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBhdXRob3JpemVkUm9sZXM6IFtVU0VSX1JPTEVTLmFkbWluLCBVU0VSX1JPTEVTLmVkaXRvclBsdXNdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS5zdGF0ZSgnY2FuY2lvbmVzJywge1xyXG4gICAgICAgICAgICB1cmw6ICcvY2FuY2lvbmVzLzppZCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDYW5jaW9uTGlzdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvY2FuY2lvbmVzL2xpc3QuaHRtbCcsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGF1dGhvcml6ZWRSb2xlczogW1VTRVJfUk9MRVMuYWRtaW4sIFVTRVJfUk9MRVMuZWRpdG9yLCBVU0VSX1JPTEVTLmVkaXRvclBsdXNdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS5zdGF0ZSgnY2F0ZWdvcmlhcycsIHtcclxuICAgICAgICAgICAgdXJsOiAnL2NhdGVnb3JpYXMvOmlkJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ0NhdGVnb3JpYUxpc3RDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL2NhdGVnb3JpYXMvbGlzdC5odG1sJyxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgYXV0aG9yaXplZFJvbGVzOiBbVVNFUl9ST0xFUy5hZG1pbiwgVVNFUl9ST0xFUy5lZGl0b3IsIFVTRVJfUk9MRVMuZWRpdG9yUGx1c11cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnN0YXRlKCdjdWVudG9zJywge1xyXG4gICAgICAgICAgICB1cmw6ICcvY3VlbnRvcy86aWQnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnQ3VlbnRvQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9jdWVudG9zL2xpc3QuaHRtbCcsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGF1dGhvcml6ZWRSb2xlczogW1VTRVJfUk9MRVMuYWRtaW4sIFVTRVJfUk9MRVMuZWRpdG9yLCBVU0VSX1JPTEVTLmVkaXRvclBsdXNdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS5zdGF0ZSgnY29tZW50YXJpb3MnLCB7XHJcbiAgICAgICAgICAgIHVybDogJy9jb21lbnRhcmlvcy86aWQnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnQ29tZW50YXJpb0NvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvY29tZW50YXJpb3MvbGlzdC5odG1sJyxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgYXV0aG9yaXplZFJvbGVzOiBbVVNFUl9ST0xFUy5hZG1pbiwgVVNFUl9ST0xFUy5lZGl0b3IsIFVTRVJfUk9MRVMuZWRpdG9yUGx1c11cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnN0YXRlKCdkaXNjb3MnLCB7XHJcbiAgICAgICAgICAgIHVybDogJy9kaXNjb3MvOmlkJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ0Rpc2NvTGlzdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvZGlzY29zL2xpc3QuaHRtbCcsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGF1dGhvcml6ZWRSb2xlczogW1VTRVJfUk9MRVMuYWRtaW4sIFVTRVJfUk9MRVMuZWRpdG9yLCBVU0VSX1JPTEVTLmVkaXRvclBsdXNdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS5zdGF0ZSgnZXZlbnRvcycsIHtcclxuICAgICAgICAgICAgdXJsOiAnL2V2ZW50b3MnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnRXZlbnRvTGlzdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvZXZlbnRvcy9saXN0Lmh0bWwnLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBhdXRob3JpemVkUm9sZXM6IFtVU0VSX1JPTEVTLmFkbWluLCBVU0VSX1JPTEVTLmVkaXRvciwgVVNFUl9ST0xFUy5lZGl0b3JQbHVzXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkuc3RhdGUoJ25vdGljaWFzJywge1xyXG4gICAgICAgICAgICB1cmw6ICcvbm90aWNpYXMnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnTm90aWNpYUxpc3RDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL25vdGljaWFzL2xpc3QuaHRtbCcsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGF1dGhvcml6ZWRSb2xlczogW1VTRVJfUk9MRVMuYWRtaW4sIFVTRVJfUk9MRVMuZWRpdG9yLCBVU0VSX1JPTEVTLmVkaXRvclBsdXNdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS5zdGF0ZSgndmlkZW9zJywge1xyXG4gICAgICAgICAgICB1cmw6ICcvdmlkZW9zJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ1ZpZGVvTGlzdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvdmlkZW9zL2xpc3QuaHRtbCcsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGF1dGhvcml6ZWRSb2xlczogW1VTRVJfUk9MRVMuYWRtaW4sIFVTRVJfUk9MRVMuZWRpdG9yLCBVU0VSX1JPTEVTLmVkaXRvclBsdXNdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS5zdGF0ZSgndXNlcnMnLCB7XHJcbiAgICAgICAgICAgIHVybDogJy91c2VycycsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdVc2VyTGlzdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvdXNlcnMvbGlzdC5odG1sJyxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgYXV0aG9yaXplZFJvbGVzOiBbVVNFUl9ST0xFUy5hZG1pbl1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnN0YXRlKCdzaXRldXNlcnMnLCB7XHJcbiAgICAgICAgICAgIHVybDogJy9zaXRldXNlcnMnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnU2l0ZVVzZXJMaXN0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9zaXRlVXNlcnMvbGlzdC5odG1sJyxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgYXV0aG9yaXplZFJvbGVzOiBbVVNFUl9ST0xFUy5hZG1pbl1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnN0YXRlKCdpbnRlZ3JhbnRlcycsIHtcclxuICAgICAgICAgICAgdXJsOiAnL2ludGVncmFudGVzLzppZCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdJbnRlZ3JhbnRlTGlzdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvaW50ZWdyYW50ZXMvbGlzdC5odG1sJyxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgYXV0aG9yaXplZFJvbGVzOiBbVVNFUl9ST0xFUy5hZG1pbl1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnN0YXRlKCdsb2dpbicsIHtcclxuICAgICAgICAgICAgdXJsOiAnL2xvZ2luJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ0xvZ2luQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9sb2dpbi5odG1sJ1xyXG4gICAgICAgIH0pLnN0YXRlKCdhbmFseXRpY3MnLCB7XHJcbiAgICAgICAgICAgIHVybDogJy9hbmFseXRpY3MnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnQW5hbHl0aWNzQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9hbmFseXRpY3MuaHRtbCdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyouaHRtbDVNb2RlKHtcclxuICAgICAgICAgZW5hYmxlZDp0cnVlLFxyXG4gICAgICAgICByZXF1aXJlQmFzZTpmYWxzZVxyXG4gICAgICAgICB9KTsqL1xyXG4gICAgfVxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24oKXtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIC8qICB2YXIgYXBpUmVzb3VyY2VzID0gWydBZCcsICdDYW5jaW9uJywgJ0NhdGVnb3JpYScsICdDb21lbnRhcmlvJywgJ0N1ZW50bycsICdEaXNjbycsICdFdmVudG8nLCAnSW50ZWdyYW50ZScsICdVc2VyJywgJ1VzZXJTaXRlJywgJ05vdGljaWEnLCAnVmlkZW8nLCAnVGFnJ107XHJcblxyXG4gICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXBpUmVzb3VyY2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgdmFyIHNlcnZpY2VOYW1lID0gYXBpUmVzb3VyY2VzW2ldO1xyXG4gICAgIGNvbnNvbGUubG9nKFwicmVzb3VyY2UgTmFtZVwiLCBzZXJ2aWNlTmFtZSk7XHJcbiAgICAgY29uc29sZS5sb2coXCJyZXNvdXJjZSBpZFwiLCBzZXJ2aWNlTmFtZS50b0xvd2VyQ2FzZSgpKTtcclxuICAgICBhbmd1bGFyLm1vZHVsZShcImJhY2tlbmRBcHAuc2VydmljZXNcIikuZmFjdG9yeShzZXJ2aWNlTmFtZSwgZnVuY3Rpb24gKCRyZXNvdXJjZSwgJHJvb3RTY29wZSkge1xyXG4gICAgIHJldHVybiAkcmVzb3VyY2UoJHJvb3RTY29wZS5zZXJ2ZXJfdXJsICsgJy9hcGkvYWQnICsgc2VydmljZU5hbWUudG9Mb3dlckNhc2UoKSArICcvOmlkJywgbnVsbCwgeyd1cGRhdGUnOiB7bWV0aG9kOiAnUFVUJ319KTtcclxuICAgICB9KTtcclxuICAgICB9Ki9cclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYmFja2VuZEFwcC5zZXJ2aWNlc1wiKS5mYWN0b3J5KCdBZCcsIGZ1bmN0aW9uKCRyZXNvdXJjZSwgJHJvb3RTY29wZSl7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZSgkcm9vdFNjb3BlLnNlcnZlcl91cmwrICcvYXBpL2Fkcy86aWQnLCBudWxsLCB7J3VwZGF0ZSc6e21ldGhvZDogJ1BVVCd9fSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZShcImJhY2tlbmRBcHAuc2VydmljZXNcIikuZmFjdG9yeSgnQ2FuY2lvbicsIGZ1bmN0aW9uKCRyZXNvdXJjZSwgJHJvb3RTY29wZSl7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZSgkcm9vdFNjb3BlLnNlcnZlcl91cmwrICcvYXBpL2NhbmNpb25lcy86aWQnLCBudWxsLCB7J3VwZGF0ZSc6e21ldGhvZDogJ1BVVCd9fSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZShcImJhY2tlbmRBcHAuc2VydmljZXNcIikuZmFjdG9yeSgnQ2F0ZWdvcmlhJywgZnVuY3Rpb24oJHJlc291cmNlLCAkcm9vdFNjb3BlKXtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKCRyb290U2NvcGUuc2VydmVyX3VybCsgJy9hcGkvY2F0ZWdvcmlhcy86aWQnLCBudWxsLCB7J3VwZGF0ZSc6e21ldGhvZDogJ1BVVCd9fSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZShcImJhY2tlbmRBcHAuc2VydmljZXNcIikuZmFjdG9yeSgnQ29tZW50YXJpbycsIGZ1bmN0aW9uKCRyZXNvdXJjZSwgJHJvb3RTY29wZSl7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZSgkcm9vdFNjb3BlLnNlcnZlcl91cmwrICcvYXBpL2NvbWVudGFyaW9zLzppZCcsIG51bGwsIHsndXBkYXRlJzp7bWV0aG9kOiAnUFVUJ319KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYmFja2VuZEFwcC5zZXJ2aWNlc1wiKS5mYWN0b3J5KCdDdWVudG8nLCBmdW5jdGlvbigkcmVzb3VyY2UsICRyb290U2NvcGUpe1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2UoJHJvb3RTY29wZS5zZXJ2ZXJfdXJsKyAnL2FwaS9jdWVudG9zLzppZCcsIG51bGwsIHsndXBkYXRlJzp7bWV0aG9kOiAnUFVUJ319KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYmFja2VuZEFwcC5zZXJ2aWNlc1wiKS5mYWN0b3J5KCdEaXNjbycsIGZ1bmN0aW9uKCRyZXNvdXJjZSwgJHJvb3RTY29wZSl7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZSgkcm9vdFNjb3BlLnNlcnZlcl91cmwrICcvYXBpL2Rpc2Nvcy86aWQnLCBudWxsLCB7J3VwZGF0ZSc6e21ldGhvZDogJ1BVVCd9fSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZShcImJhY2tlbmRBcHAuc2VydmljZXNcIikuZmFjdG9yeSgnRXZlbnRvJywgZnVuY3Rpb24oJHJlc291cmNlLCAkcm9vdFNjb3BlKXtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKCRyb290U2NvcGUuc2VydmVyX3VybCsgJy9hcGkvZXZlbnRvcy86aWQnLCBudWxsLCB7J3VwZGF0ZSc6e21ldGhvZDogJ1BVVCd9fSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZShcImJhY2tlbmRBcHAuc2VydmljZXNcIikuZmFjdG9yeSgnSW50ZWdyYW50ZScsIGZ1bmN0aW9uKCRyZXNvdXJjZSwgJHJvb3RTY29wZSl7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZSgkcm9vdFNjb3BlLnNlcnZlcl91cmwrICcvYXBpL2ludGVncmFudGVzLzppZCcsIG51bGwsIHsndXBkYXRlJzp7bWV0aG9kOiAnUFVUJ319KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYmFja2VuZEFwcC5zZXJ2aWNlc1wiKS5mYWN0b3J5KCdVc2VyJywgZnVuY3Rpb24oJHJlc291cmNlLCAkcm9vdFNjb3BlKXtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKCRyb290U2NvcGUuc2VydmVyX3VybCsgJy9hcGkvdXNlcnMvOmlkJywgbnVsbCwgeyd1cGRhdGUnOnttZXRob2Q6ICdQVVQnfX0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoXCJiYWNrZW5kQXBwLnNlcnZpY2VzXCIpLmZhY3RvcnkoJ1NpdGVVc2VyJywgZnVuY3Rpb24oJHJlc291cmNlLCAkcm9vdFNjb3BlKXtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKCRyb290U2NvcGUuc2VydmVyX3VybCsgJy9hcGkvc2l0ZXVzZXJzLzppZCcsIG51bGwsIHsndXBkYXRlJzp7bWV0aG9kOiAnUFVUJ319KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYmFja2VuZEFwcC5zZXJ2aWNlc1wiKS5mYWN0b3J5KCdOb3RpY2lhJywgZnVuY3Rpb24oJHJlc291cmNlLCAkcm9vdFNjb3BlKXtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKCRyb290U2NvcGUuc2VydmVyX3VybCsgJy9hcGkvbm90aWNpYXMvOmlkJywgbnVsbCwgeyd1cGRhdGUnOnttZXRob2Q6ICdQVVQnfX0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoXCJiYWNrZW5kQXBwLnNlcnZpY2VzXCIpLmZhY3RvcnkoJ1ZpZGVvJywgZnVuY3Rpb24oJHJlc291cmNlLCAkcm9vdFNjb3BlKXtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKCRyb290U2NvcGUuc2VydmVyX3VybCsgJy9hcGkvdmlkZW9zLzppZCcsIG51bGwsIHsndXBkYXRlJzp7bWV0aG9kOiAnUFVUJ319KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYmFja2VuZEFwcC5zZXJ2aWNlc1wiKS5mYWN0b3J5KCdUYWcnLCBmdW5jdGlvbigkcmVzb3VyY2UsICRyb290U2NvcGUpe1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2UoJHJvb3RTY29wZS5zZXJ2ZXJfdXJsKyAnL2FwaS90YWdzLzppZCcsIG51bGwsIHsndXBkYXRlJzp7bWV0aG9kOiAnUFVUJ319KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYmFja2VuZEFwcC5zZXJ2aWNlc1wiKS5mYWN0b3J5KCdBdXRoU2VydmljZScsIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkaHR0cCwgVXNlclNlcnZpY2UpIHtcclxuICAgICAgICB2YXIgYXV0aFNlcnZpY2UgPSB7fTtcclxuXHJcbiAgICAgICAgYXV0aFNlcnZpY2UubG9naW4gPSBmdW5jdGlvbiAoY3JlZGVudGlhbHMpIHtcclxuICAgICAgICAgICAgdmFyIHByb21pc2UgPSAkaHR0cC5wb3N0KCRyb290U2NvcGUuc2VydmVyX3VybCArICcvYXBpL2xvZ2luJywgY3JlZGVudGlhbHMpO1xyXG5cclxuICAgICAgICAgICAgcHJvbWlzZS50aGVuKHN1Y2Nlc3NBdWh0aGVudGljYXRpb24sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgndW5hdXRob3JpemVkJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYXV0aFNlcnZpY2UubG9nb3V0ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyIHByb21pc2UgPSAkaHR0cC5wb3N0KCRyb290U2NvcGUuc2VydmVyX3VybCArICcvYXBpL2xvZ291dCcpO1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3VuYXV0aG9yaXplZCcpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGF1dGhTZXJ2aWNlLnJlZnJlc2ggPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgdXNlciA9IFVzZXJTZXJ2aWNlLmdldEN1cnJlbnRVc2VyKCk7XHJcbiAgICAgICAgICAgIGlmKHVzZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwcm9taXNlID0gJGh0dHAucG9zdCgkcm9vdFNjb3BlLnNlcnZlcl91cmwgKyAnL2FwaS9yZWZyZXNoJywgdXNlci5hY2Nlc3NfdG9rZW4pO1xyXG5cclxuICAgICAgICAgICAgICAgIHByb21pc2UudGhlbihzdWNjZXNzQXVodGhlbnRpY2F0aW9uLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCd1bmF1dGhvcml6ZWQnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc3VjY2Vzc0F1aHRoZW50aWNhdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJuZXcgdXNlciBkYXRhXCIsIGRhdGEpO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5lcnJvcikge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoXCJCQUQgTE9HSU5cIik7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZihkYXRhLmFjY2Vzc190b2tlbil7XHJcbiAgICAgICAgICAgICAgICBVc2VyU2VydmljZS5zZXRDdXJyZW50VXNlcihkYXRhKTtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnYXV0aG9yaXplZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhdXRoU2VydmljZS5pc0F1dGhlbnRpY2F0ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBVc2VyU2VydmljZS5nZXRDdXJyZW50VXNlcigpIT1udWxsO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGF1dGhTZXJ2aWNlLmlzQXV0aG9yaXplZCA9IGZ1bmN0aW9uIChhdXRob3JpemVkUm9sZXMpIHtcclxuICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmlzQXJyYXkoYXV0aG9yaXplZFJvbGVzKSkge1xyXG4gICAgICAgICAgICAgICAgYXV0aG9yaXplZFJvbGVzID0gW2F1dGhvcml6ZWRSb2xlc107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcImF1dGhvcml6ZWQgcm9sZXNcIiwgYXV0aG9yaXplZFJvbGVzLCBcInVzZXIgcm9sZVwiLCBVc2VyU2VydmljZS5nZXRDdXJyZW50VXNlcigpLnJvbGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gKGF1dGhTZXJ2aWNlLmlzQXV0aGVudGljYXRlZCgpICYmXHJcbiAgICAgICAgICAgIGF1dGhvcml6ZWRSb2xlcy5pbmRleE9mKFVzZXJTZXJ2aWNlLmdldEN1cnJlbnRVc2VyKCkucm9sZS50b0xvd2VyQ2FzZSgpKSAhPT0gLTEpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBhdXRoU2VydmljZTtcclxuICAgIH0pO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYmFja2VuZEFwcC5zZXJ2aWNlc1wiKS5zZXJ2aWNlKCdVc2VyU2VydmljZScsIGZ1bmN0aW9uKHN0b3JlKSB7XHJcbiAgICAgICAgdmFyIHNlcnZpY2UgPSB0aGlzLFxyXG4gICAgICAgICAgICBjdXJyZW50VXNlciA9IG51bGw7XHJcblxyXG4gICAgICAgIHNlcnZpY2Uuc2V0Q3VycmVudFVzZXIgPSBmdW5jdGlvbih1c2VyKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRVc2VyID0gdXNlcjtcclxuXHJcbiAgICAgICAgICAgIHN0b3JlLnNldCgndXNlci1iYWNrZW5kJywgdXNlcik7XHJcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50VXNlcjtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZXJ2aWNlLmdldEN1cnJlbnRVc2VyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmICghY3VycmVudFVzZXIpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRVc2VyID0gc3RvcmUuZ2V0KCd1c2VyLWJhY2tlbmQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY3VycmVudFVzZXI7XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYmFja2VuZEFwcC5zZXJ2aWNlc1wiKS5zZXJ2aWNlKCdBUElJbnRlcmNlcHRvcicsIGZ1bmN0aW9uKCRyb290U2NvcGUsIFVzZXJTZXJ2aWNlKSB7XHJcbiAgICAgICAgdmFyIHNlcnZpY2UgPSB0aGlzO1xyXG5cclxuICAgICAgICBzZXJ2aWNlLnJlcXVlc3QgPSBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRVc2VyID0gVXNlclNlcnZpY2UuZ2V0Q3VycmVudFVzZXIoKSxcclxuICAgICAgICAgICAgICAgIGFjY2Vzc190b2tlbiA9IGN1cnJlbnRVc2VyID8gY3VycmVudFVzZXIuYWNjZXNzX3Rva2VuIDogbnVsbDtcclxuICAgICAgICAgICAgaWYgKGFjY2Vzc190b2tlbikge1xyXG4gICAgICAgICAgICAgICAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IGFjY2Vzc190b2tlbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29uZmlnO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlcnZpY2UucmVzcG9uc2VFcnJvciA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCd1bmF1dGhvcml6ZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgfTtcclxuICAgIH0pXHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiYWNrZW5kQXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignQW5hbHl0aWNzQ29udHJvbGxlcicsIEFuYWx5dGljc0NvbnRyb2xsZXIpO1xyXG4gICAgQW5hbHl0aWNzQ29udHJvbGxlci4kaW5qZWN0ID0gWydBZCddO1xyXG4gICAgZnVuY3Rpb24gQW5hbHl0aWNzQ29udHJvbGxlcihBZCkge1xyXG4gICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICB9XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKXtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiYWNrZW5kQXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignSGVhZGVyQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRtZFNpZGVuYXYnLCckcm9vdFNjb3BlJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkbWRTaWRlbmF2LCRyb290U2NvcGUpIHtcclxuICAgICAgICAgICAgJHNjb3BlLm9wZW5MZWZ0TWVudSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRtZFNpZGVuYXYoJ3NpZGUtbmF2JykudG9nZ2xlKCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlID0gdG9TdGF0ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgIF0pO1xyXG5cclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBNYXhpIG9uIDcvMzEvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiYWNrZW5kQXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignTG9naW5Db250cm9sbGVyJywgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgQXV0aFNlcnZpY2UsICRzdGF0ZSkge1xyXG4gICAgICAgICRzY29wZS5jcmVkZW50aWFscyA9IHtcclxuICAgICAgICAgICAgZW1haWw6ICcnLFxyXG4gICAgICAgICAgICBwYXNzd29yZDogJydcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUubG9naW4gPSBmdW5jdGlvbiAoY3JlZGVudGlhbHMpIHtcclxuICAgICAgICAgICAgQXV0aFNlcnZpY2UubG9naW4oY3JlZGVudGlhbHMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLmVycm9yKXtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZm9ybS4kaXNWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnbm90aWNpYXMnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJHNjb3BlLnJlZ2lzdGVyID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgTG9naW5TZXJ2aWNlLnJlZ2lzdGVyKCRzY29wZS5uZXdVc2VyKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgICRzY29wZS5sb2dpbigkc2NvcGUubmV3VXNlcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJHNjb3BlLm5ld1VzZXIgPSBudWxsO1xyXG4gICAgfSk7XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiYWNrZW5kQXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignTWFpbkN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkc3RhdGUsIEF1dGhTZXJ2aWNlLCBVc2VyU2VydmljZSkge1xyXG4gICAgICAgIHZhciBtYWluID0gdGhpcztcclxuXHJcblxyXG4gICAgICAgICRzY29wZS5pc0F1dGhvcml6ZWQgPSBBdXRoU2VydmljZS5pc0F1dGhvcml6ZWQ7XHJcblxyXG4gICAgICAgICRyb290U2NvcGUuJG9uKCdhdXRob3JpemVkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBtYWluLmN1cnJlbnRVc2VyID0gVXNlclNlcnZpY2UuZ2V0Q3VycmVudFVzZXIoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJ3VuYXV0aG9yaXplZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWFpbi5jdXJyZW50VXNlciA9IFVzZXJTZXJ2aWNlLnNldEN1cnJlbnRVc2VyKG51bGwpO1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2xvZ2luJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICRyb290U2NvcGUuYWRkT3JVcGRhdGVMaXN0ID0gYWRkT3JVcGRhdGVMaXN0O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhZGRPclVwZGF0ZUxpc3QoYXJyYXksIHJvdywgaW5kZXgpIHtcclxuICAgICAgICAgICAgaWYgKGluZGV4IDwgYXJyYXkubGVuZ3RoICYmIGluZGV4ID49IDApXHJcbiAgICAgICAgICAgICAgICBhcnJheVtpbmRleF0gPSByb3c7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIGFycmF5LnB1c2gocm93KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG1haW4ubG9nb3V0ID0gQXV0aFNlcnZpY2UubG9nb3V0O1xyXG4gICAgICAgIG1haW4uY3VycmVudFVzZXIgPSBVc2VyU2VydmljZS5nZXRDdXJyZW50VXNlcigpO1xyXG4gICAgfSk7XHJcblxyXG5cclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBNYXhpIG9uIDcvMzEvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpe1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdNZW51Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJ1VTRVJfUk9MRVMnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsIFVTRVJfUk9MRVMpIHtcclxuICAgICAgICAgICAgJHNjb3BlLm1lbnUgPSBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluayA6ICdhZHMnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQWRzJyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnYWRkX3Nob3BwaW5nX2NhcnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvbGVzOiBbVVNFUl9ST0xFUy5hZG1pbiwgVVNFUl9ST0xFUy5lZGl0b3JQbHVzXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rIDogJ2NhbmNpb25lcycsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdDYW5jaW9uZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdtdXNpY19ub3RlJyxcclxuICAgICAgICAgICAgICAgICAgICByb2xlczogW1VTRVJfUk9MRVMuYWRtaW4sVVNFUl9ST0xFUy5lZGl0b3IsIFVTRVJfUk9MRVMuZWRpdG9yUGx1c11cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluayA6ICdjYXRlZ29yaWFzJyxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0NhdGVnb3JpYXMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdmaWx0ZXJfbGlzdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgcm9sZXM6IFtVU0VSX1JPTEVTLmFkbWluLFVTRVJfUk9MRVMuZWRpdG9yLCBVU0VSX1JPTEVTLmVkaXRvclBsdXNdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmsgOiAnY29tZW50YXJpb3MnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQ29tZW50YXJpb3MnLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdib29rJyxcclxuICAgICAgICAgICAgICAgICAgICByb2xlczogW1VTRVJfUk9MRVMuYWRtaW4sVVNFUl9ST0xFUy5lZGl0b3IsIFVTRVJfUk9MRVMuZWRpdG9yUGx1c11cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluayA6ICdjdWVudG9zJyxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0N1ZW50b3MnLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdib29rJyxcclxuICAgICAgICAgICAgICAgICAgICByb2xlczogW1VTRVJfUk9MRVMuYWRtaW4sVVNFUl9ST0xFUy5lZGl0b3IsIFVTRVJfUk9MRVMuZWRpdG9yUGx1c11cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluayA6ICdkaXNjb3MnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRGlzY29zJyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnbGlicmFyeV9tdXNpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgcm9sZXM6IFtVU0VSX1JPTEVTLmFkbWluLFVTRVJfUk9MRVMuZWRpdG9yLCBVU0VSX1JPTEVTLmVkaXRvclBsdXNdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmsgOiAnZXZlbnRvcycsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdFdmVudG9zJyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnZXZlbnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvbGVzOiBbVVNFUl9ST0xFUy5hZG1pbixVU0VSX1JPTEVTLmVkaXRvciwgVVNFUl9ST0xFUy5lZGl0b3JQbHVzXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rIDogJ2ludGVncmFudGVzJyxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0ludGVncmFudGVzJyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnYWNjb3VudF9jaXJjbGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvbGVzOiBbVVNFUl9ST0xFUy5hZG1pbl1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluayA6ICdub3RpY2lhcycsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdOb3RpY2lhcycsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ25ld19yZWxlYXNlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgcm9sZXM6IFtVU0VSX1JPTEVTLmFkbWluLFVTRVJfUk9MRVMuZWRpdG9yLCBVU0VSX1JPTEVTLmVkaXRvclBsdXNdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmsgOiAndmlkZW9zJyxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1ZpZGVvcycsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3ZpZGVvX2xpYnJhcnknLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvbGVzOiBbVVNFUl9ST0xFUy5hZG1pbixVU0VSX1JPTEVTLmVkaXRvciwgVVNFUl9ST0xFUy5lZGl0b3JQbHVzXVxyXG4gICAgICAgICAgICAgICAgfSx7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluayA6ICd1c2VycycsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdVc3VhcmlvcycsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2FjY291bnRfY2lyY2xlJyxcclxuICAgICAgICAgICAgICAgICAgICByb2xlczogW1VTRVJfUk9MRVMuYWRtaW5dXHJcbiAgICAgICAgICAgICAgICB9LHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rIDogJ3NpdGV1c2VycycsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdVc3VhcmlvcyBzaXRpbycsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2FjY291bnRfY2lyY2xlJyxcclxuICAgICAgICAgICAgICAgICAgICByb2xlczogW1VTRVJfUk9MRVMuYWRtaW5dXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG4gICAgXSk7XHJcblxyXG5cclxuXHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmFja2VuZEFwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ0FkZENhbmNpb25Db250cm9sbGVyJywgQWRkQ2FuY2lvbkNvbnRyb2xsZXIpO1xyXG5cclxuICAgIEFkZENhbmNpb25Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsJyRyb290U2NvcGUnLCckbWRUb2FzdCcsICckbWREaWFsb2cnLCAnQ2FuY2lvbicsICdEaXNjbycsICdVcGxvYWQnXTtcclxuXHJcbiAgICBmdW5jdGlvbiBBZGRDYW5jaW9uQ29udHJvbGxlcigkc2NvcGUsICRyb290U2NvcGUsJG1kVG9hc3QsICRtZERpYWxvZywgQ2FuY2lvbiwgRGlzY28sIFVwbG9hZCl7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICB2bS5lZGl0ID0gZmFsc2U7XHJcbiAgICAgICAgdm0uZGlzY29zID0gRGlzY28ucXVlcnkoKTtcclxuICAgICAgICB2bS5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgdm0uc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgIHZtLmZpbGVDaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgdm0uYXR0ZW1wdGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHZtLnN1Ym1pdCA9IHN1Ym1pdDtcclxuICAgICAgICB2bS5maWxlQ2hhbmdlID0gZmlsZUNoYW5nZTtcclxuICAgICAgICB2bS5oaWRlID0gJG1kRGlhbG9nLmhpZGU7XHJcblxyXG4gICAgICAgIGlmKCRzY29wZS5zZWxlY3RlZEl0ZW0gIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHZtLmNhbmNpb24gPSAkc2NvcGUuc2VsZWN0ZWRJdGVtO1xyXG4gICAgICAgICAgICBpZih2bS5jYW5jaW9uLmRpc2NvKVxyXG4gICAgICAgICAgICAgICAgdm0uY2FuY2lvbi5kaXNjb19pZCA9IHZtLmNhbmNpb24uZGlzY28uaWQ7XHJcbiAgICAgICAgICAgIHZtLmVkaXQgPSB0cnVlO1xyXG4gICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgIHZtLmNhbmNpb24gPSBuZXcgQ2FuY2lvbigpO1xyXG5cclxuICAgICAgICAvKioqKioqKmZ1bmN0aW9ucyoqKioqKiovXHJcbiAgICAgICAgZnVuY3Rpb24gc3VibWl0KCl7XHJcbiAgICAgICAgICAgIHZtLmF0dGVtcHRlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBpZighJHNjb3BlLmZvcm0uJHZhbGlkKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImlzVmFsaWRcIik7XHJcblxyXG4gICAgICAgICAgICB2bS5zdWJtaXR0aW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHZtLmZpbGVDaGFuZ2VkKTtcclxuICAgICAgICAgICAgaWYodm0uZmlsZUNoYW5nZWQpXHJcbiAgICAgICAgICAgICAgICB1cGxvYWRBbmRTYXZlKCk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYodm0uZWRpdClcclxuICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBzYXZlKCk7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGZpbGVDaGFuZ2UoKXtcclxuICAgICAgICAgICAgdm0uZmlsZUNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHVwbG9hZEFuZFNhdmUoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidXBsb2FkXCIpO1xyXG4gICAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgICAgIHVybDogJHJvb3RTY29wZS51cGxvYWRfdXJsLFxyXG4gICAgICAgICAgICAgICAgZmlsZTogdm0uY2FuY2lvbi5hdWRpb19zb3VyY2VcclxuICAgICAgICAgICAgfSkucHJvZ3Jlc3MoZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgdm0ucHJvZ3Jlc3MgPSBwYXJzZUludCgxMDAuMCAqIGV2dC5sb2FkZWQgLyBldnQudG90YWwpO1xyXG4gICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xyXG4gICAgICAgICAgICAgICAgdm0uY2FuY2lvbi5hdWRpb19zb3VyY2UgPSBkYXRhLnVybDtcclxuICAgICAgICAgICAgICAgIHZtLmZpbGVDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHZtLnByb2dyZXNzPTA7XHJcbiAgICAgICAgICAgICAgICBpZih2bS5lZGl0KVxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHNhdmUoKTtcclxuICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQoZGF0YS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICB2bS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB2bS5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2F2ZSgpIHtcclxuICAgICAgICAgICAgQ2FuY2lvbi5zYXZlKHZtLmNhbmNpb24pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlLCBhbGdvLCBhbGdvMikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYWxnbyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhbGdvMik7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZShyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KFwiTnVldmEgY2FuY2lvbiBndWFyZGFkb1wiKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2bS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlKCkge1xyXG4gICAgICAgICAgICBDYW5jaW9uLnVwZGF0ZSh7aWQ6IHZtLmNhbmNpb24uaWR9LCB2bS5jYW5jaW9uKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgIHZtLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKHZtLmNhbmNpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmFja2VuZEFwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ0NhbmNpb25MaXN0Q29udHJvbGxlcicsQ2FuY2lvbkxpc3RDb250cm9sbGVyKTtcclxuXHJcbiAgICBDYW5jaW9uTGlzdENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZScsJyRzY29wZScsICdDYW5jaW9uJywgJyRtZERpYWxvZycsJyRtZFRvYXN0JywgJyRzdGF0ZVBhcmFtcycsICckc3RhdGUnIF07XHJcbiAgICBmdW5jdGlvbiBDYW5jaW9uTGlzdENvbnRyb2xsZXIoJHJvb3RTY29wZSwgJHNjb3BlLCBDYW5jaW9uLCAkbWREaWFsb2csICRtZFRvYXN0LCAkc3RhdGVQYXJhbXMsICRzdGF0ZSl7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICB2bS5jYW5jaW9uZXMgPSBDYW5jaW9uLnF1ZXJ5KCk7XHJcbiAgICAgICAgdm0ub3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgcm93SGVpZ2h0OiA1MCxcclxuICAgICAgICAgICAgZm9vdGVySGVpZ2h0OiBmYWxzZSxcclxuICAgICAgICAgICAgaGVhZGVySGVpZ2h0OiA1MCxcclxuICAgICAgICAgICAgc2Nyb2xsYmFyVjogZmFsc2UsXHJcbiAgICAgICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBjb2x1bW5Nb2RlOiAnZm9yY2UnXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdm0uc2hvd0FkZCA9IHNob3dBZGQ7XHJcbiAgICAgICAgdm0uZGVsZXRlID0gZG9EZWxldGU7XHJcbiAgICAgICAgdm0uc2hvd0VkaXQgPSBuYXZpZ2F0ZVRvSXRlbTtcclxuICAgICAgICB2bS5oaWRlID0gJG1kRGlhbG9nLmNhbmNlbDtcclxuXHJcbiAgICAgICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKXtcclxuICAgICAgICAgICAgaWYoJHN0YXRlUGFyYW1zLmlkKXtcclxuICAgICAgICAgICAgICAgIENhbmNpb24uZ2V0KHtpZDokc3RhdGVQYXJhbXMuaWR9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgICAgICBzaG93RWRpdChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNob3dBZGQoZXYpe1xyXG4gICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQWRkQ2FuY2lvbkNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9jYW5jaW9uZXMvYWRkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgICAgICAgICB0YXJnZXRFdmVudDogZXZcclxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihuZXdNb2RlbCl7XHJcbiAgICAgICAgICAgICAgICBpZihuZXdNb2RlbCE9IHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5hZGRPclVwZGF0ZUxpc3Qodm0uY2FuY2lvbmVzLCBuZXdNb2RlbCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkb0RlbGV0ZShyb3csICRldmVudCkge1xyXG4gICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB2YXIgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKClcclxuICAgICAgICAgICAgICAgIC5jb250ZW50KCdFc3RhIHNlZ3VybyBxdWUgZGVzZWEgYm9ycmFyIGVzdGUgZWxlbWVudG8nKVxyXG4gICAgICAgICAgICAgICAgLm9rKCdCb3JyYXInKVxyXG4gICAgICAgICAgICAgICAgLmNhbmNlbCgnQ2FuY2VsYXInKVxyXG4gICAgICAgICAgICAgICAgLnRhcmdldEV2ZW50KCRldmVudCk7XHJcblxyXG4gICAgICAgICAgICAkbWREaWFsb2cuc2hvdyhjb25maXJtKS50aGVuKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBDYW5jaW9uLmRlbGV0ZSh7aWQ6IHJvdy5pZH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UubWVzc2FnZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB2bS5jYW5jaW9uZXMuaW5kZXhPZihyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5jYW5jaW9uZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG5hdmlnYXRlVG9JdGVtKHJvdyl7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbyhcImNhbmNpb25lc1wiLHtpZDpyb3cuaWR9LCB7bm90aWZ5OmZhbHNlfSk7XHJcbiAgICAgICAgICAgIHNob3dFZGl0KHJvdyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2hvd0VkaXQocm93KXtcclxuICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkSXRlbSA9IGFuZ3VsYXIuY29weShyb3cpO1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB2bS5jYW5jaW9uZXMuaW5kZXhPZihyb3cpO1xyXG4gICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQWRkQ2FuY2lvbkNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9jYW5jaW9uZXMvYWRkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLiRuZXcoKVxyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKGVkaXRlZCl7XHJcbiAgICAgICAgICAgICAgICBpZihlZGl0ZWQhPSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuYWRkT3JVcGRhdGVMaXN0KHZtLmNhbmNpb25lcywgZWRpdGVkLCBpbmRleCk7XHJcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oXCJjYW5jaW9uZXNcIix7aWQ6Jyd9LCB7bm90aWZ5OmZhbHNlfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgIH1cclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBNYXhpIG9uIDcvMzEvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmFja2VuZEFwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ0FkZENhdGVnb3JpYUNvbnRyb2xsZXInLEFkZENhdGVnb3JpYUNvbnRyb2xsZXIpO1xyXG4gICAgQWRkQ2F0ZWdvcmlhQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCckbWRUb2FzdCcsICckbWREaWFsb2cnLCAnQ2F0ZWdvcmlhJ107XHJcbiAgICBmdW5jdGlvbiBBZGRDYXRlZ29yaWFDb250cm9sbGVyKCRzY29wZSwgJG1kVG9hc3QsICRtZERpYWxvZywgQ2F0ZWdvcmlhKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgdm0uY2F0ZWdvcmlhID0gbnVsbDtcclxuICAgICAgICB2bS5lZGl0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHZtLmhpZGUgPSAkbWREaWFsb2cuaGlkZTtcclxuICAgICAgICB2bS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdm0uYXR0ZW1wdGVkID0gZmFsc2U7XHJcbiAgICAgICAgdm0uc3VibWl0ID0gc3VibWl0O1xyXG5cclxuICAgICAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICAvKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpe1xyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLnNlbGVjdGVkSXRlbSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHZtLmNhdGVnb3JpYSA9ICRzY29wZS5zZWxlY3RlZEl0ZW07XHJcbiAgICAgICAgICAgICAgICB2bS5lZGl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgICAgICB2bS5jYXRlZ29yaWEgPSBuZXcgQ2F0ZWdvcmlhKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzdWJtaXQoKSB7XHJcbiAgICAgICAgICAgIHZtLmF0dGVtcHRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICghJHNjb3BlLmZvcm0uJHZhbGlkKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgaWYgKHZtLmVkaXQpXHJcbiAgICAgICAgICAgICAgICB1cGRhdGUoKTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgc2F2ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2F2ZSgpIHtcclxuICAgICAgICAgICAgQ2F0ZWdvcmlhLnNhdmUodm0uY2F0ZWdvcmlhKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLmVycm9yKS50aGVtZShcImVycm9yLXRvYXN0XCIpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChcIk51ZXZvIGFkIGd1YXJkYWRvXCIpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZtLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGUoKSB7XHJcbiAgICAgICAgICAgIENhdGVnb3JpYS51cGRhdGUoe2lkOiB2bS5jYXRlZ29yaWEuaWR9LCB2bS5jYXRlZ29yaWEpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB2bS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSh2bS5jYXRlZ29yaWEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmFja2VuZEFwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ0NhdGVnb3JpYUxpc3RDb250cm9sbGVyJywgQ2F0ZWdvcmlhTGlzdENvbnRyb2xsZXIpO1xyXG4gICAgQ2F0ZWdvcmlhTGlzdENvbnRyb2xsZXIuJGluamVjdCA9IFsnQ2F0ZWdvcmlhJywgJyRyb290U2NvcGUnLCckc2NvcGUnLCckbWREaWFsb2cnLCAnJG1kVG9hc3QnLCAnJHN0YXRlJywgJyRzdGF0ZVBhcmFtcyddO1xyXG5cclxuICAgIGZ1bmN0aW9uIENhdGVnb3JpYUxpc3RDb250cm9sbGVyKENhdGVnb3JpYSwkcm9vdFNjb3BlLCAkc2NvcGUsICRtZERpYWxvZywgJG1kVG9hc3QsICRzdGF0ZSwgJHN0YXRlUGFyYW1zKXtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgIHZtLmNhdGVnb3JpYXMgPSBDYXRlZ29yaWEucXVlcnkoKTtcclxuICAgICAgICB2bS5vcHRpb25zID0ge1xyXG4gICAgICAgICAgICByb3dIZWlnaHQ6IDUwLFxyXG4gICAgICAgICAgICBmb290ZXJIZWlnaHQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBoZWFkZXJIZWlnaHQ6IDUwLFxyXG4gICAgICAgICAgICBzY3JvbGxiYXJWOiBmYWxzZSxcclxuICAgICAgICAgICAgc2VsZWN0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGNvbHVtbk1vZGU6ICdmb3JjZSdcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZtLnNob3dBZGQgPSBzaG93QWRkO1xyXG4gICAgICAgIHZtLmRlbGV0ZSA9IGRvRGVsZXRlO1xyXG4gICAgICAgIHZtLnNob3dFZGl0ID0gbmF2aWdhdGVUb0l0ZW07XHJcblxyXG4gICAgICAgIGFjdGl2YXRlKCk7XHJcblxyXG4gICAgICAgIC8qKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCl7XHJcbiAgICAgICAgICAgIGlmKCRzdGF0ZVBhcmFtcy5pZCl7XHJcbiAgICAgICAgICAgICAgICBDYXRlZ29yaWEuZ2V0KHtpZDokc3RhdGVQYXJhbXMuaWR9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgICAgICBzaG93RWRpdChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG5hdmlnYXRlVG9JdGVtKHJvdyl7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbyhcImNhdGVnb3JpYXNcIix7aWQ6cm93LmlkfSwge25vdGlmeTpmYWxzZX0pO1xyXG4gICAgICAgICAgICBzaG93RWRpdChyb3cpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNob3dBZGQoZXYpIHtcclxuICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0FkZENhdGVnb3JpYUNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9jYXRlZ29yaWFzL2FkZC5odG1sJyxcclxuICAgICAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0RXZlbnQ6IGV2XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKG5ld0V2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV3RXZlbnQgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICB2bS5jYXRlZ29yaWFzLnB1c2gobmV3RXZlbnQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkb0RlbGV0ZShyb3csICRldmVudCkge1xyXG4gICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB2YXIgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKClcclxuICAgICAgICAgICAgICAgIC5jb250ZW50KCdFc3RhIHNlZ3VybyBxdWUgZGVzZWEgYm9ycmFyIGVzdGUgZWxlbWVudG8nKVxyXG4gICAgICAgICAgICAgICAgLm9rKCdCb3JyYXInKVxyXG4gICAgICAgICAgICAgICAgLmNhbmNlbCgnQ2FuY2VsYXInKVxyXG4gICAgICAgICAgICAgICAgLnRhcmdldEV2ZW50KCRldmVudCk7XHJcblxyXG4gICAgICAgICAgICAkbWREaWFsb2cuc2hvdyhjb25maXJtKS50aGVuKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBDYXRlZ29yaWEuZGVsZXRlKHtpZDogcm93LmlkfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChyZXNwb25zZS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChyZXNwb25zZS5tZXNzYWdlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHZtLmNhdGVnb3JpYXMuaW5kZXhPZihyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5jYXRlZ29yaWFzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzaG93RWRpdChyb3cpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkSXRlbSA9IHJvdztcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdm0uY2F0ZWdvcmlhcy5pbmRleE9mKHJvdyk7XHJcbiAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdBZGRDYXRlZ29yaWFDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczondm0nLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9jYXRlZ29yaWFzL2FkZC5odG1sJyxcclxuICAgICAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxyXG4gICAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZS4kbmV3KClcclxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihlZGl0ZWQpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJiYWNrXCIsIGVkaXRlZCk7XHJcbiAgICAgICAgICAgICAgICBpZihlZGl0ZWQhPSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuYWRkT3JVcGRhdGVMaXN0KHZtLmNhdGVnb3JpYXMsIGVkaXRlZCwgaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKFwiY2F0ZWdvcmlhc1wiLHtpZDonJ30sIHtub3RpZnk6ZmFsc2V9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE1heGkgb24gNy8zMS8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdDb21lbnRhcmlvQ29udHJvbGxlcicsWyckc2NvcGUnLCAnQ29tZW50YXJpbycsICckbWREaWFsb2cnLCckbWRUb2FzdCcsXHJcbiAgICAgICAgZnVuY3Rpb24oJHNjb3BlLCBDb21lbnRhcmlvLCAkbWREaWFsb2csICRtZFRvYXN0KXtcclxuICAgICAgICAgICAgdmFyIGRhdGE7XHJcblxyXG4gICAgICAgICAgICBDb21lbnRhcmlvLnF1ZXJ5KCkuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSl7JHNjb3BlLmNvbWVudGFyaW9zID0gZGF0YSA9IHJlc3BvbnNlOyRzY29wZS5maWx0ZXIoKTt9KTtcclxuICAgICAgICAgICAgJHNjb3BlLmhpZGUgPSAkbWREaWFsb2cuaGlkZTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5vcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgcm93SGVpZ2h0OiAnYXV0bycsXHJcbiAgICAgICAgICAgICAgICBmb290ZXJIZWlnaHQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVySGVpZ2h0OiA1MCxcclxuICAgICAgICAgICAgICAgIHNjcm9sbGJhclY6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBjb2x1bW5Nb2RlOiAnZm9yY2UnXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZmlsdGVycyA9IHtcclxuICAgICAgICAgICAgICAgIGFwcm9iYWRvczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBwZW5kaWVudGVzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgcmVjaGF6YWRvczogZmFsc2VcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5maWx0ZXIgPSBmdW5jdGlvbihuZXdWYWwpIHtcclxuICAgICAgICAgICAgICAgIGlmKCFkYXRhKXJldHVybjtcclxuICAgICAgICAgICAgICAgIGlmKCEkc2NvcGUuZmlsdGVycy5hcHJvYmFkb3MgJiYhJHNjb3BlLmZpbHRlcnMucGVuZGllbnRlcyAmJiAhJHNjb3BlLmZpbHRlcnMucmVjaGF6YWRvcylcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY29tZW50YXJpb3MgPSBbXTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY29tZW50YXJpb3MgPSBkYXRhLmZpbHRlcihmdW5jdGlvbihkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcHJvYmFkbyA9IGQuYXByb2JhZG87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXRvcm5vID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaChhcHJvYmFkbyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0b3JubyA9ICRzY29wZS5maWx0ZXJzLmFwcm9iYWRvcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRvcm5vID0gJHNjb3BlLmZpbHRlcnMucmVjaGF6YWRvcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgLTE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0b3JubyA9ICRzY29wZS5maWx0ZXJzLnBlbmRpZW50ZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldG9ybm87XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLiR3YXRjaCgnZmlsdGVycycsICRzY29wZS5maWx0ZXIgLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGUgPSBmdW5jdGlvbihyb3csICRldmVudCl7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIENvbWVudGFyaW8uZGVsZXRlKHtpZDpyb3cuaWR9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihyZXNwb25zZS5lcnJvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLmVycm9yKS50aGVtZShcImVycm9yLXRvYXN0XCIpKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLm1lc3NhZ2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLmNvbWVudGFyaW9zLmluZGV4T2Yocm93KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvbWVudGFyaW9zLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmFwcHJvdmUgPSBmdW5jdGlvbihyb3csIGlzQXBwcm92ZWQsICRldmVudCl7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImFwcm9iYXJcIiwgcm93KTtcclxuICAgICAgICAgICAgICAgIHJvdy5hcHJvYmFkbyA9IGlzQXBwcm92ZWQgPyAxIDogMDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5maWx0ZXIoKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdWJtaXR0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIENvbWVudGFyaW8udXBkYXRlKHtpZDogcm93LmlkfSwgcm93KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKHJvdyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnNob3dFZGl0ID0gZnVuY3Rpb24ocm93KXtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZEl0ZW0gPSByb3c7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9jb21lbnRhcmlvcy9hZGQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZS4kbmV3KCksXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogU2hvd0NvbWVudGFyaW9Db250cm9sbGVyXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFNob3dDb21lbnRhcmlvQ29udHJvbGxlcigkc2NvcGUsICRtZERpYWxvZyl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY29tZW50YXJpbyA9ICRzY29wZS5zZWxlY3RlZEl0ZW07XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIklOSVRcIiwgJHNjb3BlLmNvbWVudGFyaW8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXSk7XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmFja2VuZEFwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ0N1ZW50b0NvbnRyb2xsZXInLFsnJHNjb3BlJywgJ0N1ZW50bycsICckbWREaWFsb2cnLCckbWRUb2FzdCcsXHJcbiAgICAgICAgZnVuY3Rpb24oJHNjb3BlLCBDdWVudG8sICRtZERpYWxvZywgJG1kVG9hc3Qpe1xyXG4gICAgICAgICAgICB2YXIgZGF0YTtcclxuXHJcbiAgICAgICAgICAgIEN1ZW50by5xdWVyeSgpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmN1ZW50b3MgPSBkYXRhID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuY3VlbnRvcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkc2NvcGUuaGlkZSA9ICRtZERpYWxvZy5oaWRlO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLm9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICByb3dIZWlnaHQ6ICdhdXRvJyxcclxuICAgICAgICAgICAgICAgIGZvb3RlckhlaWdodDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJIZWlnaHQ6IDUwLFxyXG4gICAgICAgICAgICAgICAgc2Nyb2xsYmFyVjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGNvbHVtbk1vZGU6ICdmb3JjZSdcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5maWx0ZXJzID0ge1xyXG4gICAgICAgICAgICAgICAgYXByb2JhZG9zOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHBlbmRpZW50ZXM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgcmVjaGF6YWRvczogZmFsc2VcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5maWx0ZXIgPSBmdW5jdGlvbihuZXdWYWwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZmlsdGVyaW5nXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYoIWRhdGEpcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgaWYoISRzY29wZS5maWx0ZXJzLmFwcm9iYWRvcyAmJiEkc2NvcGUuZmlsdGVycy5wZW5kaWVudGVzICYmICEkc2NvcGUuZmlsdGVycy5yZWNoYXphZG9zKVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jdWVudG9zID0gZGF0YTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY3VlbnRvcyA9IGRhdGEuZmlsdGVyKGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFwcm9iYWRvID0gZC5hcHJvYmFkbztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaChhcHJvYmFkbyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJldG9ybm8gPSAkc2NvcGUuZmlsdGVycy5hcHJvYmFkb3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJldG9ybm8gPSAkc2NvcGUuZmlsdGVycy5yZWNoYXphZG9zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAtMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmV0b3JubyA9ICRzY29wZS5maWx0ZXJzLnBlbmRpZW50ZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldG9ybm87XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuY3VlbnRvcyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuJHdhdGNoKCdmaWx0ZXJzJywgJHNjb3BlLmZpbHRlciAsIHRydWUpO1xyXG4gICAgICAgICAgICAkc2NvcGUuZGVsZXRlID0gZG9EZWxldGU7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRvRGVsZXRlKHJvdywgJGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHZhciBjb25maXJtID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb250ZW50KCdFc3RhIHNlZ3VybyBxdWUgZGVzZWEgYm9ycmFyIGVzdGUgZWxlbWVudG8nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5vaygnQm9ycmFyJylcclxuICAgICAgICAgICAgICAgICAgICAuY2FuY2VsKCdDYW5jZWxhcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRhcmdldEV2ZW50KCRldmVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIEN1ZW50by5kZWxldGUoe2lkOiByb3cuaWR9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChyZXNwb25zZS5tZXNzYWdlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUuY3VlbnRvcy5pbmRleE9mKHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY3VlbnRvcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5hcHByb3ZlID0gZnVuY3Rpb24ocm93LCBpc0FwcHJvdmVkLCAkZXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJhcHJvYmFyXCIsIHJvdyk7XHJcbiAgICAgICAgICAgICAgICByb3cuYXByb2JhZG8gPSBpc0FwcHJvdmVkID8gMSA6IDA7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyKCk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3VibWl0dGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBDdWVudG8udXBkYXRlKHtpZDogcm93LmlkfSwgcm93KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKHJvdyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnNob3dFZGl0ID0gZnVuY3Rpb24ocm93KXtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZEl0ZW0gPSByb3c7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9jdWVudG9zL2FkZC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLiRuZXcoKSxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBTaG93Q3VlbnRvQ29udHJvbGxlclxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBTaG93Q3VlbnRvQ29udHJvbGxlcigkc2NvcGUsICRtZERpYWxvZyl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIklOSVRcIik7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY3VlbnRvID0gJHNjb3BlLnNlbGVjdGVkSXRlbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIF0pO1xyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE1heGkgb24gNy8zMS8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiYWNrZW5kQXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignQWRkRGlzY29Db250cm9sbGVyJywgQWRkRGlzY29Db250cm9sbGVyKTtcclxuICAgIEFkZERpc2NvQ29udHJvbGxlci4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJyRzY29wZScsICckbWRUb2FzdCcsICckbWREaWFsb2cnLCAnRGlzY28nLCAnVXBsb2FkJ11cclxuXHJcbiAgICBmdW5jdGlvbiBBZGREaXNjb0NvbnRyb2xsZXIoJHJvb3RTY29wZSwgJHNjb3BlLCAkbWRUb2FzdCwgJG1kRGlhbG9nLCBEaXNjbywgVXBsb2FkKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICB2bS5oaWRlID0gJG1kRGlhbG9nLmhpZGU7XHJcbiAgICAgICAgdm0uZWRpdCA9IGZhbHNlO1xyXG4gICAgICAgIHZtLmRpc2NvID0gbnVsbDtcclxuICAgICAgICB2bS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdm0uYXR0ZW1wdGVkID0gZmFsc2U7XHJcbiAgICAgICAgdm0ucHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgIHZtLmZpbGVDaGFuZ2VkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHZtLmZpbGVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZtLmZpbGVDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZtLnN1Ym1pdCA9IHN1Ym1pdDtcclxuXHJcbiAgICAgICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuc2VsZWN0ZWRJdGVtICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdm0uZGlzY28gPSAkc2NvcGUuc2VsZWN0ZWRJdGVtO1xyXG4gICAgICAgICAgICAgICAgdm0uZWRpdCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICAgICAgdm0uZGlzY28gPSBuZXcgRGlzY28oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHN1Ym1pdCgpIHtcclxuICAgICAgICAgICAgdm0uYXR0ZW1wdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKCEkc2NvcGUuZm9ybS4kdmFsaWQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB2bS5zdWJtaXR0aW5nPXRydWU7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZmlsZUNoYW5nZWRcIiwgdm0uZmlsZUNoYW5nZWQpO1xyXG4gICAgICAgICAgICBpZiAodm0uZmlsZUNoYW5nZWQpXHJcbiAgICAgICAgICAgICAgICB1cGxvYWRBbmRTYXZlKCk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHZtLmVkaXQpXHJcbiAgICAgICAgICAgICAgICB1cGRhdGUoKTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgc2F2ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2F2ZSgpIHtcclxuICAgICAgICAgICAgdm0uZGlzY28uJHNhdmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSh2bS5kaXNjbyk7XHJcbiAgICAgICAgICAgICAgICB2bS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQoXCJOdWV2byBkaXNjbyBndWFyZGFkb1wiKSk7XHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLmRhdGEuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgdm0uc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHVwbG9hZEFuZFNhdmUoKSB7XHJcbiAgICAgICAgICAgIHZtLnN1Ym1pdHRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgICAgIHVybDogJHJvb3RTY29wZS51cGxvYWRfdXJsLFxyXG4gICAgICAgICAgICAgICAgZmlsZTogdm0uZGlzY28uY292ZXJfaW1nXHJcbiAgICAgICAgICAgIH0pLnByb2dyZXNzKGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgIHZtLnByb2dyZXNzID0gcGFyc2VJbnQoMTAwLjAgKiBldnQubG9hZGVkIC8gZXZ0LnRvdGFsKTtcclxuICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcclxuICAgICAgICAgICAgICAgIHZtLmRpc2NvLmNvdmVyX2ltZyA9IGRhdGEudXJsO1xyXG4gICAgICAgICAgICAgICAgdm0uZmlsZUNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdm0ucHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZtLmVkaXQpXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgc2F2ZSgpO1xyXG4gICAgICAgICAgICB9KS5lcnJvcihmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcclxuICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChkYXRhLmVycm9yKS50aGVtZShcImVycm9yLXRvYXN0XCIpKTtcclxuICAgICAgICAgICAgICAgIHZtLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHZtLnByb2dyZXNzID0gMDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGUoKSB7XHJcbiAgICAgICAgICAgIERpc2NvLnVwZGF0ZSh7aWQ6IHZtLmRpc2NvLmlkfSwgdm0uZGlzY28pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB2bS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSh2bS5kaXNjbyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmFja2VuZEFwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ0Rpc2NvTGlzdENvbnRyb2xsZXInLERpc2NvTGlzdENvbnRyb2xsZXIpO1xyXG4gICAgRGlzY29MaXN0Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJHJvb3RTY29wZScsJyRzdGF0ZScsICdEaXNjbycsICckbWREaWFsb2cnLCckbWRUb2FzdCcsICckc3RhdGVQYXJhbXMnXTtcclxuICAgIGZ1bmN0aW9uIERpc2NvTGlzdENvbnRyb2xsZXIoJHNjb3BlLCRyb290U2NvcGUsICRzdGF0ZSwgRGlzY28sICRtZERpYWxvZywgJG1kVG9hc3QsJHN0YXRlUGFyYW1zKXtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgIHZtLmRpc2NvcyA9IERpc2NvLnF1ZXJ5KCk7XHJcbiAgICAgICAgdm0ub3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgcm93SGVpZ2h0OiA1MCxcclxuICAgICAgICAgICAgZm9vdGVySGVpZ2h0OiBmYWxzZSxcclxuICAgICAgICAgICAgaGVhZGVySGVpZ2h0OiA1MCxcclxuICAgICAgICAgICAgc2Nyb2xsYmFyVjogZmFsc2UsXHJcbiAgICAgICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBjb2x1bW5Nb2RlOiAnZm9yY2UnXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdm0uc2hvd0FkZCA9IHNob3dBZGQ7XHJcbiAgICAgICAgdm0uZGVsZXRlID0gZG9EZWxldGU7XHJcbiAgICAgICAgdm0uc2hvd0VkaXQgPSBuYXZpZ2F0ZVRvSXRlbTtcclxuXHJcbiAgICAgICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKXtcclxuICAgICAgICAgICAgaWYoJHN0YXRlUGFyYW1zLmlkKXtcclxuICAgICAgICAgICAgICAgIERpc2NvLmdldCh7aWQ6JHN0YXRlUGFyYW1zLmlkfSkuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd0VkaXQocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGZ1bmN0aW9uIG5hdmlnYXRlVG9JdGVtKHJvdyl7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbyhcImRpc2Nvc1wiLHtpZDpyb3cuaWR9LCB7bm90aWZ5OmZhbHNlfSk7XHJcbiAgICAgICAgICAgIHNob3dFZGl0KHJvdyk7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNob3dBZGQoZXYpIHtcclxuICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0FkZERpc2NvQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL2Rpc2Nvcy9hZGQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgIHRhcmdldEV2ZW50OiBldlxyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChuZXdFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5ld0V2ZW50ICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgdm0uZGlzY29zLnB1c2gobmV3RXZlbnQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGRvRGVsZXRlKHJvdywgJGV2ZW50KSB7XHJcbiAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIHZhciBjb25maXJtID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxyXG4gICAgICAgICAgICAgICAgLmNvbnRlbnQoJ0VzdGEgc2VndXJvIHF1ZSBkZXNlYSBib3JyYXIgZXN0ZSBlbGVtZW50bycpXHJcbiAgICAgICAgICAgICAgICAub2soJ0JvcnJhcicpXHJcbiAgICAgICAgICAgICAgICAuY2FuY2VsKCdDYW5jZWxhcicpXHJcbiAgICAgICAgICAgICAgICAudGFyZ2V0RXZlbnQoJGV2ZW50KTtcclxuXHJcbiAgICAgICAgICAgICRtZERpYWxvZy5zaG93KGNvbmZpcm0pLnRoZW4oZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIE5vdGljaWEuZGVsZXRlKHtpZDpyb3cuaWR9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihyZXNwb25zZS5lcnJvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLmVycm9yKS50aGVtZShcImVycm9yLXRvYXN0XCIpKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLm1lc3NhZ2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdm0uZGlzY29zLmluZGV4T2Yocm93KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdm0uZGlzY29zLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2hvd0VkaXQocm93KSB7XHJcbiAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZEl0ZW0gPSByb3c7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHZtLmRpc2Nvcy5pbmRleE9mKHJvdyk7XHJcbiAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdBZGREaXNjb0NvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9kaXNjb3MvYWRkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLiRuZXcoKVxyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKGVkaXRlZCl7XHJcbiAgICAgICAgICAgICAgICBpZihlZGl0ZWQhPSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuYWRkT3JVcGRhdGVMaXN0KHZtLmRpc2NvcywgZWRpdGVkLCBpbmRleCk7XHJcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oXCJkaXNjb3NcIix7aWQ6Jyd9LCB7bm90aWZ5OmZhbHNlfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmFja2VuZEFwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ0V2ZW50b0xpc3RDb250cm9sbGVyJyxbJyRzY29wZScsICdFdmVudG8nLCAnJG1kRGlhbG9nJywnJG1kVG9hc3QnLFxyXG4gICAgICAgIGZ1bmN0aW9uKCRzY29wZSwgRXZlbnRvLCAkbWREaWFsb2csICRtZFRvYXN0KXtcclxuICAgICAgICAgICAgJHNjb3BlLmV2ZW50b3MgPSBFdmVudG8ucXVlcnkoKTtcclxuICAgICAgICAgICAgJHNjb3BlLm9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICByb3dIZWlnaHQ6IDUwLFxyXG4gICAgICAgICAgICAgICAgZm9vdGVySGVpZ2h0OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGhlYWRlckhlaWdodDogNTAsXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxiYXJWOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY29sdW1uTW9kZTogJ2ZvcmNlJ1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0FkZCA9IGZ1bmN0aW9uKGV2KXtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQWRkRXZlbnRvQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9ldmVudG9zL2FkZC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRFdmVudDogZXZcclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obmV3RXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKG5ld0V2ZW50IT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdFdmVudC5mZWNoYSA9IG5ldyBEYXRlKG5ld0V2ZW50LmZlY2hhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50b3MucHVzaChuZXdFdmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGUgPSBmdW5jdGlvbihyb3csICRldmVudCl7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIEV2ZW50by5kZWxldGUoe2lkOnJvdy5pZH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmVycm9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UubWVzc2FnZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUuZXZlbnRvcy5pbmRleE9mKHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudG9zLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0VkaXQgPSBmdW5jdGlvbihyb3cpe1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkSXRlbSA9IHJvdztcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQWRkRXZlbnRvQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9ldmVudG9zL2FkZC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLiRuZXcoKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgXSk7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdBZGRFdmVudG9Db250cm9sbGVyJyxbJyRyb290U2NvcGUnLCckc2NvcGUnLCckbWRUb2FzdCcsICckbWREaWFsb2cnLCAnRXZlbnRvJywnVXBsb2FkJyxcclxuICAgICAgICBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsJG1kVG9hc3QsICRtZERpYWxvZywgRXZlbnRvLCBVcGxvYWQpe1xyXG4gICAgICAgICAgICBpZigkc2NvcGUuc2VsZWN0ZWRJdGVtIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRvID0gJHNjb3BlLnNlbGVjdGVkSXRlbTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudG8uZmVjaGEgPSBuZXcgRGF0ZSgkc2NvcGUuZXZlbnRvLmZlY2hhKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5lZGl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudG8gPSBuZXcgRXZlbnRvKCk7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuaGlkZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS5hdHRlbXB0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmF0dGVtcHRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZighJHNjb3BlLmZvcm0uJHZhbGlkKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZigkc2NvcGUuZmlsZUNoYW5nZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgdXBsb2FkQW5kU2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZigkc2NvcGUuZWRpdClcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBzYXZlKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzYXZlKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50by4kc2F2ZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgkc2NvcGUuZXZlbnRvKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChcIk51ZXZvIGV2ZW50byBndWFyZGFkb1wiKSk7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UuZGF0YS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRzY29wZS5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgICAgICRzY29wZS5maWxlQ2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUuZmlsZUNoYW5nZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBmdW5jdGlvbiB1cGxvYWRBbmRTYXZlKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkcm9vdFNjb3BlLnVwbG9hZF91cmwsXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZTogJHNjb3BlLmV2ZW50by5pbWFnZW5cclxuICAgICAgICAgICAgICAgIH0pLnByb2dyZXNzKGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvZ3Jlc3MgPSBwYXJzZUludCgxMDAuMCAqIGV2dC5sb2FkZWQgLyBldnQudG90YWwpO1xyXG4gICAgICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRvLmltYWdlbiA9IGRhdGEudXJsO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2dyZXNzID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZigkc2NvcGUuZWRpdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzYXZlKCk7XHJcbiAgICAgICAgICAgICAgICB9KS5lcnJvcihmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQoZGF0YS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcclxuICAgICAgICAgICAgICAgIEV2ZW50by51cGRhdGUoe2lkOiAkc2NvcGUuZXZlbnRvLmlkfSwgJHNjb3BlLmV2ZW50bykuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgkc2NvcGUuZXZlbnRvKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXSk7XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmFja2VuZEFwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ0V2ZW50b0xpc3RDb250cm9sbGVyJyxbJyRzY29wZScsICdFdmVudG8nLCAnJG1kRGlhbG9nJywnJG1kVG9hc3QnLFxyXG4gICAgICAgIGZ1bmN0aW9uKCRzY29wZSwgRXZlbnRvLCAkbWREaWFsb2csICRtZFRvYXN0KXtcclxuICAgICAgICAgICAgJHNjb3BlLmV2ZW50b3MgPSBFdmVudG8ucXVlcnkoKTtcclxuICAgICAgICAgICAgJHNjb3BlLm9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICByb3dIZWlnaHQ6IDUwLFxyXG4gICAgICAgICAgICAgICAgZm9vdGVySGVpZ2h0OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGhlYWRlckhlaWdodDogNTAsXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxiYXJWOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY29sdW1uTW9kZTogJ2ZvcmNlJ1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0FkZCA9IGZ1bmN0aW9uKGV2KXtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQWRkRXZlbnRvQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9ldmVudG9zL2FkZC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRFdmVudDogZXZcclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obmV3RXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKG5ld0V2ZW50IT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdFdmVudC5mZWNoYSA9IG5ldyBEYXRlKG5ld0V2ZW50LmZlY2hhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50b3MucHVzaChuZXdFdmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGUgPSBkb0RlbGV0ZTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gZG9EZWxldGUocm93LCAkZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybSgpXHJcbiAgICAgICAgICAgICAgICAgICAgLmNvbnRlbnQoJ0VzdGEgc2VndXJvIHF1ZSBkZXNlYSBib3JyYXIgZXN0ZSBlbGVtZW50bycpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9rKCdCb3JyYXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYW5jZWwoJ0NhbmNlbGFyJylcclxuICAgICAgICAgICAgICAgICAgICAudGFyZ2V0RXZlbnQoJGV2ZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuc2hvdyhjb25maXJtKS50aGVuKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRvLmRlbGV0ZSh7aWQ6cm93LmlkfSkuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmVycm9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLmVycm9yKS50aGVtZShcImVycm9yLXRvYXN0XCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UubWVzc2FnZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLmV2ZW50b3MuaW5kZXhPZihyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50b3Muc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnNob3dFZGl0ID0gZnVuY3Rpb24ocm93KXtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZEl0ZW0gPSByb3c7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0FkZEV2ZW50b0NvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvZXZlbnRvcy9hZGQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZS4kbmV3KClcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIF0pO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiYWNrZW5kQXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignQWRkRXZlbnRvQ29udHJvbGxlcicsWyckcm9vdFNjb3BlJywnJHNjb3BlJywnJG1kVG9hc3QnLCAnJG1kRGlhbG9nJywgJ0V2ZW50bycsJ1VwbG9hZCcsXHJcbiAgICAgICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgJHNjb3BlLCRtZFRvYXN0LCAkbWREaWFsb2csIEV2ZW50bywgVXBsb2FkKXtcclxuICAgICAgICAgICAgaWYoJHNjb3BlLnNlbGVjdGVkSXRlbSE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50byA9ICRzY29wZS5zZWxlY3RlZEl0ZW07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRvLmZlY2hhID0gbmV3IERhdGUoJHNjb3BlLmV2ZW50by5mZWNoYSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZWRpdCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRvID0gbmV3IEV2ZW50bygpO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmhpZGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUuYXR0ZW1wdGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdHRlbXB0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYoISRzY29wZS5mb3JtLiR2YWxpZClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoJHNjb3BlLmZpbGVDaGFuZ2VkKVxyXG4gICAgICAgICAgICAgICAgICAgIHVwbG9hZEFuZFNhdmUoKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYoJHNjb3BlLmVkaXQpXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgc2F2ZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gc2F2ZSgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudG8uJHNhdmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUoJHNjb3BlLmV2ZW50byk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQoXCJOdWV2byBldmVudG8gZ3VhcmRhZG9cIikpO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLmRhdGEuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkc2NvcGUucHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgICAgICAkc2NvcGUuZmlsZUNoYW5nZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHNjb3BlLmZpbGVDaGFuZ2UgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gdXBsb2FkQW5kU2F2ZSgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdWJtaXR0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogJHJvb3RTY29wZS51cGxvYWRfdXJsLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGU6ICRzY29wZS5ldmVudG8uaW1hZ2VuXHJcbiAgICAgICAgICAgICAgICB9KS5wcm9ncmVzcyhmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2dyZXNzID0gcGFyc2VJbnQoMTAwLjAgKiBldnQubG9hZGVkIC8gZXZ0LnRvdGFsKTtcclxuICAgICAgICAgICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50by5pbWFnZW4gPSBkYXRhLnVybDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoJHNjb3BlLmVkaXQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KGRhdGEuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2dyZXNzID0gMDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGUoKSB7XHJcbiAgICAgICAgICAgICAgICBFdmVudG8udXBkYXRlKHtpZDogJHNjb3BlLmV2ZW50by5pZH0sICRzY29wZS5ldmVudG8pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUoJHNjb3BlLmV2ZW50byk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIF0pO1xyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE1heGkgb24gNy8zMS8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdBZGRJbnRlZ3JhbnRlQ29udHJvbGxlcicsIEFkZEludGVncmFudGVDb250cm9sbGVyKTtcclxuXHJcbiAgICBBZGRJbnRlZ3JhbnRlQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCckcm9vdFNjb3BlJywnJG1kVG9hc3QnLCAnJG1kRGlhbG9nJywgJ0ludGVncmFudGUnLCAnRGlzY28nLCAnVXBsb2FkJ107XHJcblxyXG4gICAgZnVuY3Rpb24gQWRkSW50ZWdyYW50ZUNvbnRyb2xsZXIoJHNjb3BlLCAkcm9vdFNjb3BlLCRtZFRvYXN0LCAkbWREaWFsb2csIEludGVncmFudGUsIERpc2NvLCBVcGxvYWQpe1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgdm0uZWRpdCA9IGZhbHNlO1xyXG4gICAgICAgIHZtLmRpc2NvcyA9IERpc2NvLnF1ZXJ5KCk7XHJcbiAgICAgICAgdm0ucHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgIHZtLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICB2bS5maWxlQ2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgIHZtLmF0dGVtcHRlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICB2bS5zdWJtaXQgPSBzdWJtaXQ7XHJcbiAgICAgICAgdm0uZmlsZUNoYW5nZSA9IGZpbGVDaGFuZ2U7XHJcbiAgICAgICAgdm0uaGlkZSA9ICRtZERpYWxvZy5oaWRlO1xyXG5cclxuICAgICAgICBpZigkc2NvcGUuc2VsZWN0ZWRJdGVtICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB2bS5pbnRlZ3JhbnRlID0gJHNjb3BlLnNlbGVjdGVkSXRlbTtcclxuICAgICAgICAgICAgdm0uZWRpdCA9IHRydWU7XHJcbiAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAgdm0uaW50ZWdyYW50ZSA9IG5ldyBJbnRlZ3JhbnRlKCk7XHJcblxyXG4gICAgICAgIC8qKioqKioqZnVuY3Rpb25zKioqKioqKi9cclxuICAgICAgICBmdW5jdGlvbiBzdWJtaXQoKXtcclxuICAgICAgICAgICAgdm0uYXR0ZW1wdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdm0uc3VibWl0dGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmKCEkc2NvcGUuZm9ybS4kdmFsaWQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBpZih2bS5maWxlQ2hhbmdlZClcclxuICAgICAgICAgICAgICAgIHVwbG9hZEFuZFNhdmUoKTtcclxuICAgICAgICAgICAgZWxzZSBpZih2bS5lZGl0KVxyXG4gICAgICAgICAgICAgICAgdXBkYXRlKCk7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHNhdmUoKTtcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZmlsZUNoYW5nZSgpe1xyXG4gICAgICAgICAgICB2bS5maWxlQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdXBsb2FkQW5kU2F2ZSgpIHtcclxuICAgICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICRyb290U2NvcGUudXBsb2FkX3VybCxcclxuICAgICAgICAgICAgICAgIGZpbGU6IHZtLmludGVncmFudGUuaW1hZ2VuXHJcbiAgICAgICAgICAgIH0pLnByb2dyZXNzKGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgIHZtLnByb2dyZXNzID0gcGFyc2VJbnQoMTAwLjAgKiBldnQubG9hZGVkIC8gZXZ0LnRvdGFsKTtcclxuICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcclxuICAgICAgICAgICAgICAgIHZtLmludGVncmFudGUuaW1hZ2VuID0gZGF0YS51cmw7XHJcbiAgICAgICAgICAgICAgICB2bS5maWxlQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB2bS5wcm9ncmVzcz0wO1xyXG4gICAgICAgICAgICAgICAgaWYodm0uZWRpdClcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBzYXZlKCk7XHJcbiAgICAgICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xyXG4gICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KGRhdGEuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgdm0uc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdm0ucHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNhdmUoKSB7XHJcbiAgICAgICAgICAgIEludGVncmFudGUuc2F2ZSh2bS5pbnRlZ3JhbnRlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSwgYWxnbywgYWxnbzIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFsZ28pO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYWxnbzIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLmVycm9yKS50aGVtZShcImVycm9yLXRvYXN0XCIpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChcIk51ZXZhIGludGVncmFudGUgZ3VhcmRhZG9cIikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdm0uc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcclxuICAgICAgICAgICAgSW50ZWdyYW50ZS51cGRhdGUoe2lkOiB2bS5pbnRlZ3JhbnRlLmlkfSwgdm0uaW50ZWdyYW50ZSkuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICB2bS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSh2bS5pbnRlZ3JhbnRlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE1heGkgb24gNy8zMS8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdJbnRlZ3JhbnRlTGlzdENvbnRyb2xsZXInLEludGVncmFudGVMaXN0Q29udHJvbGxlcik7XHJcblxyXG4gICAgSW50ZWdyYW50ZUxpc3RDb250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCckc2NvcGUnLCAnSW50ZWdyYW50ZScsICckbWREaWFsb2cnLCckbWRUb2FzdCcsICckc3RhdGVQYXJhbXMnLCAnJHN0YXRlJyBdO1xyXG4gICAgZnVuY3Rpb24gSW50ZWdyYW50ZUxpc3RDb250cm9sbGVyKCRyb290U2NvcGUsICRzY29wZSwgSW50ZWdyYW50ZSwgJG1kRGlhbG9nLCAkbWRUb2FzdCwgJHN0YXRlUGFyYW1zLCAkc3RhdGUpe1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcbiAgICAgICAgdm0uaW50ZWdyYW50ZXMgPSBJbnRlZ3JhbnRlLnF1ZXJ5KCk7XHJcbiAgICAgICAgdm0ub3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgcm93SGVpZ2h0OiA1MCxcclxuICAgICAgICAgICAgZm9vdGVySGVpZ2h0OiBmYWxzZSxcclxuICAgICAgICAgICAgaGVhZGVySGVpZ2h0OiA1MCxcclxuICAgICAgICAgICAgc2Nyb2xsYmFyVjogZmFsc2UsXHJcbiAgICAgICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBjb2x1bW5Nb2RlOiAnZm9yY2UnXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdm0uc2hvd0FkZCA9IHNob3dBZGQ7XHJcbiAgICAgICAgdm0uZGVsZXRlID0gZG9EZWxldGU7XHJcbiAgICAgICAgdm0uc2hvd0VkaXQgPSBuYXZpZ2F0ZVRvSXRlbTtcclxuICAgICAgICB2bS5oaWRlID0gJG1kRGlhbG9nLmNhbmNlbDtcclxuXHJcbiAgICAgICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKXtcclxuICAgICAgICAgICAgaWYoJHN0YXRlUGFyYW1zLmlkKXtcclxuICAgICAgICAgICAgICAgIEludGVncmFudGUuZ2V0KHtpZDokc3RhdGVQYXJhbXMuaWR9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgICAgICBzaG93RWRpdChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNob3dBZGQoZXYpe1xyXG4gICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQWRkSW50ZWdyYW50ZUNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9pbnRlZ3JhbnRlcy9hZGQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgIHRhcmdldEV2ZW50OiBldlxyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG5ld01vZGVsKXtcclxuICAgICAgICAgICAgICAgIGlmKG5ld01vZGVsIT0gdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmFkZE9yVXBkYXRlTGlzdCh2bS5pbnRlZ3JhbnRlcywgbmV3TW9kZWwpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGRvRGVsZXRlKHJvdywgJGV2ZW50KSB7XHJcbiAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIHZhciBjb25maXJtID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxyXG4gICAgICAgICAgICAgICAgLmNvbnRlbnQoJ0VzdGEgc2VndXJvIHF1ZSBkZXNlYSBib3JyYXIgZXN0ZSBlbGVtZW50bycpXHJcbiAgICAgICAgICAgICAgICAub2soJ0JvcnJhcicpXHJcbiAgICAgICAgICAgICAgICAuY2FuY2VsKCdDYW5jZWxhcicpXHJcbiAgICAgICAgICAgICAgICAudGFyZ2V0RXZlbnQoJGV2ZW50KTtcclxuXHJcbiAgICAgICAgICAgICRtZERpYWxvZy5zaG93KGNvbmZpcm0pLnRoZW4oZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIEludGVncmFudGUuZGVsZXRlKHtpZDpyb3cuaWR9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihyZXNwb25zZS5lcnJvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLmVycm9yKS50aGVtZShcImVycm9yLXRvYXN0XCIpKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLm1lc3NhZ2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdm0uaW50ZWdyYW50ZXMuaW5kZXhPZihyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2bS5pbnRlZ3JhbnRlcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbmF2aWdhdGVUb0l0ZW0ocm93KXtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKFwiaW50ZWdyYW50ZXNcIix7aWQ6cm93LmlkfSwge25vdGlmeTpmYWxzZX0pO1xyXG4gICAgICAgICAgICBzaG93RWRpdChyb3cpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNob3dFZGl0KHJvdyl7XHJcbiAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZEl0ZW0gPSBhbmd1bGFyLmNvcHkocm93KTtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdm0uaW50ZWdyYW50ZXMuaW5kZXhPZihyb3cpO1xyXG4gICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQWRkSW50ZWdyYW50ZUNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9pbnRlZ3JhbnRlcy9hZGQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUuJG5ldygpXHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oZWRpdGVkKXtcclxuICAgICAgICAgICAgICAgIGlmKGVkaXRlZCE9IHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5hZGRPclVwZGF0ZUxpc3Qodm0uaW50ZWdyYW50ZXMsIGVkaXRlZCwgaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKFwiaW50ZWdyYW50ZXNcIix7aWQ6Jyd9LCB7bm90aWZ5OmZhbHNlfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmFja2VuZEFwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ0FkZE5vdGljaWFDb250cm9sbGVyJyxbJyRyb290U2NvcGUnLCckc2NvcGUnLCckbWRUb2FzdCcsICckbWREaWFsb2cnLCAnTm90aWNpYScsJ0NhdGVnb3JpYScsJ1ZpZGVvJywnQ2FuY2lvbicsJ0FkJywgJ1VwbG9hZCcsJ1RhZycsXHJcbiAgICAgICAgZnVuY3Rpb24oJHJvb3RTY29wZSwkc2NvcGUsJG1kVG9hc3QsICRtZERpYWxvZywgTm90aWNpYSwgQ2F0ZWdvcmlhLCBWaWRlbywgQ2FuY2lvbiwgQWQsIFVwbG9hZCwgVGFnKXtcclxuICAgICAgICAgICAgaWYoJHNjb3BlLnNlbGVjdGVkSXRlbSE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5vdGljaWEgPSAkc2NvcGUuc2VsZWN0ZWRJdGVtO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5vdGljaWEuZmVjaGEgPSBuZXcgRGF0ZSgkc2NvcGUubm90aWNpYS5mZWNoYSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubm90aWNpYS5jYXRlZ29yaWFfaWQgPSAkc2NvcGUubm90aWNpYS5jYXRlZ29yaWFzWzBdLmlkO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5vdGljaWEudmlkZW9faWQgPSAkc2NvcGUubm90aWNpYS52aWRlby5pZDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ub3RpY2lhLmNhbmNpb25faWQgPSAkc2NvcGUubm90aWNpYS5jYW5jaW9uLmlkO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmVkaXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYoISRzY29wZS5ub3RpY2lhLm5vdGljaWFhZHNbMF0pXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5vdGljaWEubm90aWNpYWFkc1swXSA9IHthZF9pZDowfTtcclxuICAgICAgICAgICAgICAgIGlmKCEkc2NvcGUubm90aWNpYS5ub3RpY2lhYWRzWzFdKVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ub3RpY2lhLm5vdGljaWFhZHNbMV0gPSB7YWRfaWQ6MH07XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ub3RpY2lhID0gbmV3IE5vdGljaWEoKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ub3RpY2lhLnRhZ3MgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ub3RpY2lhLm5vdGljaWFhZHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ub3RpY2lhLm5vdGljaWFhZHNbMF0gPSB7YWRfaWQ6MH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubm90aWNpYS5ub3RpY2lhYWRzWzFdID0ge2FkX2lkOjB9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzY29wZS5ub3RpY2lhKTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5jYXRlZ29yaWFzID0gQ2F0ZWdvcmlhLnF1ZXJ5KCk7XHJcbiAgICAgICAgICAgICRzY29wZS52aWRlb3MgPSBWaWRlby5xdWVyeSgpO1xyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2lvbmVzID0gQ2FuY2lvbi5xdWVyeSgpO1xyXG4gICAgICAgICAgICAkc2NvcGUuYWRzID0gQWQucXVlcnkoKTtcclxuICAgICAgICAgICAgJHNjb3BlLnRhZ3MgPSBUYWcucXVlcnkoKTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5wb3NpY2lvbmVzID0gbmV3IEFycmF5KDYpO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmhpZGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZmlsdGVyU2l6ZSA9IGZ1bmN0aW9uKGl0ZW0pe1xyXG4gICAgICAgICAgICAgICAgdmFyIHdhbnRlZFNpemUgPSBbXCI5NzB4OTBcIiwgXCI3Mjh4OTBcIl07XHJcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IHdhbnRlZFNpemUuaW5kZXhPZihpdGVtLnNpemUpPi0xO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhpdGVtLnNpemUsIHdhbnRlZFNpemUsIG1hdGNoZXMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS5hdHRlbXB0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmF0dGVtcHRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZighJHNjb3BlLmZvcm0uJHZhbGlkKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZigkc2NvcGUuZmlsZUNoYW5nZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgdXBsb2FkQW5kU2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZigkc2NvcGUuZWRpdClcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBzYXZlKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzYXZlKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5vdGljaWEuJHNhdmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUoJHNjb3BlLm5vdGljaWEpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KFwiTnVldmEgbm90aWNpYSBndWFyZGFkYVwiKSk7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UuZGF0YS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRzY29wZS5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgICAgICRzY29wZS5maWxlQ2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUuZmlsZUNoYW5nZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBmdW5jdGlvbiB1cGxvYWRBbmRTYXZlKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkcm9vdFNjb3BlLnVwbG9hZF91cmwsXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZTogJHNjb3BlLm5vdGljaWEuaW1hZ2VuXHJcbiAgICAgICAgICAgICAgICB9KS5wcm9ncmVzcyhmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2dyZXNzID0gcGFyc2VJbnQoMTAwLjAgKiBldnQubG9hZGVkIC8gZXZ0LnRvdGFsKTtcclxuICAgICAgICAgICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5vdGljaWEuaW1hZ2VuPSBkYXRhLnVybDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoJHNjb3BlLmVkaXQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KGRhdGEuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2dyZXNzID0gMDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGUoKSB7XHJcbiAgICAgICAgICAgICAgICBOb3RpY2lhLnVwZGF0ZSh7aWQ6ICRzY29wZS5ub3RpY2lhLmlkfSwgJHNjb3BlLm5vdGljaWEpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5vdGljaWEgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubm90aWNpYS5mZWNoYSA9IG5ldyBEYXRlKCRzY29wZS5ub3RpY2lhLmZlY2hhKTtcclxuICAgICAgICAgICAgICAgICAgICBpZigkc2NvcGUubm90aWNpYS5jYXRlZ29yaWFzICYmICRzY29wZS5ub3RpY2lhLmNhdGVnb3JpYXMubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5vdGljaWEuY2F0ZWdvcmlhX2lkID0gJHNjb3BlLm5vdGljaWEuY2F0ZWdvcmlhc1swXS5pZDtcclxuICAgICAgICAgICAgICAgICAgICBpZigkc2NvcGUubm90aWNpYS52aWRlbylcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5vdGljaWEudmlkZW9faWQgPSAkc2NvcGUubm90aWNpYS52aWRlby5pZDtcclxuICAgICAgICAgICAgICAgICAgICBpZigkc2NvcGUubm90aWNpYS5jYW5jaW9uKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubm90aWNpYS5jYW5jaW9uX2lkID0gJHNjb3BlLm5vdGljaWEuY2FuY2lvbi5pZDtcclxuICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZShyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIC8qKioqVEFHUyBDSElQUyAqKioqKioqKioqL1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnNlYXJjaFRleHQgPSBudWxsO1xyXG4gICAgICAgICAgICAkc2NvcGUucXVlcnlTZWFyY2ggPSBxdWVyeVNlYXJjaDtcclxuICAgICAgICAgICAgJHNjb3BlLnRhZ3MgPSBsb2FkVGFncygpO1xyXG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRUYWdzID0gW107XHJcbiAgICAgICAgICAgICRzY29wZS5udW1iZXJDaGlwcyA9IFtdO1xyXG4gICAgICAgICAgICAkc2NvcGUubnVtYmVyQ2hpcHMyID0gW107XHJcbiAgICAgICAgICAgICRzY29wZS5udW1iZXJCdWZmZXIgPSAnJztcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFNlYXJjaCBmb3IgdGFncy5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHF1ZXJ5U2VhcmNoIChxdWVyeSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBxdWVyeSA/ICRzY29wZS50YWdzLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuZmlsdGVyKGNyZWF0ZUZpbHRlckZvcihxdWVyeSkpO1xyXG4gICAgICAgICAgICAgICAgfSk6IFtdO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAqIEFkZCBuZXcgdGFnIGlmIGl0IGRvZXNudCBleGlzdFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgJHNjb3BlLm5ld1RhZyA9ICBmdW5jdGlvbiAoY2hpcCl7XHJcbiAgICAgICAgICAgICAgICBpZighY2hpcC5ub21icmUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3VGFnID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub21icmU6IGNoaXBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld1RhZztcclxuICAgICAgICAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoaXA7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQ3JlYXRlIGZpbHRlciBmdW5jdGlvbiBmb3IgYSBxdWVyeSBzdHJpbmdcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUZpbHRlckZvcihxdWVyeSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxvd2VyY2FzZVF1ZXJ5ID0gYW5ndWxhci5sb3dlcmNhc2UocXVlcnkpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGZpbHRlckZuKHRhZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAodGFnLm5vbWJyZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YobG93ZXJjYXNlUXVlcnkpID09PSAwKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gbG9hZFRhZ3MoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gVGFnLnF1ZXJ5KCkuJHByb21pc2UudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXSk7XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmFja2VuZEFwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ05vdGljaWFMaXN0Q29udHJvbGxlcicsWyckcm9vdFNjb3BlJywnJHNjb3BlJywgJ05vdGljaWEnLCAnJG1kRGlhbG9nJywgJyRtZFRvYXN0JywnJHN0YXRlJyxcclxuICAgICAgICBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsIE5vdGljaWEsICRtZERpYWxvZywgJG1kVG9hc3QsICRzdGF0ZSl7XHJcbiAgICAgICAgICAgICRzY29wZS5ub3RpY2lhcyA9IE5vdGljaWEucXVlcnkoKTtcclxuICAgICAgICAgICAgJHNjb3BlLm9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICByb3dIZWlnaHQ6IDUwLFxyXG4gICAgICAgICAgICAgICAgZm9vdGVySGVpZ2h0OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGhlYWRlckhlaWdodDogNTAsXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxiYXJWOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY29sdW1uTW9kZTogJ2ZvcmNlJ1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0FkZCA9IGZ1bmN0aW9uKGV2KXtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQWRkTm90aWNpYUNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvbm90aWNpYXMvYWRkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEV2ZW50OiBldlxyXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihuZXdNb2RlbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYobmV3TW9kZWwhPSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmFkZE9yVXBkYXRlTGlzdCgkc2NvcGUubm90aWNpYXMsIG5ld01vZGVsKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuZGVsZXRlID0gZG9EZWxldGU7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRvRGVsZXRlKHJvdywgJGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHZhciBjb25maXJtID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb250ZW50KCdFc3RhIHNlZ3VybyBxdWUgZGVzZWEgYm9ycmFyIGVzdGUgZWxlbWVudG8nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5vaygnQm9ycmFyJylcclxuICAgICAgICAgICAgICAgICAgICAuY2FuY2VsKCdDYW5jZWxhcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRhcmdldEV2ZW50KCRldmVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIE5vdGljaWEuZGVsZXRlKHtpZDpyb3cuaWR9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZXJyb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChyZXNwb25zZS5tZXNzYWdlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUubm90aWNpYXMuaW5kZXhPZihyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5vdGljaWFzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93RWRpdCA9IGZ1bmN0aW9uKHJvdyl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRJdGVtID0gYW5ndWxhci5jb3B5KHJvdyk7O1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLm5vdGljaWFzLmluZGV4T2Yocm93KTtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQWRkTm90aWNpYUNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvbm90aWNpYXMvYWRkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUuJG5ldygpXHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKGVkaXRlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZWRpdGVkIT0gdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5hZGRPclVwZGF0ZUxpc3QoJHNjb3BlLm5vdGljaWFzLCBlZGl0ZWQsIGluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oXCJub3RpY2lhc1wiLHtpZDonJ30sIHtub3RpZnk6ZmFsc2V9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIF0pO1xyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE1heGkgb24gNy8zMS8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdBZGRBZENvbnRyb2xsZXInLEFkZEFkQ29udHJvbGxlcik7XHJcblxyXG4gICAgQWRkQWRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCckc2NvcGUnLCckbWRUb2FzdCcsICckbWREaWFsb2cnLCAnQWQnLCAnVXBsb2FkJ107XHJcbiAgICBmdW5jdGlvbiBBZGRBZENvbnRyb2xsZXIoJHJvb3RTY29wZSwgJHNjb3BlLCAkbWRUb2FzdCwgJG1kRGlhbG9nLCBBZCwgVXBsb2FkKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgdm0uZWRpdCA9IGZhbHNlO1xyXG4gICAgICAgIHZtLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICB2bS5hdHRlbXB0ZWQgPSBmYWxzZTtcclxuICAgICAgICB2bS5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgdm0uZmlsZUNoYW5nZWQgPSBmYWxzZTtcclxuICAgICAgICB2bS5zaXplcyA9IFsgXCIzMDB4NTBcIixcIjMwMHgyNTBcIiwgXCIzMDB4NjAwXCIsIFwiOTcweDkwXCIsXCI3Mjh4OTBcIiwgIFwiODEweDU1MFwiXTtcclxuICAgICAgICB2bS5wb3NpY2lvbmVzID0gWzEsIDIsIDNdO1xyXG4gICAgICAgIHZtLnBvc2ljaW9uZXNfdGFtYW5vID0gWycoNzI4eDkwKScsICcoMzAweDI1MCknLCAnKDcyOHg5MCknXTtcclxuXHJcbiAgICAgICAgaWYgKCRzY29wZS5zZWxlY3RlZEl0ZW0gIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHZtLmFkID0gJHNjb3BlLnNlbGVjdGVkSXRlbTtcclxuICAgICAgICAgICAgdm0uZWRpdCA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgIHZtLmFkID0gbmV3IEFkO1xyXG5cclxuXHJcbiAgICAgICAgdm0uaGlkZSA9ICRtZERpYWxvZy5oaWRlO1xyXG5cclxuICAgICAgICB2bS5zdWJtaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZtLmF0dGVtcHRlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBpZiAoISRzY29wZS5hZEZvcm0uJHZhbGlkKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdm0uc3VibWl0dGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBpZiAodm0uZmlsZUNoYW5nZWQpXHJcbiAgICAgICAgICAgICAgICB1cGxvYWRBbmRTYXZlKCk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHZtLmVkaXQpXHJcbiAgICAgICAgICAgICAgICB1cGRhdGUoKTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgc2F2ZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZtLmZpbGVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZtLmZpbGVDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzYXZlKCkge1xyXG4gICAgICAgICAgICB2bS5hZC4kc2F2ZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKHZtLmFkKTtcclxuICAgICAgICAgICAgICAgIHZtLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChcIk51ZXZvIGFkIGd1YXJkYWRvXCIpKTtcclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UuZGF0YS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICB2bS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcclxuICAgICAgICAgICAgQWQudXBkYXRlKHtpZDogdm0uYWQuaWR9LCB2bS5hZCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZmluaXNoZWRcIiwgcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgdm0uc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUodm0uYWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHVwbG9hZEFuZFNhdmUoKSB7XHJcbiAgICAgICAgICAgIHZtLnN1Ym1pdHRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgICAgIHVybDogJHJvb3RTY29wZS51cGxvYWRfdXJsLFxyXG4gICAgICAgICAgICAgICAgZmlsZTogdm0uYWQuc291cmNlXHJcbiAgICAgICAgICAgIH0pLnByb2dyZXNzKGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgIHZtLnByb2dyZXNzID0gcGFyc2VJbnQoMTAwLjAgKiBldnQubG9hZGVkIC8gZXZ0LnRvdGFsKTtcclxuICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcclxuICAgICAgICAgICAgICAgIHZtLmFkLnNvdXJjZSA9IGRhdGEudXJsO1xyXG4gICAgICAgICAgICAgICAgdm0uYWQudHlwZSA9IGRhdGEudHlwZTtcclxuICAgICAgICAgICAgICAgIHZtLmZpbGVDaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB2bS5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAodm0uZWRpdClcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBzYXZlKCk7XHJcbiAgICAgICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xyXG4gICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KGRhdGEuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgdm0uc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdm0ucHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBNYXhpIG9uIDcvMzEvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiYWNrZW5kQXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignQWRMaXN0Q29udHJvbGxlcicsQWRMaXN0Q29udHJvbGxlcik7XHJcbiAgICBBZExpc3RDb250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCckc2NvcGUnLCdBZCcsICckbWREaWFsb2cnLCAnJG1kVG9hc3QnLCAnJHN0YXRlJywgJyRzdGF0ZVBhcmFtcyddO1xyXG4gICAgZnVuY3Rpb24gQWRMaXN0Q29udHJvbGxlcigkcm9vdFNjb3BlLCAkc2NvcGUsIEFkLCAkbWREaWFsb2csICRtZFRvYXN0LCAkc3RhdGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgIHZtLmFkcyA9IEFkLnF1ZXJ5KCk7XHJcbiAgICAgICAgdm0uc2hvd0VkaXQgPSBuYXZpZ2F0ZVRvSXRlbTtcclxuXHJcbiAgICAgICAgdm0ub3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgcm93SGVpZ2h0OiBcImF1dG9cIixcclxuICAgICAgICAgICAgZm9vdGVySGVpZ2h0OiBmYWxzZSxcclxuICAgICAgICAgICAgaGVhZGVySGVpZ2h0OiA1MCxcclxuICAgICAgICAgICAgc2Nyb2xsYmFyVjogZmFsc2UsXHJcbiAgICAgICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBjb2x1bW5Nb2RlOiAnZm9yY2UnXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdm0uc2hvd0FkZCA9IGZ1bmN0aW9uIChldikge1xyXG4gICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQWRkQWRDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvcHJvbW9zL2FkZC5odG1sJyxcclxuICAgICAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0RXZlbnQ6IGV2XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKG5ld09iaikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5ld09iaiE9PXRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgdm0uYWRzLnB1c2gobmV3T2JqKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKXtcclxuICAgICAgICAgICAgaWYoJHN0YXRlUGFyYW1zLmlkKXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzdGF0ZVBhcmFtcyk7XHJcbiAgICAgICAgICAgICAgICBBZC5nZXQoe2lkOiRzdGF0ZVBhcmFtcy5pZH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3dFZGl0KHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdm0uZGVsZXRlID0gZG9EZWxldGU7XHJcbiAgICAgICAgZnVuY3Rpb24gZG9EZWxldGUocm93LCAkZXZlbnQpIHtcclxuICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgdmFyIGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybSgpXHJcbiAgICAgICAgICAgICAgICAuY29udGVudCgnRXN0YSBzZWd1cm8gcXVlIGRlc2VhIGJvcnJhciBlc3RlIGVsZW1lbnRvJylcclxuICAgICAgICAgICAgICAgIC5vaygnQm9ycmFyJylcclxuICAgICAgICAgICAgICAgIC5jYW5jZWwoJ0NhbmNlbGFyJylcclxuICAgICAgICAgICAgICAgIC50YXJnZXRFdmVudCgkZXZlbnQpO1xyXG5cclxuICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgQWQuZGVsZXRlKHtpZDogcm93LmlkfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChyZXNwb25zZS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChyZXNwb25zZS5tZXNzYWdlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHZtLmFkcy5pbmRleE9mKHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLmFkcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG5hdmlnYXRlVG9JdGVtKHJvdyl7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbyhcImFkc1wiLHtpZDpyb3cuaWR9LCB7bm90aWZ5OmZhbHNlfSk7XHJcbiAgICAgICAgICAgIHNob3dFZGl0KHJvdyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBmdW5jdGlvbiBzaG93RWRpdChyb3cpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdm0uYWRzLmluZGV4T2Yocm93KTtcclxuICAgICAgICAgICAgcm93ID0gQWQuZ2V0KHtpZDpyb3cuaWR9LCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgdm0uYWRzW2luZGV4XSA9IHJvdztcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZEl0ZW0gPSBhbmd1bGFyLmNvcHkocm93KTtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQWRkQWRDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9wcm9tb3MvYWRkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUuJG5ldygpXHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKGVkaXRlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZWRpdGVkIT0gdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5hZGRPclVwZGF0ZUxpc3Qodm0uYWRzLCBlZGl0ZWQsIGluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oXCJhZHNcIix7aWQ6Jyd9LCB7bm90aWZ5OmZhbHNlfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmFja2VuZEFwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ1NpdGVVc2VyQ29udHJvbGxlcicsU2l0ZVVzZXJDb250cm9sbGVyKTtcclxuICAgIFNpdGVVc2VyQ29udHJvbGxlci4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywnJHNjb3BlJywnJG1kVG9hc3QnLCAnJG1kRGlhbG9nJywgJ1NpdGVVc2VyJywnVXBsb2FkJywnVVNFUl9ST0xFUyddO1xyXG5cclxuICAgIGZ1bmN0aW9uIFNpdGVVc2VyQ29udHJvbGxlcigkcm9vdFNjb3BlLCAkc2NvcGUsJG1kVG9hc3QsICRtZERpYWxvZywgU2l0ZVVzZXIsIFVwbG9hZCwgVVNFUl9ST0xFUyl7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICBpZigkc2NvcGUuc2VsZWN0ZWRJdGVtIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHZtLnVzZXIgPSAkc2NvcGUuc2VsZWN0ZWRJdGVtO1xyXG4gICAgICAgICAgICB2bS5lZGl0ID0gdHJ1ZTtcclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICB2bS51c2VyID0gbmV3IFNpdGVVc2VyKCk7XHJcblxyXG4gICAgICAgIHZtLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICB2bS5hdHRlbXB0ZWQgPSBmYWxzZTtcclxuICAgICAgICB2bS5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgdm0uZmlsZWNoYW5nZWQgPSBmYWxzZTtcclxuXHJcblxyXG4gICAgICAgIHZtLnJvbGVzID0ge307XHJcbiAgICAgICAgdm0ucm9sZXNbVVNFUl9ST0xFUy5hZG1pbiBdPSBcIkFkbWluaXN0cmFkb3JcIjtcclxuICAgICAgICB2bS5yb2xlc1tVU0VSX1JPTEVTLmVkaXRvcl09IFwiRWRpdG9yXCI7XHJcbiAgICAgICAgdm0ucm9sZXNbVVNFUl9ST0xFUy5lZGl0b3JQbHVzXT1cIkVkaXRvciBQbHVzXCI7XHJcbiAgICAgICAgdm0ucm9sZXNbVVNFUl9ST0xFUy5hbmFsaXN0YV09XCJBbmFsaXN0YVwiO1xyXG4gICAgICAgIHZtLnJvbGVzW1VTRVJfUk9MRVMubGVjdG9yXT1cIkxlY3RvclwiO1xyXG5cclxuXHJcbiAgICAgICAgdm0uaGlkZSA9ICRtZERpYWxvZy5oaWRlO1xyXG4gICAgICAgIHZtLnN1Ym1pdCA9IHN1Ym1pdDtcclxuICAgICAgICB2bS5maWxlQ2hhbmdlID0gZmlsZUNoYW5nZTtcclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGZpbGVDaGFuZ2UoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZmlsZUNoYW5nZVwiKTtcclxuICAgICAgICAgICAgdm0uZmlsZWNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc3VibWl0KCkge1xyXG4gICAgICAgICAgICB2bS5hdHRlbXB0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoISRzY29wZS5mb3JtLiR2YWxpZClcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgdm0uc3VibWl0dGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICh2bS5maWxlY2hhbmdlZClcclxuICAgICAgICAgICAgICAgIHVwbG9hZEFuZFNhdmUoKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAodm0uZWRpdClcclxuICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBzYXZlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2F2ZSgpIHtcclxuICAgICAgICAgICAgU2l0ZVVzZXIuc2F2ZSh2bS51c2VyLGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5lcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChkYXRhLmVycm9yKS50aGVtZShcImVycm9yLXRvYXN0XCIpKTtcclxuICAgICAgICAgICAgICAgICAgICB2bS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKHZtLnVzZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChcIk51ZXZvIHVzdWFyaW8gZ3VhcmRhZG9cIikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHVwbG9hZEFuZFNhdmUoKSB7XHJcbiAgICAgICAgICAgIHZtLnN1Ym1pdHRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgICAgIHVybDogJHJvb3RTY29wZS51cGxvYWRfdXJsLFxyXG4gICAgICAgICAgICAgICAgZmlsZTogdm0udXNlci5pbWFnZW5cclxuICAgICAgICAgICAgfSkucHJvZ3Jlc3MoZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgdm0ucHJvZ3Jlc3MgPSBwYXJzZUludCgxMDAuMCAqIGV2dC5sb2FkZWQgLyBldnQudG90YWwpO1xyXG4gICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xyXG4gICAgICAgICAgICAgICAgdm0udXNlci5pbWFnZW4gPSBkYXRhLnVybDtcclxuICAgICAgICAgICAgICAgIHZtLmZpbGVjaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHZtLnByb2dyZXNzID0gMDtcclxuICAgICAgICAgICAgICAgIGlmKHZtLmVkaXQpXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgc2F2ZSgpO1xyXG4gICAgICAgICAgICB9KS5lcnJvcihmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcclxuICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChkYXRhLmVycm9yKS50aGVtZShcImVycm9yLXRvYXN0XCIpKTtcclxuICAgICAgICAgICAgICAgIHZtLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHZtLnByb2dyZXNzID0gMDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGUoKSB7XHJcbiAgICAgICAgICAgIFNpdGVVc2VyLnVwZGF0ZSh7aWQ6IHZtLnVzZXIuaWR9LCB2bS51c2VyKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgIHZtLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKHZtLnVzZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdTaXRlVXNlckxpc3RDb250cm9sbGVyJywgWyckcm9vdFNjb3BlJywgJyRzY29wZScsICdTaXRlVXNlcicsICckbWREaWFsb2cnLCAnVVNFUl9ST0xFUycsICckbWRUb2FzdCcsICckc3RhdGUnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkc2NvcGUsIFNpdGVVc2VyLCAkbWREaWFsb2csIFVTRVJfUk9MRVMsICRtZFRvYXN0LCAkc3RhdGUpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnNpdGV1c2VycyA9IFNpdGVVc2VyLnF1ZXJ5KCk7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUub3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIHJvd0hlaWdodDogNTAsXHJcbiAgICAgICAgICAgICAgICBmb290ZXJIZWlnaHQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVySGVpZ2h0OiA1MCxcclxuICAgICAgICAgICAgICAgIHNjcm9sbGJhclY6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBjb2x1bW5Nb2RlOiAnZm9yY2UnXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0FkZCA9IGZ1bmN0aW9uIChldikge1xyXG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdTaXRlVXNlckNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL3NpdGVVc2Vycy9hZGQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RXZlbnQ6IGV2XHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChuZXdFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdFdmVudCAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZXVzZXJzLnB1c2gobmV3RXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZGVsZXRlID0gZG9EZWxldGU7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRvRGVsZXRlKHJvdywgJGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHZhciBjb25maXJtID0gJG1kRGlhbG9nLmNvbmZpcm0oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb250ZW50KCdFc3RhIHNlZ3VybyBxdWUgZGVzZWEgYm9ycmFyIGVzdGUgZWxlbWVudG8nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5vaygnQm9ycmFyJylcclxuICAgICAgICAgICAgICAgICAgICAuY2FuY2VsKCdDYW5jZWxhcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRhcmdldEV2ZW50KCRldmVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIFNpdGVVc2VyLmRlbGV0ZSh7aWQ6cm93LmlkfSkuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmVycm9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLmVycm9yKS50aGVtZShcImVycm9yLXRvYXN0XCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UubWVzc2FnZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLnNpdGV1c2Vycy5pbmRleE9mKHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZXVzZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93RWRpdCA9IGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZEl0ZW0gPSBhbmd1bGFyLmNvcHkocm93KTtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5zaXRldXNlcnMuaW5kZXhPZihyb3cpO1xyXG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdTaXRlVXNlckNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL3NpdGVVc2Vycy9hZGQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZS4kbmV3KClcclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGVkaXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlZGl0ZWQgIT0gdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5hZGRPclVwZGF0ZUxpc3QoJHNjb3BlLnNpdGV1c2VycywgZWRpdGVkLCBpbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKFwic2l0ZXVzZXJzXCIsIHtpZDogJyd9LCB7bm90aWZ5OiBmYWxzZX0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIF0pO1xyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE1heGkgb24gNy8zMS8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdVc2VyQ29udHJvbGxlcicsVXNlckNvbnRyb2xsZXIpO1xyXG4gICAgVXNlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZScsJyRzY29wZScsJyRtZFRvYXN0JywgJyRtZERpYWxvZycsICdVc2VyJywnVXBsb2FkJywnVVNFUl9ST0xFUyddO1xyXG4gICAgZnVuY3Rpb24gVXNlckNvbnRyb2xsZXIoJHJvb3RTY29wZSwgJHNjb3BlLCRtZFRvYXN0LCAkbWREaWFsb2csIFVzZXIsIFVwbG9hZCwgVVNFUl9ST0xFUyl7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICBpZigkc2NvcGUuc2VsZWN0ZWRJdGVtIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHZtLnVzZXIgPSAkc2NvcGUuc2VsZWN0ZWRJdGVtO1xyXG4gICAgICAgICAgICB2bS5lZGl0ID0gdHJ1ZTtcclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICB2bS51c2VyID0gbmV3IFVzZXIoKTtcclxuXHJcbiAgICAgICAgdm0uc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgIHZtLmF0dGVtcHRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHZtLnByb2dyZXNzID0gMDtcclxuICAgICAgICB2bS5maWxlY2hhbmdlZCA9IGZhbHNlO1xyXG5cclxuXHJcbiAgICAgICAgdm0ucm9sZXMgPSB7fTtcclxuICAgICAgICB2bS5yb2xlc1tVU0VSX1JPTEVTLmFkbWluIF09IFwiQWRtaW5pc3RyYWRvclwiO1xyXG4gICAgICAgIHZtLnJvbGVzW1VTRVJfUk9MRVMuZWRpdG9yXT0gXCJFZGl0b3JcIjtcclxuICAgICAgICB2bS5yb2xlc1tVU0VSX1JPTEVTLmVkaXRvclBsdXNdPVwiRWRpdG9yIFBsdXNcIjtcclxuICAgICAgICB2bS5yb2xlc1tVU0VSX1JPTEVTLmFuYWxpc3RhXT1cIkFuYWxpc3RhXCI7XHJcbiAgICAgICAgdm0ucm9sZXNbVVNFUl9ST0xFUy5sZWN0b3JdPVwiTGVjdG9yXCI7XHJcblxyXG5cclxuICAgICAgICB2bS5oaWRlID0gJG1kRGlhbG9nLmhpZGU7XHJcbiAgICAgICAgdm0uc3VibWl0ID0gc3VibWl0O1xyXG4gICAgICAgIHZtLmZpbGVDaGFuZ2UgPSBmaWxlQ2hhbmdlO1xyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZmlsZUNoYW5nZSgpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJmaWxlQ2hhbmdlXCIpO1xyXG4gICAgICAgICAgICB2bS5maWxlY2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzdWJtaXQoKSB7XHJcbiAgICAgICAgICAgIHZtLmF0dGVtcHRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICghJHNjb3BlLmZvcm0uJHZhbGlkKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB2bS5zdWJtaXR0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKHZtLmZpbGVjaGFuZ2VkKVxyXG4gICAgICAgICAgICAgICAgdXBsb2FkQW5kU2F2ZSgpO1xyXG4gICAgICAgICAgICBlbHNlIGlmICh2bS5lZGl0KVxyXG4gICAgICAgICAgICAgICAgdXBkYXRlKCk7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHNhdmUoKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzYXZlKCkge1xyXG4gICAgICAgICAgICBVc2VyLnNhdmUodm0udXNlcixmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQoZGF0YS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdm0uc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSh2bS51c2VyKTtcclxuICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQoXCJOdWV2byB1c3VhcmlvIGd1YXJkYWRvXCIpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICBmdW5jdGlvbiB1cGxvYWRBbmRTYXZlKCkge1xyXG4gICAgICAgICAgICB2bS5zdWJtaXR0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICRyb290U2NvcGUudXBsb2FkX3VybCxcclxuICAgICAgICAgICAgICAgIGZpbGU6IHZtLnVzZXIuaW1hZ2VuXHJcbiAgICAgICAgICAgIH0pLnByb2dyZXNzKGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgIHZtLnByb2dyZXNzID0gcGFyc2VJbnQoMTAwLjAgKiBldnQubG9hZGVkIC8gZXZ0LnRvdGFsKTtcclxuICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcclxuICAgICAgICAgICAgICAgIHZtLnVzZXIuaW1hZ2VuID0gZGF0YS51cmw7XHJcbiAgICAgICAgICAgICAgICB2bS5maWxlY2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB2bS5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZih2bS5lZGl0KVxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHNhdmUoKTtcclxuICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQoZGF0YS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICB2bS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB2bS5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlKCkge1xyXG4gICAgICAgICAgICBVc2VyLnVwZGF0ZSh7aWQ6IHZtLnVzZXIuaWR9LCB2bS51c2VyKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgIHZtLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKHZtLnVzZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdVc2VyTGlzdENvbnRyb2xsZXInLCBbJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJ1VzZXInLCAnJG1kRGlhbG9nJywgJ1VTRVJfUk9MRVMnLCAnJG1kVG9hc3QnLCAnJHN0YXRlJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJHNjb3BlLCBVc2VyLCAkbWREaWFsb2csIFVTRVJfUk9MRVMsICRtZFRvYXN0LCAkc3RhdGUpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnVzZXJzID0gVXNlci5xdWVyeSgpO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnJvbGVzID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5yb2xlc1tVU0VSX1JPTEVTLmFkbWluXSA9IFwiQWRtaW5pc3RyYWRvclwiO1xyXG4gICAgICAgICAgICAkc2NvcGUucm9sZXNbVVNFUl9ST0xFUy5lZGl0b3JdID0gXCJFZGl0b3JcIjtcclxuICAgICAgICAgICAgJHNjb3BlLnJvbGVzW1VTRVJfUk9MRVMuZWRpdG9yUGx1c10gPSBcIkVkaXRvciBQbHVzXCI7XHJcbiAgICAgICAgICAgICRzY29wZS5yb2xlc1tVU0VSX1JPTEVTLmFuYWxpc3RhXSA9IFwiQW5hbGlzdGFcIjtcclxuICAgICAgICAgICAgJHNjb3BlLnJvbGVzW1VTRVJfUk9MRVMubGVjdG9yXSA9IFwiTGVjdG9yXCI7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUub3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIHJvd0hlaWdodDogNTAsXHJcbiAgICAgICAgICAgICAgICBmb290ZXJIZWlnaHQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVySGVpZ2h0OiA1MCxcclxuICAgICAgICAgICAgICAgIHNjcm9sbGJhclY6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBjb2x1bW5Nb2RlOiAnZm9yY2UnXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0FkZCA9IGZ1bmN0aW9uIChldikge1xyXG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdVc2VyQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvdXNlcnMvYWRkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEV2ZW50OiBldlxyXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAobmV3RXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3RXZlbnQgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVzZXJzLnB1c2gobmV3RXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZGVsZXRlID0gZnVuY3Rpb24gKHJvdywgJGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIFVzZXIuZGVsZXRlKHtpZDogcm93LmlkfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChyZXNwb25zZS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChyZXNwb25zZS5tZXNzYWdlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS51c2Vycy5pbmRleE9mKHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS51c2Vycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnNob3dFZGl0ID0gZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkSXRlbSA9IGFuZ3VsYXIuY29weShyb3cpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLnVzZXJzLmluZGV4T2Yocm93KTtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnVXNlckNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL3VzZXJzL2FkZC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLiRuZXcoKVxyXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZWRpdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVkaXRlZCAhPSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmFkZE9yVXBkYXRlTGlzdCgkc2NvcGUudXNlcnMsIGVkaXRlZCwgaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbyhcInVzZXJzXCIsIHtpZDogJyd9LCB7bm90aWZ5OiBmYWxzZX0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIF0pO1xyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE1heGkgb24gNy8zMS8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmFja2VuZEFwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ0FkZFZpZGVvQ29udHJvbGxlcicsIEFkZFZpZGVvQ29udHJvbGxlcik7XHJcbiAgICBBZGRWaWRlb0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICckc2NvcGUnLCAnJG1kVG9hc3QnLCAnJG1kRGlhbG9nJywgJ1ZpZGVvJywgJ0FkJywgJ1VwbG9hZCcsICckc2NlJywgJyRodHRwJ107XHJcbiAgICBmdW5jdGlvbiBBZGRWaWRlb0NvbnRyb2xsZXIoJHJvb3RTY29wZSwgJHNjb3BlLCAkbWRUb2FzdCwgJG1kRGlhbG9nLCBWaWRlbywgQWQsIFVwbG9hZCwgJHNjZSwgJGh0dHApIHtcclxuICAgICAgICAkc2NvcGUuc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICRzY29wZS5hdHRlbXB0ZWQgPSBmYWxzZTtcclxuICAgICAgICAkc2NvcGUucHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgICRzY29wZS5maWxlQ2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgICRzY29wZS5pc0xpbmsgPSBmYWxzZTtcclxuICAgICAgICAkc2NvcGUueW91dHViZUlkID0gJyc7XHJcbiAgICAgICAgJHNjb3BlLmFkcyA9IEFkLnF1ZXJ5KCk7XHJcblxyXG4gICAgICAgIGlmICgkc2NvcGUuc2VsZWN0ZWRJdGVtICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAkc2NvcGUudmlkZW8gPSAkc2NvcGUuc2VsZWN0ZWRJdGVtO1xyXG4gICAgICAgICAgICBpZigkc2NvcGUudmlkZW8uYWQpXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlkZW8uYWRfaWQgPSAkc2NvcGUudmlkZW8uYWQuaWQ7XHJcbiAgICAgICAgICAgICRzY29wZS5lZGl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKCRzY29wZS52aWRlby50eXBlID09ICd5b3V0dWJlJykge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmlzTGluayA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUueW91dHViZUlkID0gJHNjb3BlLnZpZGVvLnNvdXJjZTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUudmlkZW8udHlwZSA9PSAnIHZpZGVvJykge1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICAkc2NvcGUudmlkZW8gPSBuZXcgVmlkZW87XHJcblxyXG4gICAgICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5hdHRlbXB0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoISRzY29wZS5mb3JtLiR2YWxpZClcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuZmlsZUNoYW5nZWQgJiYgISRzY29wZS5pc0xpbmspXHJcbiAgICAgICAgICAgICAgICB1cGxvYWRBbmRTYXZlKCk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCRzY29wZS5lZGl0KVxyXG4gICAgICAgICAgICAgICAgdXBkYXRlKCk7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHNhdmUoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUuaGlkZSA9ICRtZERpYWxvZy5oaWRlO1xyXG4gICAgICAgIGZ1bmN0aW9uIHNhdmUoKSB7XHJcbiAgICAgICAgICAgICRzY29wZS52aWRlby4kc2F2ZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQoXCJOdWV2byBhZCBndWFyZGFkb1wiKSk7XHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLmRhdGEuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgJHNjb3BlLmZpbGVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5maWxlQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICRzY29wZS5pc0xpbmsgPSBmYWxzZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUubGlua0NoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5pc0xpbmsgPSB0cnVlO1xyXG4gICAgICAgICAgICAkaHR0cC5wb3N0KCRyb290U2NvcGUuc2VydmVyX3VybCArIFwiL2FwaS91dGlscy95b3V0dWJlXCIsIHt1cmw6ICRzY29wZS52aWRlby5zb3VyY2V9KS5zdWNjZXNzKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnlvdXR1YmVJZCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmlkICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS55b3V0dWJlSWQgPSByZXNwb25zZS5pZDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmlkZW8udHlwZSA9ICd5b3V0dWJlJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJHNjb3BlLmdldFl0ID0gZnVuY3Rpb24gKHZpZGVvSWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKCdodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8nICsgdmlkZW9JZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBmdW5jdGlvbiB1cGxvYWRBbmRTYXZlKCkge1xyXG4gICAgICAgICAgICAkc2NvcGUuc3VibWl0dGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiAkcm9vdFNjb3BlLnVwbG9hZF91cmwsXHJcbiAgICAgICAgICAgICAgICBmaWxlOiAkc2NvcGUudmlkZW8uc291cmNlXHJcbiAgICAgICAgICAgIH0pLnByb2dyZXNzKGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5wcm9ncmVzcyA9IHBhcnNlSW50KDEwMC4wICogZXZ0LmxvYWRlZCAvIGV2dC50b3RhbCk7XHJcbiAgICAgICAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlkZW8uc291cmNlID0gZGF0YS51cmw7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlkZW8udHlwZSA9IGRhdGEudHlwZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5maWxlQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5lZGl0KVxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHNhdmUoKTtcclxuICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQoZGF0YS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnByb2dyZXNzID0gMDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlKCkge1xyXG4gICAgICAgICAgICBWaWRlby51cGRhdGUoe2lkOiAkc2NvcGUudmlkZW8uaWR9LCAkc2NvcGUudmlkZW8pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUoJHNjb3BlLnZpZGVvKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE1heGkgb24gNy8zMS8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdWaWRlb0xpc3RDb250cm9sbGVyJyxWaWRlb0xpc3RDb250cm9sbGVyKTtcclxuICAgIFZpZGVvTGlzdENvbnRyb2xsZXIuJGluamVjdD0gWyckcm9vdFNjb3BlJywnJHNjb3BlJywgJ1ZpZGVvJywgJyRtZERpYWxvZycsICckbWRUb2FzdCcsJyRzdGF0ZSddO1xyXG5cclxuICAgIGZ1bmN0aW9uIFZpZGVvTGlzdENvbnRyb2xsZXIoJHJvb3RTY29wZSwkc2NvcGUsIFZpZGVvLCAkbWREaWFsb2csICRtZFRvYXN0LCAkc3RhdGUpe1xyXG4gICAgICAgICRzY29wZS52aWRlb3MgPSBWaWRlby5xdWVyeSgpO1xyXG4gICAgICAgICRzY29wZS5vcHRpb25zID0ge1xyXG4gICAgICAgICAgICByb3dIZWlnaHQ6IDUwLFxyXG4gICAgICAgICAgICBmb290ZXJIZWlnaHQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBoZWFkZXJIZWlnaHQ6IDUwLFxyXG4gICAgICAgICAgICBzY3JvbGxiYXJWOiBmYWxzZSxcclxuICAgICAgICAgICAgc2VsZWN0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGNvbHVtbk1vZGU6ICdmb3JjZSdcclxuICAgICAgICB9O1xyXG4gICAgICAgICRzY29wZS5zaG93QWRkID0gZnVuY3Rpb24oZXYpe1xyXG4gICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQWRkVmlkZW9Db250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvdmlkZW9zL2FkZC5odG1sJyxcclxuICAgICAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0RXZlbnQ6IGV2XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obmV3RXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgaWYobmV3RXZlbnQhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS52aWRlb3MucHVzaChuZXdFdmVudCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5kZWxldGUgPSBkb0RlbGV0ZTtcclxuICAgICAgICBmdW5jdGlvbiBkb0RlbGV0ZShyb3csICRldmVudCkge1xyXG4gICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB2YXIgY29uZmlybSA9ICRtZERpYWxvZy5jb25maXJtKClcclxuICAgICAgICAgICAgICAgIC5jb250ZW50KCdFc3RhIHNlZ3VybyBxdWUgZGVzZWEgYm9ycmFyIGVzdGUgZWxlbWVudG8nKVxyXG4gICAgICAgICAgICAgICAgLm9rKCdCb3JyYXInKVxyXG4gICAgICAgICAgICAgICAgLmNhbmNlbCgnQ2FuY2VsYXInKVxyXG4gICAgICAgICAgICAgICAgLnRhcmdldEV2ZW50KCRldmVudCk7XHJcblxyXG4gICAgICAgICAgICAkbWREaWFsb2cuc2hvdyhjb25maXJtKS50aGVuKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBWaWRlby5kZWxldGUoe2lkOnJvdy5pZH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmVycm9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UubWVzc2FnZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUudmlkZW9zLmluZGV4T2Yocm93KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnZpZGVvcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJHNjb3BlLnNob3dFZGl0ID0gZnVuY3Rpb24ocm93KXtcclxuICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkSXRlbSA9IGFuZ3VsYXIuY29weShyb3cpO1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUudmlkZW9zLmluZGV4T2Yocm93KTtcclxuICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0FkZFZpZGVvQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL3ZpZGVvcy9hZGQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUuJG5ldygpXHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGVkaXRlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVkaXRlZCAhPSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuYWRkT3JVcGRhdGVMaXN0KCRzY29wZS52aWRlb3MsIGVkaXRlZCwgaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKFwidmlkZW9zXCIsIHtpZDogJyd9LCB7bm90aWZ5OiBmYWxzZX0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=