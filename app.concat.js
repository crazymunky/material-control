!function(){"use strict";function e(e,t,o,n){t.server_url="http://stg1.jwtdigitalpr.com/mpto",t.upload_url=t.server_url+"/api/upload",t.isType=function(e,t,o){var n=!1;return t==e?n=!0:o&&void 0!=o.type&&(n=o.type.indexOf(e)>-1),n},null==o.getCurrentUser()?e.go("login"):e.go("videos"),t.$on("$stateChangeStart",function(e,o){if(o.data)var r=o.data.authorizedRoles;r&&!n.isAuthorized(r)&&(e.preventDefault(),t.$broadcast("unauthorized"))})}function t(e){var t=e.extendPalette("light-blue",{contrastDefaultColor:"light",contrastDarkColors:["50"],50:"ffffff"});e.definePalette("customBlue",t),e.theme("default").primaryPalette("customBlue",{"default":"500","hue-1":"50"}).accentPalette("pink"),e.theme("input","default").primaryPalette("grey")}var o=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,o,n){if(n){e.$watch(o.ngModel,function(){r()}),o.$observe("equals",function(e){r()});var r=function(){var e=n.$viewValue,t=o.equals;n.$setValidity("equals",!e||!t||e===t)}}}}},n=function(){return function(e,t){return e?e.replace(/([^\W_]+[^\s-]*) */g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}):""}};angular.module("backendApp",["angular-storage","ngFileUpload","ngMaterial","data-table","ngResource","ngMessages","ui.router","backendApp.controllers","backendApp.services"]).config(t).constant("USER_ROLES",{admin:"admin",editor:"editor",editorPlus:"editorPlus",analista:"analista",lector:"lector"}).run(e).filter("capitalize",n).directive("equals",o),angular.module("backendApp.controllers",[]),angular.module("backendApp.services",[]),e.$inject=["$state","$rootScope","UserService","AuthService"],t.$inject=["$mdThemingProvider"]}(),function(){"use strict";function e(e,t,o,n){o.interceptors.push("APIInterceptor"),e.state("ads",{url:"/promos/:id",controller:"AdListController",controllerAs:"vm",templateUrl:"partials/promos/list.html",data:{authorizedRoles:[t.admin,t.editorPlus]}}).state("canciones",{url:"/canciones/:id",controller:"CancionListController",controllerAs:"vm",templateUrl:"partials/canciones/list.html",data:{authorizedRoles:[t.admin,t.editor,t.editorPlus]}}).state("categorias",{url:"/categorias/:id",controller:"CategoriaListController",controllerAs:"vm",templateUrl:"partials/categorias/list.html",data:{authorizedRoles:[t.admin,t.editor,t.editorPlus]}}).state("cuentos",{url:"/cuentos/:id",controller:"CuentoController",controllerAs:"vm",templateUrl:"partials/cuentos/list.html",data:{authorizedRoles:[t.admin,t.editor,t.editorPlus]}}).state("comentarios",{url:"/comentarios/:id",controller:"ComentarioController",controllerAs:"vm",templateUrl:"partials/comentarios/list.html",data:{authorizedRoles:[t.admin,t.editor,t.editorPlus]}}).state("discos",{url:"/discos/:id",controller:"DiscoListController",controllerAs:"vm",templateUrl:"partials/discos/list.html",data:{authorizedRoles:[t.admin,t.editor,t.editorPlus]}}).state("eventos",{url:"/eventos",controller:"EventoListController",controllerAs:"vm",templateUrl:"partials/eventos/list.html",data:{authorizedRoles:[t.admin,t.editor,t.editorPlus]}}).state("noticias",{url:"/noticias",controller:"NoticiaListController",controllerAs:"vm",templateUrl:"partials/noticias/list.html",data:{authorizedRoles:[t.admin,t.editor,t.editorPlus]}}).state("videos",{url:"/videos",controller:"VideoListController",controllerAs:"vm",templateUrl:"partials/videos/list.html",data:{authorizedRoles:[t.admin,t.editor,t.editorPlus]}}).state("users",{url:"/users",controller:"UserListController",controllerAs:"vm",templateUrl:"partials/users/list.html",data:{authorizedRoles:[t.admin]}}).state("integrantes",{url:"/integrantes/:id",controller:"IntegranteListController",controllerAs:"vm",templateUrl:"partials/integrantes/list.html",data:{authorizedRoles:[t.admin]}}).state("login",{url:"/login",controller:"LoginController",controllerAs:"vm",templateUrl:"partials/login.html"})}angular.module("backendApp").config(e),e.$inject=["$stateProvider","USER_ROLES","$httpProvider","$provide"]}(),function(){"use strict";angular.module("backendApp.services").factory("Ad",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/ads/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("Cancion",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/canciones/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("Categoria",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/categorias/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("Comentario",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/comentarios/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("Cuento",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/cuentos/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("Disco",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/discos/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("Evento",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/eventos/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("Integrante",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/integrantes/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("User",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/users/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("Noticia",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/noticias/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("Video",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/videos/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("Tag",["$resource","$rootScope",function(e,t){return e(t.server_url+"/api/tags/:id",null,{update:{method:"PUT"}})}]),angular.module("backendApp.services").factory("AuthService",["$rootScope","$http","UserService",function(e,t,o){var n={};return n.login=function(n){var r=t.post(e.server_url+"/api/login",n);return r.then(function(t){var n=t.data;n.error?alert("BAD LOGIN"):(o.setCurrentUser(n),e.$broadcast("authorized"))},function(){e.$broadcast("unauthorized")}),r},n.logout=function(){t.post(e.server_url+"/api/logout");e.$broadcast("unauthorized")},n.isAuthenticated=function(){return null!=o.getCurrentUser()},n.isAuthorized=function(e){return angular.isArray(e)||(e=[e]),n.isAuthenticated()&&-1!==e.indexOf(o.getCurrentUser().role.toLowerCase())},n}]),angular.module("backendApp.services").service("UserService",["store",function(e){var t=this,o=null;t.setCurrentUser=function(t){return o=t,e.set("user-backend",t),o},t.getCurrentUser=function(){return o||(o=e.get("user-backend")),o}}]),angular.module("backendApp.services").service("APIInterceptor",["$rootScope","UserService",function(e,t){var o=this;o.request=function(e){var o=t.getCurrentUser(),n=o?o.access_token:null;return n&&(e.headers.Authorization=n),e},o.responseError=function(t){return 401===t.status&&e.$broadcast("unauthorized"),t}}])}(),function(){"use strict";angular.module("backendApp.controllers").controller("HeaderController",["$scope","$mdSidenav","$rootScope",function(e,t,o){e.openLeftMenu=function(){t("side-nav").toggle()},o.$on("$stateChangeSuccess",function(t,o,n,r,i){e.state=o})}]),angular.module("backendApp.controllers").controller("MenuController",["$scope","USER_ROLES",function(e,t){e.menu=[{link:"ads",title:"Ads",icon:"add_shopping_cart",roles:[t.admin,t.editorPlus]},{link:"canciones",title:"Canciones",icon:"music_note",roles:[t.admin,t.editor,t.editorPlus]},{link:"categorias",title:"Categorias",icon:"filter_list",roles:[t.admin,t.editor,t.editorPlus]},{link:"comentarios",title:"Comentarios",icon:"book",roles:[t.admin,t.editor,t.editorPlus]},{link:"cuentos",title:"Cuentos",icon:"book",roles:[t.admin,t.editor,t.editorPlus]},{link:"discos",title:"Discos",icon:"library_music",roles:[t.admin,t.editor,t.editorPlus]},{link:"eventos",title:"Eventos",icon:"event",roles:[t.admin,t.editor,t.editorPlus]},{link:"integrantes",title:"Integrantes",icon:"account_circle",roles:[t.admin]},{link:"noticias",title:"Noticias",icon:"new_releases",roles:[t.admin,t.editor,t.editorPlus]},{link:"videos",title:"Videos",icon:"video_library",roles:[t.admin,t.editor,t.editorPlus]},{link:"users",title:"Usuarios",icon:"account_circle",roles:[t.admin]}]}]),angular.module("backendApp.controllers").controller("MainCtrl",["$scope","$rootScope","$state","AuthService","UserService",function(e,t,o,n,r){function i(e,t,o){o<e.length&&o>=0?e[o]=t:e.push(t)}var s=this;e.isAuthorized=n.isAuthorized,t.$on("authorized",function(){s.currentUser=r.getCurrentUser()}),t.$on("unauthorized",function(){s.currentUser=r.setCurrentUser(null),o.go("login")}),t.addOrUpdateList=i,s.logout=n.logout,s.currentUser=r.getCurrentUser()}])}(),function(){"use strict";angular.module("backendApp.controllers").controller("LoginController",["$scope","$rootScope","AuthService","$state",function(e,t,o,n){e.credentials={email:"",password:""},e.login=function(t){o.login(t).then(function(t){var o=t.data;o.error?e.form.$isValid=!1:n.go("noticias")})},e.register=function(){LoginService.register(e.newUser).then(function(t){e.login(e.newUser)})},e.newUser=null}])}(),function(){"use strict";function e(e,t,o,n,r,i,s){function a(){return p.attempted=!0,p.submitting=!0,e.form.$valid?void(p.fileChanged?d():p.edit?u():c()):!1}function l(){p.fileChanged=!0}function d(){s.upload({url:t.upload_url,file:p.cancion.audio_source}).progress(function(e){p.progress=parseInt(100*e.loaded/e.total)}).success(function(e,t,o,n){p.cancion.audio_source=e.url,p.fileChanged=!0,p.progress=0,p.edit?u():c()}).error(function(e,t,n,r){o.show(o.simple().content(e.error).theme("error-toast")),p.submitting=!1,p.progress=0})}function c(){r.save(p.cancion).$promise.then(function(e,t,r){console.log(t),console.log(r),e.error?o.show(o.simple().content(e.error).theme("error-toast")):(n.hide(e),o.show(o.simple().content("Nueva cancion guardado"))),p.submitting=!1})}function u(){r.update({id:p.cancion.id},p.cancion).$promise.then(function(e){p.submitting=!1,n.hide(p.cancion)})}var p=this;p.edit=!1,p.discos=i.query(),p.progress=0,p.submitting=!1,p.fileChanged=!1,p.attempted=!1,p.submit=a,p.fileChange=l,p.hide=n.hide,void 0!=e.selectedItem?(p.cancion=e.selectedItem,p.cancion.disco_id=p.cancion.disco.id,p.edit=!0):p.cancion=new r}angular.module("backendApp.controllers").controller("AddCancionController",e),e.$inject=["$scope","$rootScope","$mdToast","$mdDialog","Cancion","Disco","Upload"]}(),function(){"use strict";function e(e,t,o,n,r,i){function s(){r.id&&t.get({id:r.id}).$promise.then(function(e){c(e)})}function a(e){o.show({controller:"AddCancionController",controllerAs:"vm",templateUrl:"partials/canciones/add.html",parent:angular.element(document.body),targetEvent:e}).then(function(e){1!=e&&addOrUpdateList(u.canciones,e)})}function l(e,o){o.preventDefault(),o.stopPropagation(),t["delete"]({id:e.id}).$promise.then(function(t){if(t.error)n.show(n.simple().content(t.error).theme("error-toast"));else{n.show(n.simple().content(t.message));var o=u.canciones.indexOf(e);u.canciones.splice(o,1)}})}function d(e){i.go("canciones",{id:e.id},{notify:!1}),c(e)}function c(t){e.selectedItem=angular.copy(t);var n=u.canciones.indexOf(t);o.show({controller:"AddCancionController",controllerAs:"vm",templateUrl:"partials/canciones/add.html",parent:angular.element(document.body),scope:e.$new()}).then(function(e){1!=e&&$rootScope.addOrUpdateList(u.canciones,e,n),i.go("canciones",{id:""},{notify:!1})})}var u=this;u.canciones=t.query(),u.options={rowHeight:50,footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},u.showAdd=a,u["delete"]=l,u.showEdit=d,u.hide=o.cancel,s()}angular.module("backendApp.controllers").controller("CancionListController",e),e.$inject=["$scope","Cancion","$mdDialog","$mdToast","$stateParams","$state"]}(),function(){"use strict";function e(e,t,o,n){function r(){void 0!=e.selectedItem?(l.categoria=e.selectedItem,l.edit=!0):l.categoria=new n}function i(){return l.attempted=!0,e.form.$valid?void(l.edit?a():s()):!1}function s(){n.save(l.categoria).$promise.then(function(e){e.error?t.show(t.simple().content(e.error).theme("error-toast")):(o.hide(e),t.show(t.simple().content("Nuevo ad guardado"))),l.submitting=!1})}function a(){n.update({id:l.categoria.id},l.categoria).$promise.then(function(e){l.submitting=!1,o.hide(l.categoria)})}var l=this;l.categoria=null,l.edit=!1,l.hide=o.hide,l.submitting=!1,l.attempted=!1,l.submit=i,r()}angular.module("backendApp.controllers").controller("AddCategoriaController",e),e.$inject=["$scope","$mdToast","$mdDialog","Categoria"]}(),function(){"use strict";function e(e,t,o,n,r,i,s){function a(){s.id&&e.get({id:s.id}).$promise.then(function(e){u(e)})}function l(e){i.go("categorias",{id:e.id},{notify:!1}),u(e)}function d(e){n.show({controller:"AddCategoriaController",controllerAs:"vm",templateUrl:"partials/categorias/add.html",parent:angular.element(document.body),targetEvent:e}).then(function(e){void 0!==e&&p.categorias.push(e)})}function c(t,o){o.preventDefault(),o.stopPropagation();var i=n.confirm().content("Esta seguro que desea borrar este elemento").ok("Borrar").cancel("Cancelar").targetEvent(o);n.show(i).then(function(){e["delete"]({id:t.id}).$promise.then(function(e){if(e.error)r.show(r.simple().content(e.error).theme("error-toast"));else{r.show(r.simple().content(e.message));var o=p.categorias.indexOf(t);p.categorias.splice(o,1)}})})}function u(e){o.selectedItem=e;var r=p.categorias.indexOf(e);n.show({controller:"AddCategoriaController",controllerAs:"vm",templateUrl:"partials/categorias/add.html",parent:angular.element(document.body),scope:o.$new()}).then(function(e){console.log("back",e),1!=e&&t.addOrUpdateList(p.categorias,e,r),i.go("categorias",{id:""},{notify:!1})})}var p=this;p.categorias=e.query(),p.options={rowHeight:50,footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},p.showAdd=d,p["delete"]=c,p.showEdit=l,a()}angular.module("backendApp.controllers").controller("CategoriaListController",e),e.$inject=["Categoria","$rootScope","$scope","$mdDialog","$mdToast","$state","$stateParams"]}(),function(){"use strict";angular.module("backendApp.controllers").controller("ComentarioController",["$scope","Comentario","$mdDialog","$mdToast",function(e,t,o,n){function r(e,t){e.comentario=e.selectedItem,console.log("INIT",e.comentario)}var i;t.query().$promise.then(function(t){e.comentarios=i=t,e.filter()}),e.hide=o.hide,e.options={rowHeight:"auto",footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},e.filters={aprobados:!1,pendientes:!0,rechazados:!1},e.filter=function(t){i&&(e.filters.aprobados||e.filters.pendientes||e.filters.rechazados?e.comentarios=i.filter(function(t){var o=t.aprobado,n=!1;switch(o){case 1:n=e.filters.aprobados;break;case 0:n=e.filters.rechazados;break;case-1:n=e.filters.pendientes}return n}):e.comentarios=[])},e.$watch("filters",e.filter,!0),e["delete"]=function(o,r){r.preventDefault(),r.stopPropagation(),t["delete"]({id:o.id}).$promise.then(function(t){if(t.error)n.show(n.simple().content(t.error).theme("error-toast"));else{n.show(n.simple().content(t.message));var r=e.comentarios.indexOf(o);e.comentarios.splice(r,1),i.splice(r,1)}})},e.approve=function(n,r,i){i.preventDefault(),i.stopPropagation(),o.hide(),console.log("aprobar",n),n.aprobado=r?1:0,e.filter(),e.submitting=!0,t.update({id:n.id},n).$promise.then(function(t){e.submitting=!1,o.hide(n)})},e.showEdit=function(t){e.selectedItem=t,o.show({templateUrl:"partials/comentarios/add.html",parent:angular.element(document.body),scope:e.$new(),controller:r})},r.$inject=["$scope","$mdDialog"]}])}(),function(){"use strict";angular.module("backendApp.controllers").controller("CuentoController",["$scope","Cuento","$mdDialog","$mdToast",function(e,t,o,n){function r(e,t){console.log("INIT"),e.cuento=e.selectedItem}var i;t.query().$promise.then(function(t){e.cuentos=i=t}),e.hide=o.hide,e.options={rowHeight:"auto",footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},e.filters={aprobados:!1,pendientes:!1,rechazados:!1},e.filter=function(t){i&&(e.filters.aprobados||e.filters.pendientes||e.filters.rechazados?e.cuentos=i.filter(function(t){var o=t.aprobado;switch(o){case 1:var n=e.filters.aprobados;break;case 0:var n=e.filters.rechazados;break;case-1:var n=e.filters.pendientes}return n}):e.cuentos=i)},e.$watch("filters",e.filter,!0),e["delete"]=function(o,r){r.preventDefault(),r.stopPropagation(),t["delete"]({id:o.id}).$promise.then(function(t){if(t.error)n.show(n.simple().content(t.error).theme("error-toast"));else{n.show(n.simple().content(t.message));var r=e.cuentos.indexOf(o);e.cuentos.splice(r,1),i.splice(r,1)}})},e.approve=function(n,r,i){i.preventDefault(),i.stopPropagation(),o.hide(),console.log("aprobar",n),n.aprobado=r?1:0,e.filter(),e.submitting=!0,t.update({id:n.id},n).$promise.then(function(t){e.submitting=!1,o.hide(n)})},e.showEdit=function(t){e.selectedItem=t,o.show({templateUrl:"partials/cuentos/add.html",parent:angular.element(document.body),scope:e.$new(),controller:r})},r.$inject=["$scope","$mdDialog"]}])}(),function(){"use strict";angular.module("backendApp.controllers").controller("CuentoController",["$scope","Cuento","$mdDialog","$mdToast",function(e,t,o,n){function r(e,t){console.log("INIT"),e.cuento=e.selectedItem}var i;t.query().$promise.then(function(t){e.cuentos=i=t}),e.hide=o.hide,e.options={rowHeight:"auto",footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},e.filters={aprobados:!1,pendientes:!1,rechazados:!1},e.filter=function(t){i&&(e.filters.aprobados||e.filters.pendientes||e.filters.rechazados?e.cuentos=i.filter(function(t){var o=t.aprobado;switch(o){case 1:var n=e.filters.aprobados;break;case 0:var n=e.filters.rechazados;break;case-1:var n=e.filters.pendientes}return n}):e.cuentos=i)},e.$watch("filters",e.filter,!0),e["delete"]=function(o,r){r.preventDefault(),r.stopPropagation(),t["delete"]({id:o.id}).$promise.then(function(t){if(t.error)n.show(n.simple().content(t.error).theme("error-toast"));else{n.show(n.simple().content(t.message));var r=e.cuentos.indexOf(o);e.cuentos.splice(r,1),i.splice(r,1)}})},e.approve=function(n,r,i){i.preventDefault(),i.stopPropagation(),o.hide(),console.log("aprobar",n),n.aprobado=r?1:0,e.filter(),e.submitting=!0,t.update({id:n.id},n).$promise.then(function(t){e.submitting=!1,o.hide(n)})},e.showEdit=function(t){e.selectedItem=t,o.show({templateUrl:"partials/cuentos/add.html",parent:angular.element(document.body),scope:e.$new(),controller:r})},r.$inject=["$scope","$mdDialog"]}])}(),function(){"use strict";function e(e,t,o,n,r,i){function s(){void 0!=t.selectedItem?(u.disco=t.selectedItem,u.edit=!0):u.disco=new r}function a(){return u.attempted=!0,t.form.$valid?void(u.fileChanged?d():u.edit?c():l()):!1}function l(){u.disco.$save(function(e){n.hide(u.disco),u.submitting=!1,o.show(o.simple().content("Nuevo disco guardado"))},function(e){o.show(o.simple().content(e.data.error).theme("error-toast")),u.submitting=!1})}function d(){u.submitting=!0,i.upload({url:e.upload_url,file:u.disco.cover_img}).progress(function(e){u.progress=parseInt(100*e.loaded/e.total)}).success(function(e,t,o,n){u.disco.cover_img=e.url,u.fileChanged=!0,u.progress=0,u.edit?c():l()}).error(function(e,t,n,r){o.show(o.simple().content(e.error).theme("error-toast")),u.submitting=!1,u.progress=0})}function c(){r.update({id:u.disco.id},u.disco).$promise.then(function(e){u.submitting=!1,n.hide(u.disco)})}var u=this;u.hide=n.hide,u.edit=!1,u.disco=null,u.submitting=!1,u.attempted=!1,u.progress=0,u.fileChanged=!1,u.fileChange=function(){u.fileChanged=!0},u.submit=a,s()}angular.module("backendApp.controllers").controller("AddDiscoController",e),e.$inject=["$rootScope","$scope","$mdToast","$mdDialog","Disco","Upload"]}(),function(){"use strict";function e(e,t,o,n,r,i,s){function a(){s.id&&n.get({id:s.id}).$promise.then(function(e){u(e)})}function l(e){o.go("discos",{id:e.id},{notify:!1}),u(e)}function d(e){r.show({controller:"AddDiscoController",controllerAs:"vm",templateUrl:"partials/discos/add.html",parent:angular.element(document.body),targetEvent:e}).then(function(e){void 0!==e&&p.discos.push(e)})}function c(e,t){t.preventDefault(),t.stopPropagation(),n["delete"]({id:e.id}).$promise.then(function(t){if(t.error)i.show(i.simple().content(t.error).theme("error-toast"));else{i.show(i.simple().content(t.message));var o=p.discos.indexOf(e);p.discos.splice(o,1)}})}function u(n){e.selectedItem=n;var i=p.discos.indexOf(n);r.show({controller:"AddDiscoController",controllerAs:"vm",templateUrl:"partials/discos/add.html",parent:angular.element(document.body),scope:e.$new()}).then(function(e){1!=e&&t.addOrUpdateList(p.discos,e,i),o.go("discos",{id:""},{notify:!1})})}var p=this;p.discos=n.query(),p.options={rowHeight:50,footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},p.showAdd=d,p["delete"]=c,p.showEdit=l,a()}angular.module("backendApp.controllers").controller("DiscoListController",e),e.$inject=["$scope","$rootScope","$state","Disco","$mdDialog","$mdToast","$stateParams"]}(),function(){"use strict";angular.module("backendApp.controllers").controller("EventoListController",["$scope","Evento","$mdDialog","$mdToast",function(e,t,o,n){e.eventos=t.query(),e.options={rowHeight:50,footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},e.showAdd=function(t){o.show({controller:"AddEventoController",templateUrl:"partials/eventos/add.html",parent:angular.element(document.body),targetEvent:t}).then(function(t){void 0!==t&&(t.fecha=new Date(t.fecha),e.eventos.push(t))})},e["delete"]=function(o,r){r.preventDefault(),r.stopPropagation(),t["delete"]({id:o.id}).$promise.then(function(t){if(t.error)n.show(n.simple().content(t.error).theme("error-toast"));else{n.show(n.simple().content(t.message));var r=e.eventos.indexOf(o);e.eventos.splice(r,1)}})},e.showEdit=function(t){e.selectedItem=t,o.show({controller:"AddEventoController",templateUrl:"partials/eventos/add.html",parent:angular.element(document.body),scope:e.$new()})}}]),angular.module("backendApp.controllers").controller("AddEventoController",["$rootScope","$scope","$mdToast","$mdDialog","Evento","Upload",function(e,t,o,n,r,i){function s(){t.evento.$save(function(e){n.hide(t.evento),t.submitting=!1,o.show(o.simple().content("Nuevo evento guardado"))},function(e){o.show(o.simple().content(e.data.error).theme("error-toast")),t.submitting=!1})}function a(){t.submitting=!0,i.upload({url:e.upload_url,file:t.evento.imagen}).progress(function(e){t.progress=parseInt(100*e.loaded/e.total)}).success(function(e,o,n,r){t.evento.imagen=e.url,t.fileChanged=!0,t.progress=0,t.edit?l():s()}).error(function(e,n,r,i){o.show(o.simple().content(e.error).theme("error-toast")),t.submitting=!1,t.progress=0})}function l(){r.update({id:t.evento.id},t.evento).$promise.then(function(e){t.submitting=!1,n.hide(t.evento)})}void 0!=t.selectedItem?(t.evento=t.selectedItem,t.evento.fecha=new Date(t.evento.fecha),t.edit=!0):t.evento=new r,t.hide=function(){n.hide()},t.submitting=!1,t.attempted=!1,t.submit=function(){return t.attempted=!0,t.form.$valid?void(t.fileChanged?a():t.edit?l():s()):!1},t.progress=0,t.fileChanged=!1,t.fileChange=function(){t.fileChanged=!0}}])}(),function(){"use strict";angular.module("backendApp.controllers").controller("EventoListController",["$scope","Evento","$mdDialog","$mdToast",function(e,t,o,n){e.eventos=t.query(),e.options={rowHeight:50,footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},e.showAdd=function(t){o.show({controller:"AddEventoController",templateUrl:"partials/eventos/add.html",parent:angular.element(document.body),targetEvent:t}).then(function(t){void 0!==t&&(t.fecha=new Date(t.fecha),e.eventos.push(t))})},e["delete"]=function(o,r){r.preventDefault(),r.stopPropagation(),t["delete"]({id:o.id}).$promise.then(function(t){if(t.error)n.show(n.simple().content(t.error).theme("error-toast"));else{n.show(n.simple().content(t.message));var r=e.eventos.indexOf(o);e.eventos.splice(r,1)}})},e.showEdit=function(t){e.selectedItem=t,o.show({controller:"AddEventoController",templateUrl:"partials/eventos/add.html",parent:angular.element(document.body),scope:e.$new()})}}]),angular.module("backendApp.controllers").controller("AddEventoController",["$rootScope","$scope","$mdToast","$mdDialog","Evento","Upload",function(e,t,o,n,r,i){function s(){t.evento.$save(function(e){n.hide(t.evento),t.submitting=!1,o.show(o.simple().content("Nuevo evento guardado"))},function(e){o.show(o.simple().content(e.data.error).theme("error-toast")),t.submitting=!1})}function a(){t.submitting=!0,i.upload({url:e.upload_url,file:t.evento.imagen}).progress(function(e){t.progress=parseInt(100*e.loaded/e.total)}).success(function(e,o,n,r){t.evento.imagen=e.url,t.fileChanged=!0,t.progress=0,t.edit?l():s()}).error(function(e,n,r,i){o.show(o.simple().content(e.error).theme("error-toast")),t.submitting=!1,t.progress=0})}function l(){r.update({id:t.evento.id},t.evento).$promise.then(function(e){t.submitting=!1,n.hide(t.evento)})}void 0!=t.selectedItem?(t.evento=t.selectedItem,t.evento.fecha=new Date(t.evento.fecha),t.edit=!0):t.evento=new r,t.hide=function(){n.hide()},t.submitting=!1,t.attempted=!1,t.submit=function(){return t.attempted=!0,t.form.$valid?void(t.fileChanged?a():t.edit?l():s()):!1},t.progress=0,t.fileChanged=!1,t.fileChange=function(){t.fileChanged=!0}}])}(),function(){"use strict";function e(e,t,o,n,r,i,s){function a(){return p.attempted=!0,p.submitting=!0,e.form.$valid?void(p.fileChanged?d():p.edit?u():c()):!1}function l(){p.fileChanged=!0}function d(){s.upload({url:t.upload_url,file:p.integrante.imagen}).progress(function(e){p.progress=parseInt(100*e.loaded/e.total)}).success(function(e,t,o,n){p.integrante.imagen=e.url,p.fileChanged=!0,p.progress=0,p.edit?u():c()}).error(function(e,t,n,r){o.show(o.simple().content(e.error).theme("error-toast")),p.submitting=!1,p.progress=0})}function c(){r.save(p.integrante).$promise.then(function(e,t,r){console.log(t),console.log(r),e.error?o.show(o.simple().content(e.error).theme("error-toast")):(n.hide(e),o.show(o.simple().content("Nueva integrante guardado"))),p.submitting=!1})}function u(){r.update({id:p.integrante.id},p.integrante).$promise.then(function(e){p.submitting=!1,n.hide(p.integrante)})}var p=this;p.edit=!1,p.discos=i.query(),p.progress=0,p.submitting=!1,p.fileChanged=!1,p.attempted=!1,p.submit=a,p.fileChange=l,p.hide=n.hide,void 0!=e.selectedItem?(p.integrante=e.selectedItem,p.edit=!0):p.integrante=new r}angular.module("backendApp.controllers").controller("AddIntegranteController",e),e.$inject=["$scope","$rootScope","$mdToast","$mdDialog","Integrante","Disco","Upload"]}(),function(){"use strict";function e(e,t,o,n,r,i,s){function a(){i.id&&o.get({id:i.id}).$promise.then(function(e){u(e)})}function l(e){n.show({controller:"AddIntegranteController",controllerAs:"vm",templateUrl:"partials/integrantes/add.html",parent:angular.element(document.body),targetEvent:e}).then(function(e){1!=e&&addOrUpdateList(p.integrantes,e)})}function d(e,t){t.preventDefault(),t.stopPropagation(),o["delete"]({id:e.id}).$promise.then(function(t){if(t.error)r.show(r.simple().content(t.error).theme("error-toast"));else{r.show(r.simple().content(t.message));var o=p.integrantes.indexOf(e);p.integrantes.splice(o,1)}})}function c(e){s.go("integrantes",{id:e.id},{notify:!1}),u(e)}function u(o){t.selectedItem=angular.copy(o);var r=p.integrantes.indexOf(o);n.show({controller:"AddIntegranteController",controllerAs:"vm",templateUrl:"partials/integrantes/add.html",parent:angular.element(document.body),scope:t.$new()}).then(function(t){1!=t&&e.addOrUpdateList(p.integrantes,t,r),s.go("integrantes",{id:""},{notify:!1})})}var p=this;p.integrantes=o.query(),p.options={rowHeight:50,footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},p.showAdd=l,p["delete"]=d,p.showEdit=c,p.hide=n.cancel,a()}angular.module("backendApp.controllers").controller("IntegranteListController",e),e.$inject=["$rootScope","$scope","Integrante","$mdDialog","$mdToast","$stateParams","$state"]}(),function(){"use strict";angular.module("backendApp.controllers").controller("AddNoticiaController",["$rootScope","$scope","$mdToast","$mdDialog","Noticia","Categoria","Video","Cancion","Ad","Upload","Tag",function(e,t,o,n,r,i,s,a,l,d,c){function u(){t.noticia.$save(function(e){n.hide(t.noticia),t.submitting=!1,o.show(o.simple().content("Nueva noticia guardada"))},function(e){o.show(o.simple().content(e.data.error).theme("error-toast")),t.submitting=!1})}function p(){t.submitting=!0,d.upload({url:e.upload_url,file:t.noticia.imagen}).progress(function(e){t.progress=parseInt(100*e.loaded/e.total)}).success(function(e,o,n,r){t.noticia.imagen=e.url,t.fileChanged=!0,t.progress=0,t.edit?m():u()}).error(function(e,n,r,i){o.show(o.simple().content(e.error).theme("error-toast")),t.submitting=!1,t.progress=0})}function m(){r.update({id:t.noticia.id},t.noticia).$promise.then(function(e){t.submitting=!1,t.noticia=e,t.noticia.fecha=new Date(t.noticia.fecha),t.noticia.categoria_id=t.noticia.categorias[0].id,t.noticia.video_id=t.noticia.video.id,t.noticia.cancion_id=t.noticia.cancion.id,n.hide(e)})}function f(e){var o=e?t.tags.then(function(t){return t.filter(g(e))}):[];return o}function g(e){var t=angular.lowercase(e);return function(e){return 0===e.nombre.toLowerCase().indexOf(t)}}function h(){return c.query().$promise.then(function(e){return e})}void 0!=t.selectedItem?(t.noticia=t.selectedItem,t.noticia.fecha=new Date(t.noticia.fecha),t.noticia.categoria_id=t.noticia.categorias[0].id,t.noticia.video_id=t.noticia.video.id,t.noticia.cancion_id=t.noticia.cancion.id,t.edit=!0):(t.noticia=new r,t.noticia.tags=[]),t.categorias=i.query(),t.videos=s.query(),t.canciones=a.query(),t.ads=l.query(),t.tags=c.query(),t.posiciones=new Array(6),t.hide=function(){n.hide()},t.submitting=!1,t.attempted=!1,t.submit=function(){return t.attempted=!0,t.form.$valid?void(t.fileChanged?p():t.edit?m():u()):!1},t.progress=0,t.fileChanged=!1,t.fileChange=function(){t.fileChanged=!0},t.searchText=null,t.querySearch=f,t.tags=h(),t.selectedTags=[],t.numberChips=[],t.numberChips2=[],t.numberBuffer="",t.newTag=function(e){if(e.nombre)return e;var t={nombre:e};return t}}])}(),function(){"use strict";angular.module("backendApp.controllers").controller("NoticiaListController",["$scope","Noticia","$mdDialog","$mdToast",function(e,t,o,n){e.noticias=t.query(),e.options={rowHeight:50,footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},e.showAdd=function(t){o.show({controller:"AddNoticiaController",templateUrl:"partials/noticias/add.html",parent:angular.element(document.body),targetEvent:t}).then(function(t){void 0!==t&&e.noticias.push(t)})},e["delete"]=function(o,r){r.preventDefault(),r.stopPropagation(),t["delete"]({id:o.id}).$promise.then(function(t){if(t.error)n.show(n.simple().content(t.error).theme("error-toast"));else{n.show(n.simple().content(t.message));var r=e.noticias.indexOf(o);e.noticias.splice(r,1)}})},e.showEdit=function(t){e.selectedItem=t,o.show({controller:"AddNoticiaController",templateUrl:"partials/noticias/add.html",parent:angular.element(document.body),scope:e.$new()})}}])}(),function(){"use strict";function e(e,t,o,n,r,i){function s(){d.ad.$save(function(e){n.hide(d.ad),d.submitting=!1,o.show(o.simple().content("Nuevo ad guardado"))},function(e){o.show(o.simple().content(e.data.error).theme("error-toast")),d.submitting=!1})}function a(){r.update({id:d.ad.id},d.ad).$promise.then(function(e){console.log("finished",e),d.submitting=!1,n.hide(d.ad)})}function l(){d.submitting=!0,i.upload({url:e.upload_url,file:d.ad.source
}).progress(function(e){d.progress=parseInt(100*e.loaded/e.total)}).success(function(e,t,o,n){d.ad.source=e.url,d.ad.type=e.type,d.fileChanged=!1,d.progress=0,d.edit?a():s()}).error(function(e,t,n,r){o.show(o.simple().content(e.error).theme("error-toast")),d.submitting=!1,d.progress=0})}var d=this;d.edit=!1,d.submitting=!1,d.attempted=!1,d.progress=0,d.fileChanged=!1,d.sizes=["300x250","300x600","728X90","320x50","810X550"],d.posiciones=[1,2,3],void 0!=t.selectedItem?(d.ad=t.selectedItem,d.edit=!0):d.ad=new r,d.hide=n.hide,d.submit=function(){return d.attempted=!0,t.adForm.$valid?(d.submitting=!0,void(d.fileChanged?l():d.edit?a():s())):!1},d.fileChange=function(){d.fileChanged=!0}}angular.module("backendApp.controllers").controller("AddAdController",e),e.$inject=["$rootScope","$scope","$mdToast","$mdDialog","Ad","Upload"]}(),function(){"use strict";function e(e,t,o,n,r,i){function s(e){i.go("ads",{id:e.id},{notify:!1}),a(e)}function a(o){t.selectedItem=o;var r=l.ads.indexOf(o);n.show({controller:"AddAdController",controllerAs:"vm",templateUrl:"partials/promos/add.html",parent:angular.element(document.body),scope:t.$new()}).then(function(t){1!=t&&e.addOrUpdateList(l.ads,t,r),i.go("ads",{id:""},{notify:!1})})}var l=this;l.ads=o.query(),l.showEdit=s,l.options={rowHeight:"auto",footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},l.showAdd=function(e){n.show({controller:"AddAdController",controllerAs:"vm",templateUrl:"partials/promos/add.html",parent:angular.element(document.body),targetEvent:e}).then(function(e){e!==!0&&l.ads.push(e)})},l["delete"]=function(e,t){t.preventDefault(),t.stopPropagation();var i=n.confirm().content("Esta seguro que desea borrar este elemento").ok("Borrar").cancel("Cancelar").targetEvent(t);n.show(i).then(function(){o["delete"]({id:e.id}).$promise.then(function(t){if(t.error)r.show(r.simple().content(t.error).theme("error-toast"));else{r.show(r.simple().content(t.message));var o=l.ads.indexOf(e);l.ads.splice(o,1)}})})}}angular.module("backendApp.controllers").controller("AdListController",e),e.$inject=["$rootScope","$scope","Ad","$mdDialog","$mdToast","$state"]}(),function(){"use strict";angular.module("backendApp.controllers").controller("UserListController",["$scope","User","$mdDialog","USER_ROLES","$mdToast",function(e,t,o,n,r){e.users=t.query(),e.roles={},e.roles[n.admin]="Administrador",e.roles[n.editor]="Editor",e.roles[n.editorPlus]="Editor Plus",e.roles[n.analista]="Analista",e.roles[n.lector]="Lector",e.options={rowHeight:50,footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},e.showAdd=function(t){o.show({controller:"UserController",templateUrl:"partials/users/add.html",parent:angular.element(document.body),targetEvent:t}).then(function(t){void 0!==t&&e.users.push(t)})},e["delete"]=function(o,n){n.preventDefault(),n.stopPropagation(),t["delete"]({id:o.id}).$promise.then(function(t){if(t.error)r.show(r.simple().content(t.error).theme("error-toast"));else{r.show(r.simple().content(t.message));var n=e.users.indexOf(o);e.users.splice(n,1)}})},e.showEdit=function(t){e.selectedItem=t,o.show({controller:"UserController",templateUrl:"partials/users/add.html",parent:angular.element(document.body),scope:e.$new()})}}]),angular.module("backendApp.controllers").controller("UserController",["$rootScope","$scope","$mdToast","$mdDialog","User","Upload","USER_ROLES",function(e,t,o,n,r,i,s){function a(){r.save(t.user,function(e){e.error?(o.show(o.simple().content(e.error).theme("error-toast")),t.submitting=!1):(n.hide(t.user),o.show(o.simple().content("Nuevo usuario guardado")))})}function l(){t.submitting=!0,i.upload({url:e.upload_url,file:t.user.imagen}).progress(function(e){t.progress=parseInt(100*e.loaded/e.total)}).success(function(e,o,n,r){t.user.imagen=e.url,t.filechanged=!0,t.progress=0,t.edit?d():a()}).error(function(e,n,r,i){o.show(o.simple().content(e.error).theme("error-toast")),t.submitting=!1,t.progress=0})}function d(){r.update({id:t.user.id},t.user).$promise.then(function(e){t.submitting=!1,n.hide(t.user)})}void 0!=t.selectedItem?(t.user=t.selectedItem,t.edit=!0):t.user=new r,t.submitting=!1,t.attempted=!1,t.progress=0,t.filechanged=!1,t.roles={},t.roles[s.admin]="Administrador",t.roles[s.editor]="Editor",t.roles[s.editorPlus]="Editor Plus",t.roles[s.analista]="Analista",t.roles[s.lector]="Lector",t.hide=function(){n.hide()},t.submit=function(){return t.attempted=!0,t.form.$valid?void(t.fileChanged?l():t.edit?d():a()):!1},t.fileChange=function(){t.filechanged=!1}}])}(),function(){"use strict";angular.module("backendApp.controllers").controller("UserListController",["$scope","User","$mdDialog","USER_ROLES","$mdToast",function(e,t,o,n,r){e.users=t.query(),e.roles={},e.roles[n.admin]="Administrador",e.roles[n.editor]="Editor",e.roles[n.editorPlus]="Editor Plus",e.roles[n.analista]="Analista",e.roles[n.lector]="Lector",e.options={rowHeight:50,footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},e.showAdd=function(t){o.show({controller:"UserController",templateUrl:"partials/users/add.html",parent:angular.element(document.body),targetEvent:t}).then(function(t){void 0!==t&&e.users.push(t)})},e["delete"]=function(o,n){n.preventDefault(),n.stopPropagation(),t["delete"]({id:o.id}).$promise.then(function(t){if(t.error)r.show(r.simple().content(t.error).theme("error-toast"));else{r.show(r.simple().content(t.message));var n=e.users.indexOf(o);e.users.splice(n,1)}})},e.showEdit=function(t){e.selectedItem=t,o.show({controller:"UserController",templateUrl:"partials/users/add.html",parent:angular.element(document.body),scope:e.$new()})}}]),angular.module("backendApp.controllers").controller("UserController",["$rootScope","$scope","$mdToast","$mdDialog","User","Upload","USER_ROLES",function(e,t,o,n,r,i,s){function a(){r.save(t.user,function(e){e.error?(o.show(o.simple().content(e.error).theme("error-toast")),t.submitting=!1):(n.hide(t.user),o.show(o.simple().content("Nuevo usuario guardado")))})}function l(){t.submitting=!0,i.upload({url:e.upload_url,file:t.user.imagen}).progress(function(e){t.progress=parseInt(100*e.loaded/e.total)}).success(function(e,o,n,r){t.user.imagen=e.url,t.filechanged=!0,t.progress=0,t.edit?d():a()}).error(function(e,n,r,i){o.show(o.simple().content(e.error).theme("error-toast")),t.submitting=!1,t.progress=0})}function d(){r.update({id:t.user.id},t.user).$promise.then(function(e){t.submitting=!1,n.hide(t.user)})}void 0!=t.selectedItem?(t.user=t.selectedItem,t.edit=!0):t.user=new r,t.submitting=!1,t.attempted=!1,t.progress=0,t.filechanged=!1,t.roles={},t.roles[s.admin]="Administrador",t.roles[s.editor]="Editor",t.roles[s.editorPlus]="Editor Plus",t.roles[s.analista]="Analista",t.roles[s.lector]="Lector",t.hide=function(){n.hide()},t.submit=function(){return t.attempted=!0,t.form.$valid?void(t.fileChanged?l():t.edit?d():a()):!1},t.fileChange=function(){t.filechanged=!1}}])}(),function(){"use strict";angular.module("backendApp.controllers").controller("VideoListController",["$scope","Video","$mdDialog","$mdToast",function(e,t,o,n){e.videos=t.query(),e.options={rowHeight:50,footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},e.showAdd=function(t){o.show({controller:"AddVideoController",templateUrl:"partials/videos/add.html",parent:angular.element(document.body),targetEvent:t}).then(function(t){void 0!==t&&e.videos.push(t)})},e["delete"]=function(o,r){r.preventDefault(),r.stopPropagation(),t["delete"]({id:o.id}).$promise.then(function(t){if(console.log(t),t.error)n.show(n.simple().content(t.error).theme("error-toast"));else{n.show(n.simple().content(t.message));var r=e.videos.indexOf(o);e.videos.splice(r,1)}})},e.showEdit=function(t){e.selectedItem=t,o.show({controller:"AddVideoController",templateUrl:"partials/videos/add.html",parent:angular.element(document.body),scope:e.$new()})}}]),angular.module("backendApp.controllers").controller("AddVideoController",["$rootScope","$scope","$mdToast","$mdDialog","Video","Ad","Upload","$sce","$http",function(e,t,o,n,r,i,s,a,l){function d(){t.video.$save(function(e){n.hide(e),t.submitting=!1,o.show(o.simple().content("Nuevo ad guardado"))},function(e){o.show(o.simple().content(e.data.error).theme("error-toast")),t.submitting=!1})}function c(){t.submitting=!0,s.upload({url:e.upload_url,file:t.video.source}).progress(function(e){t.progress=parseInt(100*e.loaded/e.total)}).success(function(e,o,n,r){t.video.source=e.url,t.video.type=e.type,t.fileChanged=!0,t.progress=0,t.edit?u():d()}).error(function(e,n,r,i){o.show(o.simple().content(e.error).theme("error-toast")),t.submitting=!1,t.progress=0})}function u(){r.update({id:t.video.id},t.video).$promise.then(function(e){t.submitting=!1,n.hide(t.video)})}t.submitting=!1,t.attempted=!1,t.progress=0,t.fileChanged=!1,t.isLink=!1,t.youtubeId="",t.ads=i.query(),void 0!=t.selectedItem?(t.video=t.selectedItem,t.video.ad_id=t.video.ad.id,t.edit=!0,"youtube"==t.video.type?(t.isLink=!0,t.youtubeId=t.video.source):" video"==t.video.type):t.video=new r,t.submit=function(){return t.attempted=!0,t.form.$valid?void(t.fileChanged&&!t.isLink?c():t.edit?u():d()):!1},t.hide=n.hide,t.fileChange=function(){t.fileChanged=!0,t.isLink=!1},t.linkChanged=function(){t.isLink=!0,l.post(e.server_url+"/api/utils/youtube",{url:t.video.source}).success(function(e){t.youtubeId="",e.id!==!1&&(t.youtubeId=e.id,t.video.type="youtube")})},t.getYt=function(e){return a.trustAsResourceUrl("https://www.youtube.com/embed/"+e)}}])}(),function(){"use strict";angular.module("backendApp.controllers").controller("VideoListController",["$scope","Video","$mdDialog","$mdToast",function(e,t,o,n){e.videos=t.query(),e.options={rowHeight:50,footerHeight:!1,headerHeight:50,scrollbarV:!1,selectable:!1,columnMode:"force"},e.showAdd=function(t){o.show({controller:"AddVideoController",templateUrl:"partials/videos/add.html",parent:angular.element(document.body),targetEvent:t}).then(function(t){void 0!==t&&e.videos.push(t)})},e["delete"]=function(o,r){r.preventDefault(),r.stopPropagation(),t["delete"]({id:o.id}).$promise.then(function(t){if(console.log(t),t.error)n.show(n.simple().content(t.error).theme("error-toast"));else{n.show(n.simple().content(t.message));var r=e.videos.indexOf(o);e.videos.splice(r,1)}})},e.showEdit=function(t){e.selectedItem=t,o.show({controller:"AddVideoController",templateUrl:"partials/videos/add.html",parent:angular.element(document.body),scope:e.$new()})}}]),angular.module("backendApp.controllers").controller("AddVideoController",["$rootScope","$scope","$mdToast","$mdDialog","Video","Ad","Upload","$sce","$http",function(e,t,o,n,r,i,s,a,l){function d(){t.video.$save(function(e){n.hide(e),t.submitting=!1,o.show(o.simple().content("Nuevo ad guardado"))},function(e){o.show(o.simple().content(e.data.error).theme("error-toast")),t.submitting=!1})}function c(){t.submitting=!0,s.upload({url:e.upload_url,file:t.video.source}).progress(function(e){t.progress=parseInt(100*e.loaded/e.total)}).success(function(e,o,n,r){t.video.source=e.url,t.video.type=e.type,t.fileChanged=!0,t.progress=0,t.edit?u():d()}).error(function(e,n,r,i){o.show(o.simple().content(e.error).theme("error-toast")),t.submitting=!1,t.progress=0})}function u(){r.update({id:t.video.id},t.video).$promise.then(function(e){t.submitting=!1,n.hide(t.video)})}t.submitting=!1,t.attempted=!1,t.progress=0,t.fileChanged=!1,t.isLink=!1,t.youtubeId="",t.ads=i.query(),void 0!=t.selectedItem?(t.video=t.selectedItem,t.video.ad_id=t.video.ad.id,t.edit=!0,"youtube"==t.video.type?(t.isLink=!0,t.youtubeId=t.video.source):" video"==t.video.type):t.video=new r,t.submit=function(){return t.attempted=!0,t.form.$valid?void(t.fileChanged&&!t.isLink?c():t.edit?u():d()):!1},t.hide=n.hide,t.fileChange=function(){t.fileChanged=!0,t.isLink=!1},t.linkChanged=function(){t.isLink=!0,l.post(e.server_url+"/api/utils/youtube",{url:t.video.source}).success(function(e){t.youtubeId="",e.id!==!1&&(t.youtubeId=e.id,t.video.type="youtube")})},t.getYt=function(e){return a.trustAsResourceUrl("https://www.youtube.com/embed/"+e)}}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFwcC5jb25jYXQuanMiLCJhcHAucm91dGVzLmpzIiwic2VydmljZXMuanMiLCJjb250cm9sbGVycy9jb21tb24uanMiLCJjb250cm9sbGVycy9sb2dpbi5qcyIsImNvbnRyb2xsZXJzL2NhbmNpb25lcy9hZGRDYW5jaW9uQ29udHJvbGxlci5qcyIsImNvbnRyb2xsZXJzL2NhbmNpb25lcy9saXN0Q2FuY2lvbmVzQ29udHJvbGxlci5qcyIsImNvbnRyb2xsZXJzL2NhdGVnb3JpYXMvYWRkQ2F0ZWdvcmlhQ29udHJvbGxlci5qcyIsImNvbnRyb2xsZXJzL2NhdGVnb3JpYXMvbGlzdENhdGVnb3JpYXNDb250cm9sbGVyLmpzIiwiY29udHJvbGxlcnMvY29tZW50YXJpb3MvbGlzdENvbWVudGFyaW9DdHJsLmpzIiwiY29udHJvbGxlcnMvY3VlbnRvcy9hZGRDdWVudG9Db250cm9sbGVyLmpzIiwiY29udHJvbGxlcnMvY3VlbnRvcy9saXN0Q3VlbnRvc0NvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy9kaXNjb3MvYWRkRGlzY29Db250cm9sbGVyLmpzIiwiY29udHJvbGxlcnMvZGlzY29zL2xpc3REaXNjb3NDb250cm9sbGVyLmpzIiwiY29udHJvbGxlcnMvZXZlbnRvcy9hZGRFdmVudG9Db250cm9sbGVyLmpzIiwiY29udHJvbGxlcnMvZXZlbnRvcy9saXN0RXZlbnRvc0NvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy9pbnRlZ3JhbnRlcy9hZGRJbnRlZ3JhbnRlQ29udHJvbGxlci5qcyIsImNvbnRyb2xsZXJzL2ludGVncmFudGVzL2xpc3RJbnRlZ3JhbnRlc0NvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy9ub3RpY2lhcy9hZGROb3RpY2lhQ29udHJvbGxlci5qcyIsImNvbnRyb2xsZXJzL25vdGljaWFzL2xpc3ROb3RpY2lhc0NvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy9wcm9tb3MvYWRkUHJvbW9Db250cm9sbGVyLmpzIiwiY29udHJvbGxlcnMvcHJvbW9zL2xpc3RQcm9tb3NDb250cm9sbGVyLmpzIiwiY29udHJvbGxlcnMvdXNlcnMvYWRkVXNlckNvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy91c2Vycy9saXN0VXNlcnNDb250cm9sbGVycy5qcyIsImNvbnRyb2xsZXJzL3ZpZGVvcy9hZGRWaWRlb0NvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy92aWRlb3MvbGlzdFZpZGVvc0NvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiYXBwUnVuIiwiJHN0YXRlIiwiJHJvb3RTY29wZSIsIlVzZXJTZXJ2aWNlIiwiQXV0aFNlcnZpY2UiLCJzZXJ2ZXJfdXJsIiwidXBsb2FkX3VybCIsImlzVHlwZSIsInR5cGUiLCJzdHJUeXBlIiwiZmlsZSIsInVuZGVmaW5lZCIsImluZGV4T2YiLCJnZXRDdXJyZW50VXNlciIsImdvIiwiJG9uIiwiZXZlbnQiLCJuZXh0IiwiZGF0YSIsImF1dGhvcml6ZWRSb2xlcyIsImlzQXV0aG9yaXplZCIsInByZXZlbnREZWZhdWx0IiwiJGJyb2FkY2FzdCIsInRoZW1lQ29uZmlnIiwiJG1kVGhlbWluZ1Byb3ZpZGVyIiwiY3VzdG9tQmx1ZU1hcCIsImV4dGVuZFBhbGV0dGUiLCJjb250cmFzdERlZmF1bHRDb2xvciIsImNvbnRyYXN0RGFya0NvbG9ycyIsIjUwIiwiZGVmaW5lUGFsZXR0ZSIsInRoZW1lIiwicHJpbWFyeVBhbGV0dGUiLCJkZWZhdWx0IiwiaHVlLTEiLCJhY2NlbnRQYWxldHRlIiwiZXF1YWxzRGlyZWN0aXZlIiwicmVzdHJpY3QiLCJyZXF1aXJlIiwibGluayIsInNjb3BlIiwiZWxlbSIsImF0dHJzIiwibmdNb2RlbCIsIiR3YXRjaCIsInZhbGlkYXRlIiwiJG9ic2VydmUiLCJ2YWwiLCJ2YWwxIiwiJHZpZXdWYWx1ZSIsInZhbDIiLCJlcXVhbHMiLCIkc2V0VmFsaWRpdHkiLCJjYXBpdGFsaXplRmlsdGVyIiwiaW5wdXQiLCJhbGwiLCJyZXBsYWNlIiwidHh0IiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzdWJzdHIiLCJ0b0xvd2VyQ2FzZSIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCJjb25zdGFudCIsImFkbWluIiwiZWRpdG9yIiwiZWRpdG9yUGx1cyIsImFuYWxpc3RhIiwibGVjdG9yIiwicnVuIiwiZmlsdGVyIiwiZGlyZWN0aXZlIiwiJGluamVjdCIsImNvbmZpZ1JvdXRlcyIsIiRzdGF0ZVByb3ZpZGVyIiwiVVNFUl9ST0xFUyIsIiRodHRwUHJvdmlkZXIiLCIkcHJvdmlkZSIsImludGVyY2VwdG9ycyIsInB1c2giLCJzdGF0ZSIsInVybCIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJ0ZW1wbGF0ZVVybCIsImZhY3RvcnkiLCIkcmVzb3VyY2UiLCJ1cGRhdGUiLCJtZXRob2QiLCIkaHR0cCIsImF1dGhTZXJ2aWNlIiwibG9naW4iLCJjcmVkZW50aWFscyIsInByb21pc2UiLCJwb3N0IiwidGhlbiIsInJlc3BvbnNlIiwiZXJyb3IiLCJhbGVydCIsInNldEN1cnJlbnRVc2VyIiwibG9nb3V0IiwiaXNBdXRoZW50aWNhdGVkIiwiaXNBcnJheSIsInJvbGUiLCJzZXJ2aWNlIiwic3RvcmUiLCJ0aGlzIiwiY3VycmVudFVzZXIiLCJ1c2VyIiwic2V0IiwiZ2V0IiwicmVxdWVzdCIsImFjY2Vzc190b2tlbiIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwicmVzcG9uc2VFcnJvciIsInN0YXR1cyIsIiRzY29wZSIsIiRtZFNpZGVuYXYiLCJvcGVuTGVmdE1lbnUiLCJ0b2dnbGUiLCJ0b1N0YXRlIiwidG9QYXJhbXMiLCJmcm9tU3RhdGUiLCJmcm9tUGFyYW1zIiwibWVudSIsInRpdGxlIiwiaWNvbiIsInJvbGVzIiwiYWRkT3JVcGRhdGVMaXN0IiwiYXJyYXkiLCJyb3ciLCJpbmRleCIsImxlbmd0aCIsIm1haW4iLCJlbWFpbCIsInBhc3N3b3JkIiwiZm9ybSIsIiRpc1ZhbGlkIiwicmVnaXN0ZXIiLCJMb2dpblNlcnZpY2UiLCJuZXdVc2VyIiwiQWRkQ2FuY2lvbkNvbnRyb2xsZXIiLCIkbWRUb2FzdCIsIiRtZERpYWxvZyIsIkNhbmNpb24iLCJEaXNjbyIsIlVwbG9hZCIsInN1Ym1pdCIsInZtIiwiYXR0ZW1wdGVkIiwic3VibWl0dGluZyIsIiR2YWxpZCIsImZpbGVDaGFuZ2VkIiwidXBsb2FkQW5kU2F2ZSIsImVkaXQiLCJzYXZlIiwiZmlsZUNoYW5nZSIsInVwbG9hZCIsImNhbmNpb24iLCJhdWRpb19zb3VyY2UiLCJwcm9ncmVzcyIsImV2dCIsInBhcnNlSW50IiwibG9hZGVkIiwidG90YWwiLCJzdWNjZXNzIiwic2hvdyIsInNpbXBsZSIsImNvbnRlbnQiLCIkcHJvbWlzZSIsImFsZ28iLCJhbGdvMiIsImNvbnNvbGUiLCJsb2ciLCJoaWRlIiwiaWQiLCJkaXNjb3MiLCJxdWVyeSIsInNlbGVjdGVkSXRlbSIsImRpc2NvX2lkIiwiZGlzY28iLCJDYW5jaW9uTGlzdENvbnRyb2xsZXIiLCIkc3RhdGVQYXJhbXMiLCJhY3RpdmF0ZSIsInNob3dFZGl0Iiwic2hvd0FkZCIsImV2IiwicGFyZW50IiwiZWxlbWVudCIsImRvY3VtZW50IiwiYm9keSIsInRhcmdldEV2ZW50IiwibmV3TW9kZWwiLCJjYW5jaW9uZXMiLCJkb0RlbGV0ZSIsIiRldmVudCIsInN0b3BQcm9wYWdhdGlvbiIsIm1lc3NhZ2UiLCJzcGxpY2UiLCJuYXZpZ2F0ZVRvSXRlbSIsIm5vdGlmeSIsImNvcHkiLCIkbmV3IiwiZWRpdGVkIiwib3B0aW9ucyIsInJvd0hlaWdodCIsImZvb3RlckhlaWdodCIsImhlYWRlckhlaWdodCIsInNjcm9sbGJhclYiLCJzZWxlY3RhYmxlIiwiY29sdW1uTW9kZSIsImNhbmNlbCIsIkFkZENhdGVnb3JpYUNvbnRyb2xsZXIiLCJDYXRlZ29yaWEiLCJjYXRlZ29yaWEiLCJDYXRlZ29yaWFMaXN0Q29udHJvbGxlciIsIm5ld0V2ZW50IiwiY2F0ZWdvcmlhcyIsImNvbmZpcm0iLCJvayIsIkNvbWVudGFyaW8iLCJTaG93Q29tZW50YXJpb0NvbnRyb2xsZXIiLCJjb21lbnRhcmlvIiwiY29tZW50YXJpb3MiLCJmaWx0ZXJzIiwiYXByb2JhZG9zIiwicGVuZGllbnRlcyIsInJlY2hhemFkb3MiLCJuZXdWYWwiLCJkIiwiYXByb2JhZG8iLCJyZXRvcm5vIiwiYXBwcm92ZSIsImlzQXBwcm92ZWQiLCJDdWVudG8iLCJTaG93Q3VlbnRvQ29udHJvbGxlciIsImN1ZW50byIsImN1ZW50b3MiLCJBZGREaXNjb0NvbnRyb2xsZXIiLCIkc2F2ZSIsImNvdmVyX2ltZyIsIkRpc2NvTGlzdENvbnRyb2xsZXIiLCJFdmVudG8iLCJldmVudG9zIiwiZmVjaGEiLCJEYXRlIiwiZXZlbnRvIiwiaW1hZ2VuIiwiQWRkSW50ZWdyYW50ZUNvbnRyb2xsZXIiLCJJbnRlZ3JhbnRlIiwiaW50ZWdyYW50ZSIsIkludGVncmFudGVMaXN0Q29udHJvbGxlciIsImludGVncmFudGVzIiwiTm90aWNpYSIsIlZpZGVvIiwiQWQiLCJUYWciLCJub3RpY2lhIiwiY2F0ZWdvcmlhX2lkIiwidmlkZW9faWQiLCJ2aWRlbyIsImNhbmNpb25faWQiLCJxdWVyeVNlYXJjaCIsInJlc3VsdHMiLCJ0YWdzIiwiY3JlYXRlRmlsdGVyRm9yIiwibG93ZXJjYXNlUXVlcnkiLCJsb3dlcmNhc2UiLCJ0YWciLCJub21icmUiLCJsb2FkVGFncyIsInZpZGVvcyIsImFkcyIsInBvc2ljaW9uZXMiLCJBcnJheSIsInNlYXJjaFRleHQiLCJzZWxlY3RlZFRhZ3MiLCJudW1iZXJDaGlwcyIsIm51bWJlckNoaXBzMiIsIm51bWJlckJ1ZmZlciIsIm5ld1RhZyIsImNoaXAiLCJub3RpY2lhcyIsIkFkZEFkQ29udHJvbGxlciIsImFkIiwic291cmNlIiwic2l6ZXMiLCJhZEZvcm0iLCJBZExpc3RDb250cm9sbGVyIiwibmV3T2JqIiwiVXNlciIsInVzZXJzIiwiZmlsZWNoYW5nZWQiLCIkc2NlIiwiaXNMaW5rIiwieW91dHViZUlkIiwiYWRfaWQiLCJsaW5rQ2hhbmdlZCIsImdldFl0IiwidmlkZW9JZCIsInRydXN0QXNSZXNvdXJj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LEtBQ0FwRSxJQUVBcUUsTUFQQSxHQVVBdkMsRUFBQTBELEtBQUEvQixFQUFBK0IsS0FhQTFELEVBQUF3QyxXQUFBLFdBQ0F4QyxFQUFBb0MsYUFBQSxFQUNBcEMsRUFBQWtMLFFBQUEsR0FHQWxMLEVBQUFxTCxZQUFBLFdBQ0FyTCxFQUFBa0wsUUFBQSxFQUNBOU0sRUFBQUssS0FBQTlGLEVBQUFHLFdBQUEsc0JBQUE4RSxJQUFBb0MsRUFBQWdKLE1BQUF5QixTQUFBeEgsUUFBQSxTQUFBdEUsR0FDQXFCLEVBQUFtTCxVQUFBLEdBQ0F4TSxFQUFBZ0YsTUFBQSxJQUNBM0QsRUFBQW1MLFVBQUF4TSxFQUFBZ0YsR0FDQTNELEVBQUFnSixNQUFBL1AsS0FBQSxjQUtBK0csRUFBQXNMLE1BQUEsU0FBQUMsR0FDQSxNQUFBTixHQUFBTyxtQkFBQSxpQ0FBQUQiLCJmaWxlIjoiYXBwLmNvbmNhdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuXHJcbiAgICB2YXIgZXF1YWxzRGlyZWN0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsIC8vIG9ubHkgYWN0aXZhdGUgb24gZWxlbWVudCBhdHRyaWJ1dGVcclxuICAgICAgICAgICAgcmVxdWlyZTogJz9uZ01vZGVsJywgLy8gZ2V0IGEgaG9sZCBvZiBOZ01vZGVsQ29udHJvbGxlclxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW0sIGF0dHJzLCBuZ01vZGVsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW5nTW9kZWwpIHJldHVybjsgLy8gZG8gbm90aGluZyBpZiBubyBuZy1tb2RlbFxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHdhdGNoIG93biB2YWx1ZSBhbmQgcmUtdmFsaWRhdGUgb24gY2hhbmdlXHJcbiAgICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goYXR0cnMubmdNb2RlbCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBvYnNlcnZlIHRoZSBvdGhlciB2YWx1ZSBhbmQgcmUtdmFsaWRhdGUgb24gY2hhbmdlXHJcbiAgICAgICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnZXF1YWxzJywgZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsaWRhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFsdWVzXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbDEgPSBuZ01vZGVsLiR2aWV3VmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbDIgPSBhdHRycy5lcXVhbHM7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IHZhbGlkaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgbmdNb2RlbC4kc2V0VmFsaWRpdHkoJ2VxdWFscycsICF2YWwxIHx8ICF2YWwyIHx8IHZhbDEgPT09IHZhbDIpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgY2FwaXRhbGl6ZUZpbHRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGlucHV0LCBhbGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuICghIWlucHV0KSA/IGlucHV0LnJlcGxhY2UoLyhbXlxcV19dK1teXFxzLV0qKSAqL2csIGZ1bmN0aW9uICh0eHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eHQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0eHQuc3Vic3RyKDEpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIH0pIDogJyc7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiYWNrZW5kQXBwJywgWydhbmd1bGFyLXN0b3JhZ2UnLCduZ0ZpbGVVcGxvYWQnLCAnbmdNYXRlcmlhbCcsICdkYXRhLXRhYmxlJywgJ25nUmVzb3VyY2UnLCduZ01lc3NhZ2VzJywgJ3VpLnJvdXRlcicsJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnLCAnYmFja2VuZEFwcC5zZXJ2aWNlcyddKVxyXG4gICAgICAgIC5jb25maWcodGhlbWVDb25maWcpXHJcbiAgICAgICAgLmNvbnN0YW50KCdVU0VSX1JPTEVTJywge1xyXG4gICAgICAgICAgICBhZG1pbjogJ2FkbWluJyxcclxuICAgICAgICAgICAgZWRpdG9yOiAnZWRpdG9yJyxcclxuICAgICAgICAgICAgZWRpdG9yUGx1czogJ2VkaXRvclBsdXMnLFxyXG4gICAgICAgICAgICBhbmFsaXN0YTogJ2FuYWxpc3RhJyxcclxuICAgICAgICAgICAgbGVjdG9yOiAnbGVjdG9yJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnJ1bihhcHBSdW4pXHJcbiAgICAgICAgLmZpbHRlcignY2FwaXRhbGl6ZScsIGNhcGl0YWxpemVGaWx0ZXIpXHJcbiAgICAgICAgLmRpcmVjdGl2ZSgnZXF1YWxzJywgZXF1YWxzRGlyZWN0aXZlKTtcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmFja2VuZEFwcC5jb250cm9sbGVycycsW10pO1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuc2VydmljZXMnLFtdKTtcclxuXHJcbiAgICBmdW5jdGlvbiBhcHBSdW4oJHN0YXRlLCAkcm9vdFNjb3BlLCBVc2VyU2VydmljZSwgQXV0aFNlcnZpY2UpIHtcclxuICAgICAgICAvLyRyb290U2NvcGUuc2VydmVyX3VybCA9ICdodHRwOi8vMTkyLjE2OC4yMzUuMTUzL211c2ljYV9wYXJhX3R1c19vaWRvcy9wdWJsaWMnO1xyXG4gICAgICAgICRyb290U2NvcGUuc2VydmVyX3VybCA9ICdodHRwOi8vc3RnMS5qd3RkaWdpdGFscHIuY29tL21wdG8nO1xyXG4gICAgICAgICRyb290U2NvcGUudXBsb2FkX3VybCA9ICRyb290U2NvcGUuc2VydmVyX3VybCArICcvYXBpL3VwbG9hZCc7XHJcblxyXG4gICAgICAgICRyb290U2NvcGUuaXNUeXBlID0gZnVuY3Rpb24gKHR5cGUsIHN0clR5cGUsIGZpbGUpIHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0eXBlLCBzdHJUeXBlLCBmaWxlKTtcclxuICAgICAgICAgICAgdmFyIGlzVHlwZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoc3RyVHlwZSA9PSB0eXBlKVxyXG4gICAgICAgICAgICAgICAgaXNUeXBlID0gdHJ1ZTtcclxuICAgICAgICAgICAgZWxzZSBpZiAoZmlsZSAmJiBmaWxlLnR5cGUgIT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgaXNUeXBlID0gZmlsZS50eXBlLmluZGV4T2YodHlwZSkgPiAtMTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBpc1R5cGU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoVXNlclNlcnZpY2UuZ2V0Q3VycmVudFVzZXIoKSA9PSBudWxsKVxyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2xvZ2luJyk7XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygndmlkZW9zJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbiAoZXZlbnQsIG5leHQpIHtcclxuICAgICAgICAgICAgaWYgKG5leHQuZGF0YSlcclxuICAgICAgICAgICAgICAgIHZhciBhdXRob3JpemVkUm9sZXMgPSBuZXh0LmRhdGEuYXV0aG9yaXplZFJvbGVzO1xyXG4gICAgICAgICAgICBpZiAoYXV0aG9yaXplZFJvbGVzICYmICFBdXRoU2VydmljZS5pc0F1dGhvcml6ZWQoYXV0aG9yaXplZFJvbGVzKSkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgndW5hdXRob3JpemVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gdGhlbWVDb25maWcoJG1kVGhlbWluZ1Byb3ZpZGVyKSB7XHJcbiAgICAgICAgdmFyIGN1c3RvbUJsdWVNYXAgPSAkbWRUaGVtaW5nUHJvdmlkZXIuZXh0ZW5kUGFsZXR0ZSgnbGlnaHQtYmx1ZScsIHtcclxuICAgICAgICAgICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JyxcclxuICAgICAgICAgICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6IFsnNTAnXSxcclxuICAgICAgICAgICAgJzUwJzogJ2ZmZmZmZidcclxuICAgICAgICB9KTtcclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIuZGVmaW5lUGFsZXR0ZSgnY3VzdG9tQmx1ZScsIGN1c3RvbUJsdWVNYXApO1xyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnZGVmYXVsdCcpLnByaW1hcnlQYWxldHRlKCdjdXN0b21CbHVlJywge1xyXG4gICAgICAgICAgICAnZGVmYXVsdCc6ICc1MDAnLFxyXG4gICAgICAgICAgICAnaHVlLTEnOiAnNTAnXHJcbiAgICAgICAgfSkuYWNjZW50UGFsZXR0ZSgncGluaycpO1xyXG4gICAgICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnaW5wdXQnLCAnZGVmYXVsdCcpLnByaW1hcnlQYWxldHRlKCdncmV5Jyk7XHJcbiAgICB9O1xyXG59KSgpOyIsbnVsbCwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiYWNrZW5kQXBwJykuY29uZmlnKGNvbmZpZ1JvdXRlcyk7XHJcblxyXG4gICAgY29uZmlnUm91dGVzLiRpbmplY3QgPSBbJyRzdGF0ZVByb3ZpZGVyJywgJ1VTRVJfUk9MRVMnLCAnJGh0dHBQcm92aWRlcicsICckcHJvdmlkZSddO1xyXG4gICAgZnVuY3Rpb24gY29uZmlnUm91dGVzKCRzdGF0ZVByb3ZpZGVyLCBVU0VSX1JPTEVTLCAkaHR0cFByb3ZpZGVyLCAkcHJvdmlkZSkge1xyXG5cclxuICAgICAgICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdBUElJbnRlcmNlcHRvcicpO1xyXG5cclxuICAgICAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSgnYWRzJywge1xyXG4gICAgICAgICAgICB1cmw6ICcvcHJvbW9zLzppZCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdBZExpc3RDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL3Byb21vcy9saXN0Lmh0bWwnLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBhdXRob3JpemVkUm9sZXM6IFtVU0VSX1JPTEVTLmFkbWluLCBVU0VSX1JPTEVTLmVkaXRvclBsdXNdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS5zdGF0ZSgnY2FuY2lvbmVzJywge1xyXG4gICAgICAgICAgICB1cmw6ICcvY2FuY2lvbmVzLzppZCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDYW5jaW9uTGlzdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvY2FuY2lvbmVzL2xpc3QuaHRtbCcsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGF1dGhvcml6ZWRSb2xlczogW1VTRVJfUk9MRVMuYWRtaW4sIFVTRVJfUk9MRVMuZWRpdG9yLCBVU0VSX1JPTEVTLmVkaXRvclBsdXNdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS5zdGF0ZSgnY2F0ZWdvcmlhcycsIHtcclxuICAgICAgICAgICAgdXJsOiAnL2NhdGVnb3JpYXMvOmlkJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ0NhdGVnb3JpYUxpc3RDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL2NhdGVnb3JpYXMvbGlzdC5odG1sJyxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgYXV0aG9yaXplZFJvbGVzOiBbVVNFUl9ST0xFUy5hZG1pbiwgVVNFUl9ST0xFUy5lZGl0b3IsIFVTRVJfUk9MRVMuZWRpdG9yUGx1c11cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnN0YXRlKCdjdWVudG9zJywge1xyXG4gICAgICAgICAgICB1cmw6ICcvY3VlbnRvcy86aWQnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnQ3VlbnRvQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9jdWVudG9zL2xpc3QuaHRtbCcsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGF1dGhvcml6ZWRSb2xlczogW1VTRVJfUk9MRVMuYWRtaW4sIFVTRVJfUk9MRVMuZWRpdG9yLCBVU0VSX1JPTEVTLmVkaXRvclBsdXNdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS5zdGF0ZSgnY29tZW50YXJpb3MnLCB7XHJcbiAgICAgICAgICAgIHVybDogJy9jb21lbnRhcmlvcy86aWQnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnQ29tZW50YXJpb0NvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvY29tZW50YXJpb3MvbGlzdC5odG1sJyxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgYXV0aG9yaXplZFJvbGVzOiBbVVNFUl9ST0xFUy5hZG1pbiwgVVNFUl9ST0xFUy5lZGl0b3IsIFVTRVJfUk9MRVMuZWRpdG9yUGx1c11cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnN0YXRlKCdkaXNjb3MnLCB7XHJcbiAgICAgICAgICAgIHVybDogJy9kaXNjb3MvOmlkJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ0Rpc2NvTGlzdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvZGlzY29zL2xpc3QuaHRtbCcsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGF1dGhvcml6ZWRSb2xlczogW1VTRVJfUk9MRVMuYWRtaW4sIFVTRVJfUk9MRVMuZWRpdG9yLCBVU0VSX1JPTEVTLmVkaXRvclBsdXNdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS5zdGF0ZSgnZXZlbnRvcycsIHtcclxuICAgICAgICAgICAgdXJsOiAnL2V2ZW50b3MnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnRXZlbnRvTGlzdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvZXZlbnRvcy9saXN0Lmh0bWwnLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBhdXRob3JpemVkUm9sZXM6IFtVU0VSX1JPTEVTLmFkbWluLCBVU0VSX1JPTEVTLmVkaXRvciwgVVNFUl9ST0xFUy5lZGl0b3JQbHVzXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkuc3RhdGUoJ25vdGljaWFzJywge1xyXG4gICAgICAgICAgICB1cmw6ICcvbm90aWNpYXMnLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyOiAnTm90aWNpYUxpc3RDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL25vdGljaWFzL2xpc3QuaHRtbCcsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGF1dGhvcml6ZWRSb2xlczogW1VTRVJfUk9MRVMuYWRtaW4sIFVTRVJfUk9MRVMuZWRpdG9yLCBVU0VSX1JPTEVTLmVkaXRvclBsdXNdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS5zdGF0ZSgndmlkZW9zJywge1xyXG4gICAgICAgICAgICB1cmw6ICcvdmlkZW9zJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ1ZpZGVvTGlzdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvdmlkZW9zL2xpc3QuaHRtbCcsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGF1dGhvcml6ZWRSb2xlczogW1VTRVJfUk9MRVMuYWRtaW4sIFVTRVJfUk9MRVMuZWRpdG9yLCBVU0VSX1JPTEVTLmVkaXRvclBsdXNdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS5zdGF0ZSgndXNlcnMnLCB7XHJcbiAgICAgICAgICAgIHVybDogJy91c2VycycsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdVc2VyTGlzdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvdXNlcnMvbGlzdC5odG1sJyxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgYXV0aG9yaXplZFJvbGVzOiBbVVNFUl9ST0xFUy5hZG1pbl1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnN0YXRlKCdpbnRlZ3JhbnRlcycsIHtcclxuICAgICAgICAgICAgdXJsOiAnL2ludGVncmFudGVzLzppZCcsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdJbnRlZ3JhbnRlTGlzdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvaW50ZWdyYW50ZXMvbGlzdC5odG1sJyxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgYXV0aG9yaXplZFJvbGVzOiBbVVNFUl9ST0xFUy5hZG1pbl1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLnN0YXRlKCdsb2dpbicsIHtcclxuICAgICAgICAgICAgdXJsOiAnL2xvZ2luJyxcclxuICAgICAgICAgICAgY29udHJvbGxlcjogJ0xvZ2luQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9sb2dpbi5odG1sJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKi5odG1sNU1vZGUoe1xyXG4gICAgICAgICBlbmFibGVkOnRydWUsXHJcbiAgICAgICAgIHJlcXVpcmVCYXNlOmZhbHNlXHJcbiAgICAgICAgIH0pOyovXHJcbiAgICB9XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbigpe1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYmFja2VuZEFwcC5zZXJ2aWNlc1wiKS5mYWN0b3J5KCdBZCcsIGZ1bmN0aW9uKCRyZXNvdXJjZSwgJHJvb3RTY29wZSl7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZSgkcm9vdFNjb3BlLnNlcnZlcl91cmwrICcvYXBpL2Fkcy86aWQnLCBudWxsLCB7J3VwZGF0ZSc6e21ldGhvZDogJ1BVVCd9fSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZShcImJhY2tlbmRBcHAuc2VydmljZXNcIikuZmFjdG9yeSgnQ2FuY2lvbicsIGZ1bmN0aW9uKCRyZXNvdXJjZSwgJHJvb3RTY29wZSl7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZSgkcm9vdFNjb3BlLnNlcnZlcl91cmwrICcvYXBpL2NhbmNpb25lcy86aWQnLCBudWxsLCB7J3VwZGF0ZSc6e21ldGhvZDogJ1BVVCd9fSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZShcImJhY2tlbmRBcHAuc2VydmljZXNcIikuZmFjdG9yeSgnQ2F0ZWdvcmlhJywgZnVuY3Rpb24oJHJlc291cmNlLCAkcm9vdFNjb3BlKXtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKCRyb290U2NvcGUuc2VydmVyX3VybCsgJy9hcGkvY2F0ZWdvcmlhcy86aWQnLCBudWxsLCB7J3VwZGF0ZSc6e21ldGhvZDogJ1BVVCd9fSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZShcImJhY2tlbmRBcHAuc2VydmljZXNcIikuZmFjdG9yeSgnQ29tZW50YXJpbycsIGZ1bmN0aW9uKCRyZXNvdXJjZSwgJHJvb3RTY29wZSl7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZSgkcm9vdFNjb3BlLnNlcnZlcl91cmwrICcvYXBpL2NvbWVudGFyaW9zLzppZCcsIG51bGwsIHsndXBkYXRlJzp7bWV0aG9kOiAnUFVUJ319KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYmFja2VuZEFwcC5zZXJ2aWNlc1wiKS5mYWN0b3J5KCdDdWVudG8nLCBmdW5jdGlvbigkcmVzb3VyY2UsICRyb290U2NvcGUpe1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2UoJHJvb3RTY29wZS5zZXJ2ZXJfdXJsKyAnL2FwaS9jdWVudG9zLzppZCcsIG51bGwsIHsndXBkYXRlJzp7bWV0aG9kOiAnUFVUJ319KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYmFja2VuZEFwcC5zZXJ2aWNlc1wiKS5mYWN0b3J5KCdEaXNjbycsIGZ1bmN0aW9uKCRyZXNvdXJjZSwgJHJvb3RTY29wZSl7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZSgkcm9vdFNjb3BlLnNlcnZlcl91cmwrICcvYXBpL2Rpc2Nvcy86aWQnLCBudWxsLCB7J3VwZGF0ZSc6e21ldGhvZDogJ1BVVCd9fSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZShcImJhY2tlbmRBcHAuc2VydmljZXNcIikuZmFjdG9yeSgnRXZlbnRvJywgZnVuY3Rpb24oJHJlc291cmNlLCAkcm9vdFNjb3BlKXtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKCRyb290U2NvcGUuc2VydmVyX3VybCsgJy9hcGkvZXZlbnRvcy86aWQnLCBudWxsLCB7J3VwZGF0ZSc6e21ldGhvZDogJ1BVVCd9fSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZShcImJhY2tlbmRBcHAuc2VydmljZXNcIikuZmFjdG9yeSgnSW50ZWdyYW50ZScsIGZ1bmN0aW9uKCRyZXNvdXJjZSwgJHJvb3RTY29wZSl7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZSgkcm9vdFNjb3BlLnNlcnZlcl91cmwrICcvYXBpL2ludGVncmFudGVzLzppZCcsIG51bGwsIHsndXBkYXRlJzp7bWV0aG9kOiAnUFVUJ319KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYmFja2VuZEFwcC5zZXJ2aWNlc1wiKS5mYWN0b3J5KCdVc2VyJywgZnVuY3Rpb24oJHJlc291cmNlLCAkcm9vdFNjb3BlKXtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKCRyb290U2NvcGUuc2VydmVyX3VybCsgJy9hcGkvdXNlcnMvOmlkJywgbnVsbCwgeyd1cGRhdGUnOnttZXRob2Q6ICdQVVQnfX0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoXCJiYWNrZW5kQXBwLnNlcnZpY2VzXCIpLmZhY3RvcnkoJ05vdGljaWEnLCBmdW5jdGlvbigkcmVzb3VyY2UsICRyb290U2NvcGUpe1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2UoJHJvb3RTY29wZS5zZXJ2ZXJfdXJsKyAnL2FwaS9ub3RpY2lhcy86aWQnLCBudWxsLCB7J3VwZGF0ZSc6e21ldGhvZDogJ1BVVCd9fSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZShcImJhY2tlbmRBcHAuc2VydmljZXNcIikuZmFjdG9yeSgnVmlkZW8nLCBmdW5jdGlvbigkcmVzb3VyY2UsICRyb290U2NvcGUpe1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2UoJHJvb3RTY29wZS5zZXJ2ZXJfdXJsKyAnL2FwaS92aWRlb3MvOmlkJywgbnVsbCwgeyd1cGRhdGUnOnttZXRob2Q6ICdQVVQnfX0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoXCJiYWNrZW5kQXBwLnNlcnZpY2VzXCIpLmZhY3RvcnkoJ1RhZycsIGZ1bmN0aW9uKCRyZXNvdXJjZSwgJHJvb3RTY29wZSl7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZSgkcm9vdFNjb3BlLnNlcnZlcl91cmwrICcvYXBpL3RhZ3MvOmlkJywgbnVsbCwgeyd1cGRhdGUnOnttZXRob2Q6ICdQVVQnfX0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoXCJiYWNrZW5kQXBwLnNlcnZpY2VzXCIpLmZhY3RvcnkoJ0F1dGhTZXJ2aWNlJywgZnVuY3Rpb24gKCRyb290U2NvcGUsICRodHRwLCBVc2VyU2VydmljZSkge1xyXG4gICAgICAgIHZhciBhdXRoU2VydmljZSA9IHt9O1xyXG5cclxuICAgICAgICBhdXRoU2VydmljZS5sb2dpbiA9IGZ1bmN0aW9uIChjcmVkZW50aWFscykge1xyXG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9ICRodHRwLnBvc3QoJHJvb3RTY29wZS5zZXJ2ZXJfdXJsICsgJy9hcGkvbG9naW4nLCBjcmVkZW50aWFscyk7XHJcblxyXG4gICAgICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLmVycm9yKXtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydChcIkJBRCBMT0dJTlwiKTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBVc2VyU2VydmljZS5zZXRDdXJyZW50VXNlcihkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2F1dGhvcml6ZWQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCd1bmF1dGhvcml6ZWQnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBhdXRoU2VydmljZS5sb2dvdXQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9ICRodHRwLnBvc3QoJHJvb3RTY29wZS5zZXJ2ZXJfdXJsICsgJy9hcGkvbG9nb3V0Jyk7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgndW5hdXRob3JpemVkJyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBhdXRoU2VydmljZS5pc0F1dGhlbnRpY2F0ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBVc2VyU2VydmljZS5nZXRDdXJyZW50VXNlcigpIT1udWxsO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGF1dGhTZXJ2aWNlLmlzQXV0aG9yaXplZCA9IGZ1bmN0aW9uIChhdXRob3JpemVkUm9sZXMpIHtcclxuICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmlzQXJyYXkoYXV0aG9yaXplZFJvbGVzKSkge1xyXG4gICAgICAgICAgICAgICAgYXV0aG9yaXplZFJvbGVzID0gW2F1dGhvcml6ZWRSb2xlc107XHJcbiAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICBjb25zb2xlLmxvZyhcImF1dGhvcml6ZWQgcm9sZXNcIiwgYXV0aG9yaXplZFJvbGVzLCBcInVzZXIgcm9sZVwiLCBVc2VyU2VydmljZS5nZXRDdXJyZW50VXNlcigpLnJvbGUpO1xyXG4gICAgICAgICAgICByZXR1cm4gKGF1dGhTZXJ2aWNlLmlzQXV0aGVudGljYXRlZCgpICYmXHJcbiAgICAgICAgICAgIGF1dGhvcml6ZWRSb2xlcy5pbmRleE9mKFVzZXJTZXJ2aWNlLmdldEN1cnJlbnRVc2VyKCkucm9sZS50b0xvd2VyQ2FzZSgpKSAhPT0gLTEpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBhdXRoU2VydmljZTtcclxuICAgIH0pO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYmFja2VuZEFwcC5zZXJ2aWNlc1wiKS5zZXJ2aWNlKCdVc2VyU2VydmljZScsIGZ1bmN0aW9uKHN0b3JlKSB7XHJcbiAgICAgICAgdmFyIHNlcnZpY2UgPSB0aGlzLFxyXG4gICAgICAgICAgICBjdXJyZW50VXNlciA9IG51bGw7XHJcblxyXG4gICAgICAgIHNlcnZpY2Uuc2V0Q3VycmVudFVzZXIgPSBmdW5jdGlvbih1c2VyKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRVc2VyID0gdXNlcjtcclxuXHJcbiAgICAgICAgICAgIHN0b3JlLnNldCgndXNlci1iYWNrZW5kJywgdXNlcik7XHJcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50VXNlcjtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZXJ2aWNlLmdldEN1cnJlbnRVc2VyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmICghY3VycmVudFVzZXIpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRVc2VyID0gc3RvcmUuZ2V0KCd1c2VyLWJhY2tlbmQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY3VycmVudFVzZXI7XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKFwiYmFja2VuZEFwcC5zZXJ2aWNlc1wiKS5zZXJ2aWNlKCdBUElJbnRlcmNlcHRvcicsIGZ1bmN0aW9uKCRyb290U2NvcGUsIFVzZXJTZXJ2aWNlKSB7XHJcbiAgICAgICAgdmFyIHNlcnZpY2UgPSB0aGlzO1xyXG5cclxuICAgICAgICBzZXJ2aWNlLnJlcXVlc3QgPSBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRVc2VyID0gVXNlclNlcnZpY2UuZ2V0Q3VycmVudFVzZXIoKSxcclxuICAgICAgICAgICAgICAgIGFjY2Vzc190b2tlbiA9IGN1cnJlbnRVc2VyID8gY3VycmVudFVzZXIuYWNjZXNzX3Rva2VuIDogbnVsbDtcclxuICAgICAgICAgICAgaWYgKGFjY2Vzc190b2tlbikge1xyXG4gICAgICAgICAgICAgICAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IGFjY2Vzc190b2tlbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29uZmlnO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlcnZpY2UucmVzcG9uc2VFcnJvciA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCd1bmF1dGhvcml6ZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgfTtcclxuICAgIH0pXHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKXtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiYWNrZW5kQXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignSGVhZGVyQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRtZFNpZGVuYXYnLCckcm9vdFNjb3BlJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkbWRTaWRlbmF2LCRyb290U2NvcGUpIHtcclxuICAgICAgICAgICAgJHNjb3BlLm9wZW5MZWZ0TWVudSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRtZFNpZGVuYXYoJ3NpZGUtbmF2JykudG9nZ2xlKCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJyxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlID0gdG9TdGF0ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgIF0pO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiYWNrZW5kQXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignTWVudUNvbnRyb2xsZXInLCBbJyRzY29wZScsICdVU0VSX1JPTEVTJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCBVU0VSX1JPTEVTKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5tZW51ID0gW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmsgOiAnYWRzJyxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0FkcycsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2FkZF9zaG9wcGluZ19jYXJ0JyxcclxuICAgICAgICAgICAgICAgICAgICByb2xlczogW1VTRVJfUk9MRVMuYWRtaW4sIFVTRVJfUk9MRVMuZWRpdG9yUGx1c11cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluayA6ICdjYW5jaW9uZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQ2FuY2lvbmVzJyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnbXVzaWNfbm90ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgcm9sZXM6IFtVU0VSX1JPTEVTLmFkbWluLFVTRVJfUk9MRVMuZWRpdG9yLCBVU0VSX1JPTEVTLmVkaXRvclBsdXNdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmsgOiAnY2F0ZWdvcmlhcycsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdDYXRlZ29yaWFzJyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnZmlsdGVyX2xpc3QnLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvbGVzOiBbVVNFUl9ST0xFUy5hZG1pbixVU0VSX1JPTEVTLmVkaXRvciwgVVNFUl9ST0xFUy5lZGl0b3JQbHVzXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rIDogJ2NvbWVudGFyaW9zJyxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0NvbWVudGFyaW9zJyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnYm9vaycsXHJcbiAgICAgICAgICAgICAgICAgICAgcm9sZXM6IFtVU0VSX1JPTEVTLmFkbWluLFVTRVJfUk9MRVMuZWRpdG9yLCBVU0VSX1JPTEVTLmVkaXRvclBsdXNdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmsgOiAnY3VlbnRvcycsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdDdWVudG9zJyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnYm9vaycsXHJcbiAgICAgICAgICAgICAgICAgICAgcm9sZXM6IFtVU0VSX1JPTEVTLmFkbWluLFVTRVJfUk9MRVMuZWRpdG9yLCBVU0VSX1JPTEVTLmVkaXRvclBsdXNdXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmsgOiAnZGlzY29zJyxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0Rpc2NvcycsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2xpYnJhcnlfbXVzaWMnLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvbGVzOiBbVVNFUl9ST0xFUy5hZG1pbixVU0VSX1JPTEVTLmVkaXRvciwgVVNFUl9ST0xFUy5lZGl0b3JQbHVzXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rIDogJ2V2ZW50b3MnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRXZlbnRvcycsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2V2ZW50JyxcclxuICAgICAgICAgICAgICAgICAgICByb2xlczogW1VTRVJfUk9MRVMuYWRtaW4sVVNFUl9ST0xFUy5lZGl0b3IsIFVTRVJfUk9MRVMuZWRpdG9yUGx1c11cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluayA6ICdpbnRlZ3JhbnRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdJbnRlZ3JhbnRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2FjY291bnRfY2lyY2xlJyxcclxuICAgICAgICAgICAgICAgICAgICByb2xlczogW1VTRVJfUk9MRVMuYWRtaW5dXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmsgOiAnbm90aWNpYXMnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnTm90aWNpYXMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb246ICduZXdfcmVsZWFzZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvbGVzOiBbVVNFUl9ST0xFUy5hZG1pbixVU0VSX1JPTEVTLmVkaXRvciwgVVNFUl9ST0xFUy5lZGl0b3JQbHVzXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rIDogJ3ZpZGVvcycsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdWaWRlb3MnLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb246ICd2aWRlb19saWJyYXJ5JyxcclxuICAgICAgICAgICAgICAgICAgICByb2xlczogW1VTRVJfUk9MRVMuYWRtaW4sVVNFUl9ST0xFUy5lZGl0b3IsIFVTRVJfUk9MRVMuZWRpdG9yUGx1c11cclxuICAgICAgICAgICAgICAgIH0se1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmsgOiAndXNlcnMnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnVXN1YXJpb3MnLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdhY2NvdW50X2NpcmNsZScsXHJcbiAgICAgICAgICAgICAgICAgICAgcm9sZXM6IFtVU0VSX1JPTEVTLmFkbWluXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgIH1cclxuICAgIF0pO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiYWNrZW5kQXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignTWFpbkN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkc3RhdGUsIEF1dGhTZXJ2aWNlLCBVc2VyU2VydmljZSkge1xyXG4gICAgICAgIHZhciBtYWluID0gdGhpcztcclxuXHJcblxyXG5cclxuICAgICAgICAkc2NvcGUuaXNBdXRob3JpemVkID0gQXV0aFNlcnZpY2UuaXNBdXRob3JpemVkO1xyXG5cclxuICAgICAgICAkcm9vdFNjb3BlLiRvbignYXV0aG9yaXplZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBtYWluLmN1cnJlbnRVc2VyID0gVXNlclNlcnZpY2UuZ2V0Q3VycmVudFVzZXIoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJ3VuYXV0aG9yaXplZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBtYWluLmN1cnJlbnRVc2VyID0gVXNlclNlcnZpY2Uuc2V0Q3VycmVudFVzZXIobnVsbCk7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnbG9naW4nKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJHJvb3RTY29wZS5hZGRPclVwZGF0ZUxpc3QgPSBhZGRPclVwZGF0ZUxpc3Q7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFkZE9yVXBkYXRlTGlzdChhcnJheSwgcm93LCBpbmRleCl7XHJcbiAgICAgICAgICAgIGlmKGluZGV4PGFycmF5Lmxlbmd0aCAmJiBpbmRleD49MClcclxuICAgICAgICAgICAgICAgIGFycmF5W2luZGV4XSA9IHJvdztcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgYXJyYXkucHVzaChyb3cpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbWFpbi5sb2dvdXQgPSBBdXRoU2VydmljZS5sb2dvdXQ7XHJcbiAgICAgICAgbWFpbi5jdXJyZW50VXNlciA9IFVzZXJTZXJ2aWNlLmdldEN1cnJlbnRVc2VyKCk7XHJcbiAgICB9KTtcclxuXHJcblxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE1heGkgb24gNy8zMS8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdMb2dpbkNvbnRyb2xsZXInLCBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCBBdXRoU2VydmljZSwgJHN0YXRlKSB7XHJcbiAgICAgICAgJHNjb3BlLmNyZWRlbnRpYWxzID0ge1xyXG4gICAgICAgICAgICBlbWFpbDogJycsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnJ1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5sb2dpbiA9IGZ1bmN0aW9uIChjcmVkZW50aWFscykge1xyXG4gICAgICAgICAgICBBdXRoU2VydmljZS5sb2dpbihjcmVkZW50aWFscykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEuZXJyb3Ipe1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5mb3JtLiRpc1ZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdub3RpY2lhcycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUucmVnaXN0ZXIgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBMb2dpblNlcnZpY2UucmVnaXN0ZXIoJHNjb3BlLm5ld1VzZXIpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmxvZ2luKCRzY29wZS5uZXdVc2VyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkc2NvcGUubmV3VXNlciA9IG51bGw7XHJcbiAgICB9KTtcclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBNYXhpIG9uIDcvMzEvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiYWNrZW5kQXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignQWRkQ2FuY2lvbkNvbnRyb2xsZXInLCBBZGRDYW5jaW9uQ29udHJvbGxlcik7XHJcblxyXG4gICAgQWRkQ2FuY2lvbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywnJHJvb3RTY29wZScsJyRtZFRvYXN0JywgJyRtZERpYWxvZycsICdDYW5jaW9uJywgJ0Rpc2NvJywgJ1VwbG9hZCddO1xyXG5cclxuICAgIGZ1bmN0aW9uIEFkZENhbmNpb25Db250cm9sbGVyKCRzY29wZSwgJHJvb3RTY29wZSwkbWRUb2FzdCwgJG1kRGlhbG9nLCBDYW5jaW9uLCBEaXNjbywgVXBsb2FkKXtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgIHZtLmVkaXQgPSBmYWxzZTtcclxuICAgICAgICB2bS5kaXNjb3MgPSBEaXNjby5xdWVyeSgpO1xyXG4gICAgICAgIHZtLnByb2dyZXNzID0gMDtcclxuICAgICAgICB2bS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdm0uZmlsZUNoYW5nZWQgPSBmYWxzZTtcclxuICAgICAgICB2bS5hdHRlbXB0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdm0uc3VibWl0ID0gc3VibWl0O1xyXG4gICAgICAgIHZtLmZpbGVDaGFuZ2UgPSBmaWxlQ2hhbmdlO1xyXG4gICAgICAgIHZtLmhpZGUgPSAkbWREaWFsb2cuaGlkZTtcclxuXHJcbiAgICAgICAgaWYoJHNjb3BlLnNlbGVjdGVkSXRlbSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdm0uY2FuY2lvbiA9ICRzY29wZS5zZWxlY3RlZEl0ZW07XHJcbiAgICAgICAgICAgIHZtLmNhbmNpb24uZGlzY29faWQgPSB2bS5jYW5jaW9uLmRpc2NvLmlkO1xyXG4gICAgICAgICAgICB2bS5lZGl0ID0gdHJ1ZTtcclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICB2bS5jYW5jaW9uID0gbmV3IENhbmNpb24oKTtcclxuXHJcbiAgICAgICAgLyoqKioqKipmdW5jdGlvbnMqKioqKioqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHN1Ym1pdCgpe1xyXG4gICAgICAgICAgICB2bS5hdHRlbXB0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB2bS5zdWJtaXR0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYoISRzY29wZS5mb3JtLiR2YWxpZClcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGlmKHZtLmZpbGVDaGFuZ2VkKVxyXG4gICAgICAgICAgICAgICAgdXBsb2FkQW5kU2F2ZSgpO1xyXG4gICAgICAgICAgICBlbHNlIGlmKHZtLmVkaXQpXHJcbiAgICAgICAgICAgICAgICB1cGRhdGUoKTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgc2F2ZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICBmdW5jdGlvbiBmaWxlQ2hhbmdlKCl7XHJcbiAgICAgICAgICAgIHZtLmZpbGVDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiB1cGxvYWRBbmRTYXZlKCkge1xyXG4gICAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgICAgIHVybDogJHJvb3RTY29wZS51cGxvYWRfdXJsLFxyXG4gICAgICAgICAgICAgICAgZmlsZTogdm0uY2FuY2lvbi5hdWRpb19zb3VyY2VcclxuICAgICAgICAgICAgfSkucHJvZ3Jlc3MoZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgdm0ucHJvZ3Jlc3MgPSBwYXJzZUludCgxMDAuMCAqIGV2dC5sb2FkZWQgLyBldnQudG90YWwpO1xyXG4gICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xyXG4gICAgICAgICAgICAgICAgdm0uY2FuY2lvbi5hdWRpb19zb3VyY2UgPSBkYXRhLnVybDtcclxuICAgICAgICAgICAgICAgIHZtLmZpbGVDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHZtLnByb2dyZXNzPTA7XHJcbiAgICAgICAgICAgICAgICBpZih2bS5lZGl0KVxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHNhdmUoKTtcclxuICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQoZGF0YS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICB2bS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB2bS5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2F2ZSgpIHtcclxuICAgICAgICAgICAgQ2FuY2lvbi5zYXZlKHZtLmNhbmNpb24pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlLCBhbGdvLCBhbGdvMikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYWxnbyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhbGdvMik7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZShyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KFwiTnVldmEgY2FuY2lvbiBndWFyZGFkb1wiKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2bS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlKCkge1xyXG4gICAgICAgICAgICBDYW5jaW9uLnVwZGF0ZSh7aWQ6IHZtLmNhbmNpb24uaWR9LCB2bS5jYW5jaW9uKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgIHZtLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKHZtLmNhbmNpb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmFja2VuZEFwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ0NhbmNpb25MaXN0Q29udHJvbGxlcicsQ2FuY2lvbkxpc3RDb250cm9sbGVyKTtcclxuXHJcbiAgICBDYW5jaW9uTGlzdENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJ0NhbmNpb24nLCAnJG1kRGlhbG9nJywnJG1kVG9hc3QnLCAnJHN0YXRlUGFyYW1zJywgJyRzdGF0ZScgXTtcclxuICAgIGZ1bmN0aW9uIENhbmNpb25MaXN0Q29udHJvbGxlcigkc2NvcGUsIENhbmNpb24sICRtZERpYWxvZywgJG1kVG9hc3QsICRzdGF0ZVBhcmFtcywgJHN0YXRlKXtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgIHZtLmNhbmNpb25lcyA9IENhbmNpb24ucXVlcnkoKTtcclxuICAgICAgICB2bS5vcHRpb25zID0ge1xyXG4gICAgICAgICAgICByb3dIZWlnaHQ6IDUwLFxyXG4gICAgICAgICAgICBmb290ZXJIZWlnaHQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBoZWFkZXJIZWlnaHQ6IDUwLFxyXG4gICAgICAgICAgICBzY3JvbGxiYXJWOiBmYWxzZSxcclxuICAgICAgICAgICAgc2VsZWN0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGNvbHVtbk1vZGU6ICdmb3JjZSdcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2bS5zaG93QWRkID0gc2hvd0FkZDtcclxuICAgICAgICB2bS5kZWxldGUgPSBkb0RlbGV0ZTtcclxuICAgICAgICB2bS5zaG93RWRpdCA9IG5hdmlnYXRlVG9JdGVtO1xyXG4gICAgICAgIHZtLmhpZGUgPSAkbWREaWFsb2cuY2FuY2VsO1xyXG5cclxuICAgICAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpe1xyXG4gICAgICAgICAgICBpZigkc3RhdGVQYXJhbXMuaWQpe1xyXG4gICAgICAgICAgICAgICAgQ2FuY2lvbi5nZXQoe2lkOiRzdGF0ZVBhcmFtcy5pZH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3dFZGl0KHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2hvd0FkZChldil7XHJcbiAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdBZGRDYW5jaW9uQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL2NhbmNpb25lcy9hZGQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgIHRhcmdldEV2ZW50OiBldlxyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG5ld01vZGVsKXtcclxuICAgICAgICAgICAgICAgIGlmKG5ld01vZGVsIT0gdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICBhZGRPclVwZGF0ZUxpc3Qodm0uY2FuY2lvbmVzLCBuZXdNb2RlbClcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZG9EZWxldGUocm93LCAkZXZlbnQpe1xyXG4gICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBDYW5jaW9uLmRlbGV0ZSh7aWQ6cm93LmlkfSkuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICBpZihyZXNwb25zZS5lcnJvcilcclxuICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLm1lc3NhZ2UpKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB2bS5jYW5jaW9uZXMuaW5kZXhPZihyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZtLmNhbmNpb25lcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBuYXZpZ2F0ZVRvSXRlbShyb3cpe1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oXCJjYW5jaW9uZXNcIix7aWQ6cm93LmlkfSwge25vdGlmeTpmYWxzZX0pO1xyXG4gICAgICAgICAgICBzaG93RWRpdChyb3cpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNob3dFZGl0KHJvdyl7XHJcbiAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZEl0ZW0gPSBhbmd1bGFyLmNvcHkocm93KTtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdm0uY2FuY2lvbmVzLmluZGV4T2Yocm93KTtcclxuICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0FkZENhbmNpb25Db250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvY2FuY2lvbmVzL2FkZC5odG1sJyxcclxuICAgICAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxyXG4gICAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZS4kbmV3KClcclxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihlZGl0ZWQpe1xyXG4gICAgICAgICAgICAgICAgaWYoZWRpdGVkIT0gdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmFkZE9yVXBkYXRlTGlzdCh2bS5jYW5jaW9uZXMsIGVkaXRlZCwgaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKFwiY2FuY2lvbmVzXCIse2lkOicnfSwge25vdGlmeTpmYWxzZX0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICB9XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdBZGRDYXRlZ29yaWFDb250cm9sbGVyJyxBZGRDYXRlZ29yaWFDb250cm9sbGVyKTtcclxuICAgIEFkZENhdGVnb3JpYUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywnJG1kVG9hc3QnLCAnJG1kRGlhbG9nJywgJ0NhdGVnb3JpYSddO1xyXG4gICAgZnVuY3Rpb24gQWRkQ2F0ZWdvcmlhQ29udHJvbGxlcigkc2NvcGUsICRtZFRvYXN0LCAkbWREaWFsb2csIENhdGVnb3JpYSkge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgIHZtLmNhdGVnb3JpYSA9IG51bGw7XHJcbiAgICAgICAgdm0uZWRpdCA9IGZhbHNlO1xyXG5cclxuICAgICAgICB2bS5oaWRlID0gJG1kRGlhbG9nLmhpZGU7XHJcbiAgICAgICAgdm0uc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgIHZtLmF0dGVtcHRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHZtLnN1Ym1pdCA9IHN1Ym1pdDtcclxuXHJcbiAgICAgICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgICAgLyoqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKXtcclxuICAgICAgICAgICAgaWYgKCRzY29wZS5zZWxlY3RlZEl0ZW0gIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB2bS5jYXRlZ29yaWEgPSAkc2NvcGUuc2VsZWN0ZWRJdGVtO1xyXG4gICAgICAgICAgICAgICAgdm0uZWRpdCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICAgICAgdm0uY2F0ZWdvcmlhID0gbmV3IENhdGVnb3JpYSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc3VibWl0KCkge1xyXG4gICAgICAgICAgICB2bS5hdHRlbXB0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoISRzY29wZS5mb3JtLiR2YWxpZClcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGlmICh2bS5lZGl0KVxyXG4gICAgICAgICAgICAgICAgdXBkYXRlKCk7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHNhdmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNhdmUoKSB7XHJcbiAgICAgICAgICAgIENhdGVnb3JpYS5zYXZlKHZtLmNhdGVnb3JpYSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChyZXNwb25zZS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQoXCJOdWV2byBhZCBndWFyZGFkb1wiKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2bS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlKCkge1xyXG4gICAgICAgICAgICBDYXRlZ29yaWEudXBkYXRlKHtpZDogdm0uY2F0ZWdvcmlhLmlkfSwgdm0uY2F0ZWdvcmlhKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgdm0uc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUodm0uY2F0ZWdvcmlhKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE1heGkgb24gNy8zMS8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdDYXRlZ29yaWFMaXN0Q29udHJvbGxlcicsIENhdGVnb3JpYUxpc3RDb250cm9sbGVyKTtcclxuICAgIENhdGVnb3JpYUxpc3RDb250cm9sbGVyLiRpbmplY3QgPSBbJ0NhdGVnb3JpYScsICckcm9vdFNjb3BlJywnJHNjb3BlJywnJG1kRGlhbG9nJywgJyRtZFRvYXN0JywgJyRzdGF0ZScsICckc3RhdGVQYXJhbXMnXTtcclxuXHJcbiAgICBmdW5jdGlvbiBDYXRlZ29yaWFMaXN0Q29udHJvbGxlcihDYXRlZ29yaWEsJHJvb3RTY29wZSwgJHNjb3BlLCAkbWREaWFsb2csICRtZFRvYXN0LCAkc3RhdGUsICRzdGF0ZVBhcmFtcyl7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICB2bS5jYXRlZ29yaWFzID0gQ2F0ZWdvcmlhLnF1ZXJ5KCk7XHJcbiAgICAgICAgdm0ub3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgcm93SGVpZ2h0OiA1MCxcclxuICAgICAgICAgICAgZm9vdGVySGVpZ2h0OiBmYWxzZSxcclxuICAgICAgICAgICAgaGVhZGVySGVpZ2h0OiA1MCxcclxuICAgICAgICAgICAgc2Nyb2xsYmFyVjogZmFsc2UsXHJcbiAgICAgICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBjb2x1bW5Nb2RlOiAnZm9yY2UnXHJcbiAgICAgICAgfTtcclxuICAgICAgICB2bS5zaG93QWRkID0gc2hvd0FkZDtcclxuICAgICAgICB2bS5kZWxldGUgPSBkb0RlbGV0ZTtcclxuICAgICAgICB2bS5zaG93RWRpdCA9IG5hdmlnYXRlVG9JdGVtO1xyXG5cclxuICAgICAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpe1xyXG4gICAgICAgICAgICBpZigkc3RhdGVQYXJhbXMuaWQpe1xyXG4gICAgICAgICAgICAgICAgQ2F0ZWdvcmlhLmdldCh7aWQ6JHN0YXRlUGFyYW1zLmlkfSkuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd0VkaXQocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBuYXZpZ2F0ZVRvSXRlbShyb3cpe1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oXCJjYXRlZ29yaWFzXCIse2lkOnJvdy5pZH0sIHtub3RpZnk6ZmFsc2V9KTtcclxuICAgICAgICAgICAgc2hvd0VkaXQocm93KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzaG93QWRkKGV2KSB7XHJcbiAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdBZGRDYXRlZ29yaWFDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvY2F0ZWdvcmlhcy9hZGQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgIHRhcmdldEV2ZW50OiBldlxyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChuZXdFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5ld0V2ZW50ICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgdm0uY2F0ZWdvcmlhcy5wdXNoKG5ld0V2ZW50KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZG9EZWxldGUocm93LCAkZXZlbnQpIHtcclxuICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgdmFyIGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybSgpXHJcbiAgICAgICAgICAgICAgICAuY29udGVudCgnRXN0YSBzZWd1cm8gcXVlIGRlc2VhIGJvcnJhciBlc3RlIGVsZW1lbnRvJylcclxuICAgICAgICAgICAgICAgIC5vaygnQm9ycmFyJylcclxuICAgICAgICAgICAgICAgIC5jYW5jZWwoJ0NhbmNlbGFyJylcclxuICAgICAgICAgICAgICAgIC50YXJnZXRFdmVudCgkZXZlbnQpO1xyXG5cclxuICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgQ2F0ZWdvcmlhLmRlbGV0ZSh7aWQ6IHJvdy5pZH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UubWVzc2FnZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB2bS5jYXRlZ29yaWFzLmluZGV4T2Yocm93KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdm0uY2F0ZWdvcmlhcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2hvd0VkaXQocm93KSB7XHJcbiAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZEl0ZW0gPSByb3c7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHZtLmNhdGVnb3JpYXMuaW5kZXhPZihyb3cpO1xyXG4gICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQWRkQ2F0ZWdvcmlhQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6J3ZtJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvY2F0ZWdvcmlhcy9hZGQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUuJG5ldygpXHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oZWRpdGVkKXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYmFja1wiLCBlZGl0ZWQpO1xyXG4gICAgICAgICAgICAgICAgaWYoZWRpdGVkIT0gdHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmFkZE9yVXBkYXRlTGlzdCh2bS5jYXRlZ29yaWFzLCBlZGl0ZWQsIGluZGV4KTtcclxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbyhcImNhdGVnb3JpYXNcIix7aWQ6Jyd9LCB7bm90aWZ5OmZhbHNlfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBNYXhpIG9uIDcvMzEvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiYWNrZW5kQXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignQ29tZW50YXJpb0NvbnRyb2xsZXInLFsnJHNjb3BlJywgJ0NvbWVudGFyaW8nLCAnJG1kRGlhbG9nJywnJG1kVG9hc3QnLFxyXG4gICAgICAgIGZ1bmN0aW9uKCRzY29wZSwgQ29tZW50YXJpbywgJG1kRGlhbG9nLCAkbWRUb2FzdCl7XHJcbiAgICAgICAgICAgIHZhciBkYXRhO1xyXG5cclxuICAgICAgICAgICAgQ29tZW50YXJpby5xdWVyeSgpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpeyRzY29wZS5jb21lbnRhcmlvcyA9IGRhdGEgPSByZXNwb25zZTskc2NvcGUuZmlsdGVyKCk7fSk7XHJcbiAgICAgICAgICAgICRzY29wZS5oaWRlID0gJG1kRGlhbG9nLmhpZGU7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUub3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIHJvd0hlaWdodDogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgZm9vdGVySGVpZ2h0OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGhlYWRlckhlaWdodDogNTAsXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxiYXJWOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY29sdW1uTW9kZTogJ2ZvcmNlJ1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmZpbHRlcnMgPSB7XHJcbiAgICAgICAgICAgICAgICBhcHJvYmFkb3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgcGVuZGllbnRlczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHJlY2hhemFkb3M6IGZhbHNlXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZmlsdGVyID0gZnVuY3Rpb24obmV3VmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZighZGF0YSlyZXR1cm47XHJcbiAgICAgICAgICAgICAgICBpZighJHNjb3BlLmZpbHRlcnMuYXByb2JhZG9zICYmISRzY29wZS5maWx0ZXJzLnBlbmRpZW50ZXMgJiYgISRzY29wZS5maWx0ZXJzLnJlY2hhemFkb3MpXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvbWVudGFyaW9zID0gW107XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvbWVudGFyaW9zID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24oZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXByb2JhZG8gPSBkLmFwcm9iYWRvO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmV0b3JubyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2goYXByb2JhZG8pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldG9ybm8gPSAkc2NvcGUuZmlsdGVycy5hcHJvYmFkb3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0b3JubyA9ICRzY29wZS5maWx0ZXJzLnJlY2hhemFkb3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIC0xOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldG9ybm8gPSAkc2NvcGUuZmlsdGVycy5wZW5kaWVudGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXRvcm5vO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgICRzY29wZS4kd2F0Y2goJ2ZpbHRlcnMnLCAkc2NvcGUuZmlsdGVyICwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZGVsZXRlID0gZnVuY3Rpb24ocm93LCAkZXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBDb21lbnRhcmlvLmRlbGV0ZSh7aWQ6cm93LmlkfSkuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZXJyb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChyZXNwb25zZS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChyZXNwb25zZS5tZXNzYWdlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5jb21lbnRhcmlvcy5pbmRleE9mKHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jb21lbnRhcmlvcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5hcHByb3ZlID0gZnVuY3Rpb24ocm93LCBpc0FwcHJvdmVkLCAkZXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJhcHJvYmFyXCIsIHJvdyk7XHJcbiAgICAgICAgICAgICAgICByb3cuYXByb2JhZG8gPSBpc0FwcHJvdmVkID8gMSA6IDA7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyKCk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3VibWl0dGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBDb21lbnRhcmlvLnVwZGF0ZSh7aWQ6IHJvdy5pZH0sIHJvdykuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZShyb3cpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93RWRpdCA9IGZ1bmN0aW9uKHJvdyl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRJdGVtID0gcm93O1xyXG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvY29tZW50YXJpb3MvYWRkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUuJG5ldygpLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFNob3dDb21lbnRhcmlvQ29udHJvbGxlclxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBTaG93Q29tZW50YXJpb0NvbnRyb2xsZXIoJHNjb3BlLCAkbWREaWFsb2cpe1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvbWVudGFyaW8gPSAkc2NvcGUuc2VsZWN0ZWRJdGVtO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJJTklUXCIsICRzY29wZS5jb21lbnRhcmlvKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIF0pO1xyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE1heGkgb24gNy8zMS8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdDdWVudG9Db250cm9sbGVyJyxbJyRzY29wZScsICdDdWVudG8nLCAnJG1kRGlhbG9nJywnJG1kVG9hc3QnLFxyXG4gICAgICAgIGZ1bmN0aW9uKCRzY29wZSwgQ3VlbnRvLCAkbWREaWFsb2csICRtZFRvYXN0KXtcclxuICAgICAgICAgICAgdmFyIGRhdGE7XHJcblxyXG4gICAgICAgICAgICBDdWVudG8ucXVlcnkoKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXskc2NvcGUuY3VlbnRvcyA9IGRhdGEgPSByZXNwb25zZTt9KTtcclxuICAgICAgICAgICAgJHNjb3BlLmhpZGUgPSAkbWREaWFsb2cuaGlkZTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5vcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgcm93SGVpZ2h0OiAnYXV0bycsXHJcbiAgICAgICAgICAgICAgICBmb290ZXJIZWlnaHQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVySGVpZ2h0OiA1MCxcclxuICAgICAgICAgICAgICAgIHNjcm9sbGJhclY6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBjb2x1bW5Nb2RlOiAnZm9yY2UnXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZmlsdGVycyA9IHtcclxuICAgICAgICAgICAgICAgIGFwcm9iYWRvczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBwZW5kaWVudGVzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHJlY2hhemFkb3M6IGZhbHNlXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZmlsdGVyID0gZnVuY3Rpb24obmV3VmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZighZGF0YSlyZXR1cm47XHJcbiAgICAgICAgICAgICAgICBpZighJHNjb3BlLmZpbHRlcnMuYXByb2JhZG9zICYmISRzY29wZS5maWx0ZXJzLnBlbmRpZW50ZXMgJiYgISRzY29wZS5maWx0ZXJzLnJlY2hhemFkb3MpXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmN1ZW50b3MgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jdWVudG9zID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24oZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXByb2JhZG8gPSBkLmFwcm9iYWRvO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoKGFwcm9iYWRvKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmV0b3JubyA9ICRzY29wZS5maWx0ZXJzLmFwcm9iYWRvcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmV0b3JubyA9ICRzY29wZS5maWx0ZXJzLnJlY2hhemFkb3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIC0xOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXRvcm5vID0gJHNjb3BlLmZpbHRlcnMucGVuZGllbnRlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0b3JubztcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS4kd2F0Y2goJ2ZpbHRlcnMnLCAkc2NvcGUuZmlsdGVyICwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZGVsZXRlID0gZnVuY3Rpb24ocm93LCAkZXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBDdWVudG8uZGVsZXRlKHtpZDpyb3cuaWR9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihyZXNwb25zZS5lcnJvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLmVycm9yKS50aGVtZShcImVycm9yLXRvYXN0XCIpKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLm1lc3NhZ2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLmN1ZW50b3MuaW5kZXhPZihyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY3VlbnRvcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5hcHByb3ZlID0gZnVuY3Rpb24ocm93LCBpc0FwcHJvdmVkLCAkZXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJhcHJvYmFyXCIsIHJvdyk7XHJcbiAgICAgICAgICAgICAgICByb3cuYXByb2JhZG8gPSBpc0FwcHJvdmVkID8gMSA6IDA7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyKCk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3VibWl0dGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBDdWVudG8udXBkYXRlKHtpZDogcm93LmlkfSwgcm93KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKHJvdyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnNob3dFZGl0ID0gZnVuY3Rpb24ocm93KXtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZEl0ZW0gPSByb3c7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9jdWVudG9zL2FkZC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLiRuZXcoKSxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBTaG93Q3VlbnRvQ29udHJvbGxlclxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBTaG93Q3VlbnRvQ29udHJvbGxlcigkc2NvcGUsICRtZERpYWxvZyl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIklOSVRcIik7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY3VlbnRvID0gJHNjb3BlLnNlbGVjdGVkSXRlbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIF0pO1xyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE1heGkgb24gNy8zMS8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdDdWVudG9Db250cm9sbGVyJyxbJyRzY29wZScsICdDdWVudG8nLCAnJG1kRGlhbG9nJywnJG1kVG9hc3QnLFxyXG4gICAgICAgIGZ1bmN0aW9uKCRzY29wZSwgQ3VlbnRvLCAkbWREaWFsb2csICRtZFRvYXN0KXtcclxuICAgICAgICAgICAgdmFyIGRhdGE7XHJcblxyXG4gICAgICAgICAgICBDdWVudG8ucXVlcnkoKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXskc2NvcGUuY3VlbnRvcyA9IGRhdGEgPSByZXNwb25zZTt9KTtcclxuICAgICAgICAgICAgJHNjb3BlLmhpZGUgPSAkbWREaWFsb2cuaGlkZTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5vcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgcm93SGVpZ2h0OiAnYXV0bycsXHJcbiAgICAgICAgICAgICAgICBmb290ZXJIZWlnaHQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVySGVpZ2h0OiA1MCxcclxuICAgICAgICAgICAgICAgIHNjcm9sbGJhclY6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBjb2x1bW5Nb2RlOiAnZm9yY2UnXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZmlsdGVycyA9IHtcclxuICAgICAgICAgICAgICAgIGFwcm9iYWRvczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBwZW5kaWVudGVzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHJlY2hhemFkb3M6IGZhbHNlXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZmlsdGVyID0gZnVuY3Rpb24obmV3VmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZighZGF0YSlyZXR1cm47XHJcbiAgICAgICAgICAgICAgICBpZighJHNjb3BlLmZpbHRlcnMuYXByb2JhZG9zICYmISRzY29wZS5maWx0ZXJzLnBlbmRpZW50ZXMgJiYgISRzY29wZS5maWx0ZXJzLnJlY2hhemFkb3MpXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmN1ZW50b3MgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jdWVudG9zID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24oZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXByb2JhZG8gPSBkLmFwcm9iYWRvO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoKGFwcm9iYWRvKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmV0b3JubyA9ICRzY29wZS5maWx0ZXJzLmFwcm9iYWRvcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmV0b3JubyA9ICRzY29wZS5maWx0ZXJzLnJlY2hhemFkb3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIC0xOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXRvcm5vID0gJHNjb3BlLmZpbHRlcnMucGVuZGllbnRlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0b3JubztcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS4kd2F0Y2goJ2ZpbHRlcnMnLCAkc2NvcGUuZmlsdGVyICwgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZGVsZXRlID0gZnVuY3Rpb24ocm93LCAkZXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBDdWVudG8uZGVsZXRlKHtpZDpyb3cuaWR9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihyZXNwb25zZS5lcnJvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLmVycm9yKS50aGVtZShcImVycm9yLXRvYXN0XCIpKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLm1lc3NhZ2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLmN1ZW50b3MuaW5kZXhPZihyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY3VlbnRvcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5hcHByb3ZlID0gZnVuY3Rpb24ocm93LCBpc0FwcHJvdmVkLCAkZXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJhcHJvYmFyXCIsIHJvdyk7XHJcbiAgICAgICAgICAgICAgICByb3cuYXByb2JhZG8gPSBpc0FwcHJvdmVkID8gMSA6IDA7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyKCk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3VibWl0dGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBDdWVudG8udXBkYXRlKHtpZDogcm93LmlkfSwgcm93KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKHJvdyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnNob3dFZGl0ID0gZnVuY3Rpb24ocm93KXtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZEl0ZW0gPSByb3c7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9jdWVudG9zL2FkZC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLiRuZXcoKSxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBTaG93Q3VlbnRvQ29udHJvbGxlclxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBTaG93Q3VlbnRvQ29udHJvbGxlcigkc2NvcGUsICRtZERpYWxvZyl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIklOSVRcIik7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY3VlbnRvID0gJHNjb3BlLnNlbGVjdGVkSXRlbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIF0pO1xyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE1heGkgb24gNy8zMS8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiYWNrZW5kQXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignQWRkRGlzY29Db250cm9sbGVyJywgQWRkRGlzY29Db250cm9sbGVyKTtcclxuICAgIEFkZERpc2NvQ29udHJvbGxlci4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJyRzY29wZScsICckbWRUb2FzdCcsICckbWREaWFsb2cnLCAnRGlzY28nLCAnVXBsb2FkJ11cclxuXHJcbiAgICBmdW5jdGlvbiBBZGREaXNjb0NvbnRyb2xsZXIoJHJvb3RTY29wZSwgJHNjb3BlLCAkbWRUb2FzdCwgJG1kRGlhbG9nLCBEaXNjbywgVXBsb2FkKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICB2bS5oaWRlID0gJG1kRGlhbG9nLmhpZGU7XHJcbiAgICAgICAgdm0uZWRpdCA9IGZhbHNlO1xyXG4gICAgICAgIHZtLmRpc2NvID0gbnVsbDtcclxuICAgICAgICB2bS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdm0uYXR0ZW1wdGVkID0gZmFsc2U7XHJcbiAgICAgICAgdm0ucHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgIHZtLmZpbGVDaGFuZ2VkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHZtLmZpbGVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZtLmZpbGVDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZtLnN1Ym1pdCA9IHN1Ym1pdDtcclxuXHJcbiAgICAgICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuc2VsZWN0ZWRJdGVtICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdm0uZGlzY28gPSAkc2NvcGUuc2VsZWN0ZWRJdGVtO1xyXG4gICAgICAgICAgICAgICAgdm0uZWRpdCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICAgICAgdm0uZGlzY28gPSBuZXcgRGlzY28oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHN1Ym1pdCgpIHtcclxuICAgICAgICAgICAgdm0uYXR0ZW1wdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKCEkc2NvcGUuZm9ybS4kdmFsaWQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBpZiAodm0uZmlsZUNoYW5nZWQpXHJcbiAgICAgICAgICAgICAgICB1cGxvYWRBbmRTYXZlKCk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHZtLmVkaXQpXHJcbiAgICAgICAgICAgICAgICB1cGRhdGUoKTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgc2F2ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2F2ZSgpIHtcclxuICAgICAgICAgICAgdm0uZGlzY28uJHNhdmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSh2bS5kaXNjbyk7XHJcbiAgICAgICAgICAgICAgICB2bS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQoXCJOdWV2byBkaXNjbyBndWFyZGFkb1wiKSk7XHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLmRhdGEuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgdm0uc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHVwbG9hZEFuZFNhdmUoKSB7XHJcbiAgICAgICAgICAgIHZtLnN1Ym1pdHRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgICAgIHVybDogJHJvb3RTY29wZS51cGxvYWRfdXJsLFxyXG4gICAgICAgICAgICAgICAgZmlsZTogdm0uZGlzY28uY292ZXJfaW1nXHJcbiAgICAgICAgICAgIH0pLnByb2dyZXNzKGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgIHZtLnByb2dyZXNzID0gcGFyc2VJbnQoMTAwLjAgKiBldnQubG9hZGVkIC8gZXZ0LnRvdGFsKTtcclxuICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcclxuICAgICAgICAgICAgICAgIHZtLmRpc2NvLmNvdmVyX2ltZyA9IGRhdGEudXJsO1xyXG4gICAgICAgICAgICAgICAgdm0uZmlsZUNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdm0ucHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZtLmVkaXQpXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgc2F2ZSgpO1xyXG4gICAgICAgICAgICB9KS5lcnJvcihmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcclxuICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChkYXRhLmVycm9yKS50aGVtZShcImVycm9yLXRvYXN0XCIpKTtcclxuICAgICAgICAgICAgICAgIHZtLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHZtLnByb2dyZXNzID0gMDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGUoKSB7XHJcbiAgICAgICAgICAgIERpc2NvLnVwZGF0ZSh7aWQ6IHZtLmRpc2NvLmlkfSwgdm0uZGlzY28pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB2bS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSh2bS5kaXNjbyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmFja2VuZEFwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ0Rpc2NvTGlzdENvbnRyb2xsZXInLERpc2NvTGlzdENvbnRyb2xsZXIpO1xyXG4gICAgRGlzY29MaXN0Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJHJvb3RTY29wZScsJyRzdGF0ZScsICdEaXNjbycsICckbWREaWFsb2cnLCckbWRUb2FzdCcsICckc3RhdGVQYXJhbXMnXTtcclxuICAgIGZ1bmN0aW9uIERpc2NvTGlzdENvbnRyb2xsZXIoJHNjb3BlLCRyb290U2NvcGUsICRzdGF0ZSwgRGlzY28sICRtZERpYWxvZywgJG1kVG9hc3QsJHN0YXRlUGFyYW1zKXtcclxuICAgICAgICB2YXIgdm0gPSB0aGlzO1xyXG4gICAgICAgIHZtLmRpc2NvcyA9IERpc2NvLnF1ZXJ5KCk7XHJcbiAgICAgICAgdm0ub3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgcm93SGVpZ2h0OiA1MCxcclxuICAgICAgICAgICAgZm9vdGVySGVpZ2h0OiBmYWxzZSxcclxuICAgICAgICAgICAgaGVhZGVySGVpZ2h0OiA1MCxcclxuICAgICAgICAgICAgc2Nyb2xsYmFyVjogZmFsc2UsXHJcbiAgICAgICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBjb2x1bW5Nb2RlOiAnZm9yY2UnXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdm0uc2hvd0FkZCA9IHNob3dBZGQ7XHJcbiAgICAgICAgdm0uZGVsZXRlID0gZG9EZWxldGU7XHJcbiAgICAgICAgdm0uc2hvd0VkaXQgPSBuYXZpZ2F0ZVRvSXRlbTtcclxuXHJcbiAgICAgICAgYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKXtcclxuICAgICAgICAgICAgaWYoJHN0YXRlUGFyYW1zLmlkKXtcclxuICAgICAgICAgICAgICAgIERpc2NvLmdldCh7aWQ6JHN0YXRlUGFyYW1zLmlkfSkuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd0VkaXQocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGZ1bmN0aW9uIG5hdmlnYXRlVG9JdGVtKHJvdyl7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbyhcImRpc2Nvc1wiLHtpZDpyb3cuaWR9LCB7bm90aWZ5OmZhbHNlfSk7XHJcbiAgICAgICAgICAgIHNob3dFZGl0KHJvdyk7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNob3dBZGQoZXYpIHtcclxuICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0FkZERpc2NvQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL2Rpc2Nvcy9hZGQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgIHRhcmdldEV2ZW50OiBldlxyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChuZXdFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5ld0V2ZW50ICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgdm0uZGlzY29zLnB1c2gobmV3RXZlbnQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGRvRGVsZXRlKHJvdywgJGV2ZW50KSB7XHJcbiAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIERpc2NvLmRlbGV0ZSh7aWQ6IHJvdy5pZH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLmVycm9yKS50aGVtZShcImVycm9yLXRvYXN0XCIpKTtcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChyZXNwb25zZS5tZXNzYWdlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdm0uZGlzY29zLmluZGV4T2Yocm93KTtcclxuICAgICAgICAgICAgICAgICAgICB2bS5kaXNjb3Muc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2hvd0VkaXQocm93KSB7XHJcbiAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZEl0ZW0gPSByb3c7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHZtLmRpc2Nvcy5pbmRleE9mKHJvdyk7XHJcbiAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdBZGREaXNjb0NvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9kaXNjb3MvYWRkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLiRuZXcoKVxyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKGVkaXRlZCl7XHJcbiAgICAgICAgICAgICAgICBpZihlZGl0ZWQhPSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuYWRkT3JVcGRhdGVMaXN0KHZtLmRpc2NvcywgZWRpdGVkLCBpbmRleCk7XHJcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oXCJkaXNjb3NcIix7aWQ6Jyd9LCB7bm90aWZ5OmZhbHNlfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmFja2VuZEFwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ0V2ZW50b0xpc3RDb250cm9sbGVyJyxbJyRzY29wZScsICdFdmVudG8nLCAnJG1kRGlhbG9nJywnJG1kVG9hc3QnLFxyXG4gICAgICAgIGZ1bmN0aW9uKCRzY29wZSwgRXZlbnRvLCAkbWREaWFsb2csICRtZFRvYXN0KXtcclxuICAgICAgICAgICAgJHNjb3BlLmV2ZW50b3MgPSBFdmVudG8ucXVlcnkoKTtcclxuICAgICAgICAgICAgJHNjb3BlLm9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICByb3dIZWlnaHQ6IDUwLFxyXG4gICAgICAgICAgICAgICAgZm9vdGVySGVpZ2h0OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGhlYWRlckhlaWdodDogNTAsXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxiYXJWOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY29sdW1uTW9kZTogJ2ZvcmNlJ1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0FkZCA9IGZ1bmN0aW9uKGV2KXtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQWRkRXZlbnRvQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9ldmVudG9zL2FkZC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRFdmVudDogZXZcclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obmV3RXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKG5ld0V2ZW50IT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdFdmVudC5mZWNoYSA9IG5ldyBEYXRlKG5ld0V2ZW50LmZlY2hhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50b3MucHVzaChuZXdFdmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGUgPSBmdW5jdGlvbihyb3csICRldmVudCl7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIEV2ZW50by5kZWxldGUoe2lkOnJvdy5pZH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmVycm9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UubWVzc2FnZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUuZXZlbnRvcy5pbmRleE9mKHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudG9zLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0VkaXQgPSBmdW5jdGlvbihyb3cpe1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkSXRlbSA9IHJvdztcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQWRkRXZlbnRvQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9ldmVudG9zL2FkZC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLiRuZXcoKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgXSk7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdBZGRFdmVudG9Db250cm9sbGVyJyxbJyRyb290U2NvcGUnLCckc2NvcGUnLCckbWRUb2FzdCcsICckbWREaWFsb2cnLCAnRXZlbnRvJywnVXBsb2FkJyxcclxuICAgICAgICBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsJG1kVG9hc3QsICRtZERpYWxvZywgRXZlbnRvLCBVcGxvYWQpe1xyXG4gICAgICAgICAgICBpZigkc2NvcGUuc2VsZWN0ZWRJdGVtIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRvID0gJHNjb3BlLnNlbGVjdGVkSXRlbTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudG8uZmVjaGEgPSBuZXcgRGF0ZSgkc2NvcGUuZXZlbnRvLmZlY2hhKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5lZGl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudG8gPSBuZXcgRXZlbnRvKCk7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuaGlkZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS5hdHRlbXB0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmF0dGVtcHRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZighJHNjb3BlLmZvcm0uJHZhbGlkKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZigkc2NvcGUuZmlsZUNoYW5nZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgdXBsb2FkQW5kU2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZigkc2NvcGUuZWRpdClcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBzYXZlKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzYXZlKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50by4kc2F2ZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgkc2NvcGUuZXZlbnRvKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChcIk51ZXZvIGV2ZW50byBndWFyZGFkb1wiKSk7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UuZGF0YS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRzY29wZS5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgICAgICRzY29wZS5maWxlQ2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUuZmlsZUNoYW5nZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBmdW5jdGlvbiB1cGxvYWRBbmRTYXZlKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkcm9vdFNjb3BlLnVwbG9hZF91cmwsXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZTogJHNjb3BlLmV2ZW50by5pbWFnZW5cclxuICAgICAgICAgICAgICAgIH0pLnByb2dyZXNzKGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvZ3Jlc3MgPSBwYXJzZUludCgxMDAuMCAqIGV2dC5sb2FkZWQgLyBldnQudG90YWwpO1xyXG4gICAgICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRvLmltYWdlbiA9IGRhdGEudXJsO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2dyZXNzID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZigkc2NvcGUuZWRpdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzYXZlKCk7XHJcbiAgICAgICAgICAgICAgICB9KS5lcnJvcihmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQoZGF0YS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcclxuICAgICAgICAgICAgICAgIEV2ZW50by51cGRhdGUoe2lkOiAkc2NvcGUuZXZlbnRvLmlkfSwgJHNjb3BlLmV2ZW50bykuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgkc2NvcGUuZXZlbnRvKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXSk7XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmFja2VuZEFwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ0V2ZW50b0xpc3RDb250cm9sbGVyJyxbJyRzY29wZScsICdFdmVudG8nLCAnJG1kRGlhbG9nJywnJG1kVG9hc3QnLFxyXG4gICAgICAgIGZ1bmN0aW9uKCRzY29wZSwgRXZlbnRvLCAkbWREaWFsb2csICRtZFRvYXN0KXtcclxuICAgICAgICAgICAgJHNjb3BlLmV2ZW50b3MgPSBFdmVudG8ucXVlcnkoKTtcclxuICAgICAgICAgICAgJHNjb3BlLm9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICByb3dIZWlnaHQ6IDUwLFxyXG4gICAgICAgICAgICAgICAgZm9vdGVySGVpZ2h0OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGhlYWRlckhlaWdodDogNTAsXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxiYXJWOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY29sdW1uTW9kZTogJ2ZvcmNlJ1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0FkZCA9IGZ1bmN0aW9uKGV2KXtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQWRkRXZlbnRvQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9ldmVudG9zL2FkZC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRFdmVudDogZXZcclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obmV3RXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKG5ld0V2ZW50IT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdFdmVudC5mZWNoYSA9IG5ldyBEYXRlKG5ld0V2ZW50LmZlY2hhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50b3MucHVzaChuZXdFdmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGUgPSBmdW5jdGlvbihyb3csICRldmVudCl7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIEV2ZW50by5kZWxldGUoe2lkOnJvdy5pZH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmVycm9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UubWVzc2FnZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUuZXZlbnRvcy5pbmRleE9mKHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudG9zLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0VkaXQgPSBmdW5jdGlvbihyb3cpe1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkSXRlbSA9IHJvdztcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQWRkRXZlbnRvQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9ldmVudG9zL2FkZC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLiRuZXcoKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgXSk7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdBZGRFdmVudG9Db250cm9sbGVyJyxbJyRyb290U2NvcGUnLCckc2NvcGUnLCckbWRUb2FzdCcsICckbWREaWFsb2cnLCAnRXZlbnRvJywnVXBsb2FkJyxcclxuICAgICAgICBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsJG1kVG9hc3QsICRtZERpYWxvZywgRXZlbnRvLCBVcGxvYWQpe1xyXG4gICAgICAgICAgICBpZigkc2NvcGUuc2VsZWN0ZWRJdGVtIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRvID0gJHNjb3BlLnNlbGVjdGVkSXRlbTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudG8uZmVjaGEgPSBuZXcgRGF0ZSgkc2NvcGUuZXZlbnRvLmZlY2hhKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5lZGl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudG8gPSBuZXcgRXZlbnRvKCk7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuaGlkZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS5hdHRlbXB0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmF0dGVtcHRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZighJHNjb3BlLmZvcm0uJHZhbGlkKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZigkc2NvcGUuZmlsZUNoYW5nZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgdXBsb2FkQW5kU2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZigkc2NvcGUuZWRpdClcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBzYXZlKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzYXZlKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50by4kc2F2ZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgkc2NvcGUuZXZlbnRvKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChcIk51ZXZvIGV2ZW50byBndWFyZGFkb1wiKSk7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UuZGF0YS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRzY29wZS5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgICAgICRzY29wZS5maWxlQ2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUuZmlsZUNoYW5nZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBmdW5jdGlvbiB1cGxvYWRBbmRTYXZlKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgVXBsb2FkLnVwbG9hZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkcm9vdFNjb3BlLnVwbG9hZF91cmwsXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZTogJHNjb3BlLmV2ZW50by5pbWFnZW5cclxuICAgICAgICAgICAgICAgIH0pLnByb2dyZXNzKGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvZ3Jlc3MgPSBwYXJzZUludCgxMDAuMCAqIGV2dC5sb2FkZWQgLyBldnQudG90YWwpO1xyXG4gICAgICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRvLmltYWdlbiA9IGRhdGEudXJsO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2dyZXNzID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZigkc2NvcGUuZWRpdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzYXZlKCk7XHJcbiAgICAgICAgICAgICAgICB9KS5lcnJvcihmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQoZGF0YS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcclxuICAgICAgICAgICAgICAgIEV2ZW50by51cGRhdGUoe2lkOiAkc2NvcGUuZXZlbnRvLmlkfSwgJHNjb3BlLmV2ZW50bykuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgkc2NvcGUuZXZlbnRvKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXSk7XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmFja2VuZEFwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ0FkZEludGVncmFudGVDb250cm9sbGVyJywgQWRkSW50ZWdyYW50ZUNvbnRyb2xsZXIpO1xyXG5cclxuICAgIEFkZEludGVncmFudGVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsJyRyb290U2NvcGUnLCckbWRUb2FzdCcsICckbWREaWFsb2cnLCAnSW50ZWdyYW50ZScsICdEaXNjbycsICdVcGxvYWQnXTtcclxuXHJcbiAgICBmdW5jdGlvbiBBZGRJbnRlZ3JhbnRlQ29udHJvbGxlcigkc2NvcGUsICRyb290U2NvcGUsJG1kVG9hc3QsICRtZERpYWxvZywgSW50ZWdyYW50ZSwgRGlzY28sIFVwbG9hZCl7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICB2bS5lZGl0ID0gZmFsc2U7XHJcbiAgICAgICAgdm0uZGlzY29zID0gRGlzY28ucXVlcnkoKTtcclxuICAgICAgICB2bS5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgdm0uc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgIHZtLmZpbGVDaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgdm0uYXR0ZW1wdGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHZtLnN1Ym1pdCA9IHN1Ym1pdDtcclxuICAgICAgICB2bS5maWxlQ2hhbmdlID0gZmlsZUNoYW5nZTtcclxuICAgICAgICB2bS5oaWRlID0gJG1kRGlhbG9nLmhpZGU7XHJcblxyXG4gICAgICAgIGlmKCRzY29wZS5zZWxlY3RlZEl0ZW0gIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHZtLmludGVncmFudGUgPSAkc2NvcGUuc2VsZWN0ZWRJdGVtO1xyXG4gICAgICAgICAgICB2bS5lZGl0ID0gdHJ1ZTtcclxuICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICB2bS5pbnRlZ3JhbnRlID0gbmV3IEludGVncmFudGUoKTtcclxuXHJcbiAgICAgICAgLyoqKioqKipmdW5jdGlvbnMqKioqKioqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHN1Ym1pdCgpe1xyXG4gICAgICAgICAgICB2bS5hdHRlbXB0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB2bS5zdWJtaXR0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYoISRzY29wZS5mb3JtLiR2YWxpZClcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGlmKHZtLmZpbGVDaGFuZ2VkKVxyXG4gICAgICAgICAgICAgICAgdXBsb2FkQW5kU2F2ZSgpO1xyXG4gICAgICAgICAgICBlbHNlIGlmKHZtLmVkaXQpXHJcbiAgICAgICAgICAgICAgICB1cGRhdGUoKTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgc2F2ZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICBmdW5jdGlvbiBmaWxlQ2hhbmdlKCl7XHJcbiAgICAgICAgICAgIHZtLmZpbGVDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiB1cGxvYWRBbmRTYXZlKCkge1xyXG4gICAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgICAgIHVybDogJHJvb3RTY29wZS51cGxvYWRfdXJsLFxyXG4gICAgICAgICAgICAgICAgZmlsZTogdm0uaW50ZWdyYW50ZS5pbWFnZW5cclxuICAgICAgICAgICAgfSkucHJvZ3Jlc3MoZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgdm0ucHJvZ3Jlc3MgPSBwYXJzZUludCgxMDAuMCAqIGV2dC5sb2FkZWQgLyBldnQudG90YWwpO1xyXG4gICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xyXG4gICAgICAgICAgICAgICAgdm0uaW50ZWdyYW50ZS5pbWFnZW4gPSBkYXRhLnVybDtcclxuICAgICAgICAgICAgICAgIHZtLmZpbGVDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHZtLnByb2dyZXNzPTA7XHJcbiAgICAgICAgICAgICAgICBpZih2bS5lZGl0KVxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHNhdmUoKTtcclxuICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQoZGF0YS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICB2bS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB2bS5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2F2ZSgpIHtcclxuICAgICAgICAgICAgSW50ZWdyYW50ZS5zYXZlKHZtLmludGVncmFudGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlLCBhbGdvLCBhbGdvMikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYWxnbyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhbGdvMik7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZShyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KFwiTnVldmEgaW50ZWdyYW50ZSBndWFyZGFkb1wiKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2bS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlKCkge1xyXG4gICAgICAgICAgICBJbnRlZ3JhbnRlLnVwZGF0ZSh7aWQ6IHZtLmludGVncmFudGUuaWR9LCB2bS5pbnRlZ3JhbnRlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgICAgIHZtLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKHZtLmludGVncmFudGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmFja2VuZEFwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ0ludGVncmFudGVMaXN0Q29udHJvbGxlcicsSW50ZWdyYW50ZUxpc3RDb250cm9sbGVyKTtcclxuXHJcbiAgICBJbnRlZ3JhbnRlTGlzdENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZScsJyRzY29wZScsICdJbnRlZ3JhbnRlJywgJyRtZERpYWxvZycsJyRtZFRvYXN0JywgJyRzdGF0ZVBhcmFtcycsICckc3RhdGUnIF07XHJcbiAgICBmdW5jdGlvbiBJbnRlZ3JhbnRlTGlzdENvbnRyb2xsZXIoJHJvb3RTY29wZSwgJHNjb3BlLCBJbnRlZ3JhbnRlLCAkbWREaWFsb2csICRtZFRvYXN0LCAkc3RhdGVQYXJhbXMsICRzdGF0ZSl7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICB2bS5pbnRlZ3JhbnRlcyA9IEludGVncmFudGUucXVlcnkoKTtcclxuICAgICAgICB2bS5vcHRpb25zID0ge1xyXG4gICAgICAgICAgICByb3dIZWlnaHQ6IDUwLFxyXG4gICAgICAgICAgICBmb290ZXJIZWlnaHQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBoZWFkZXJIZWlnaHQ6IDUwLFxyXG4gICAgICAgICAgICBzY3JvbGxiYXJWOiBmYWxzZSxcclxuICAgICAgICAgICAgc2VsZWN0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGNvbHVtbk1vZGU6ICdmb3JjZSdcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2bS5zaG93QWRkID0gc2hvd0FkZDtcclxuICAgICAgICB2bS5kZWxldGUgPSBkb0RlbGV0ZTtcclxuICAgICAgICB2bS5zaG93RWRpdCA9IG5hdmlnYXRlVG9JdGVtO1xyXG4gICAgICAgIHZtLmhpZGUgPSAkbWREaWFsb2cuY2FuY2VsO1xyXG5cclxuICAgICAgICBhY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKi9cclxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpe1xyXG4gICAgICAgICAgICBpZigkc3RhdGVQYXJhbXMuaWQpe1xyXG4gICAgICAgICAgICAgICAgSW50ZWdyYW50ZS5nZXQoe2lkOiRzdGF0ZVBhcmFtcy5pZH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3dFZGl0KHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2hvd0FkZChldil7XHJcbiAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdBZGRJbnRlZ3JhbnRlQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL2ludGVncmFudGVzL2FkZC5odG1sJyxcclxuICAgICAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0RXZlbnQ6IGV2XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obmV3TW9kZWwpe1xyXG4gICAgICAgICAgICAgICAgaWYobmV3TW9kZWwhPSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgIGFkZE9yVXBkYXRlTGlzdCh2bS5pbnRlZ3JhbnRlcywgbmV3TW9kZWwpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGRvRGVsZXRlKHJvdywgJGV2ZW50KXtcclxuICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgSW50ZWdyYW50ZS5kZWxldGUoe2lkOnJvdy5pZH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZXJyb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLmVycm9yKS50aGVtZShcImVycm9yLXRvYXN0XCIpKTtcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChyZXNwb25zZS5tZXNzYWdlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdm0uaW50ZWdyYW50ZXMuaW5kZXhPZihyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZtLmludGVncmFudGVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG5hdmlnYXRlVG9JdGVtKHJvdyl7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbyhcImludGVncmFudGVzXCIse2lkOnJvdy5pZH0sIHtub3RpZnk6ZmFsc2V9KTtcclxuICAgICAgICAgICAgc2hvd0VkaXQocm93KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzaG93RWRpdChyb3cpe1xyXG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRJdGVtID0gYW5ndWxhci5jb3B5KHJvdyk7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHZtLmludGVncmFudGVzLmluZGV4T2Yocm93KTtcclxuICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0FkZEludGVncmFudGVDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvaW50ZWdyYW50ZXMvYWRkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLiRuZXcoKVxyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKGVkaXRlZCl7XHJcbiAgICAgICAgICAgICAgICBpZihlZGl0ZWQhPSB0cnVlKVxyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuYWRkT3JVcGRhdGVMaXN0KHZtLmludGVncmFudGVzLCBlZGl0ZWQsIGluZGV4KTtcclxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbyhcImludGVncmFudGVzXCIse2lkOicnfSwge25vdGlmeTpmYWxzZX0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE1heGkgb24gNy8zMS8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdBZGROb3RpY2lhQ29udHJvbGxlcicsWyckcm9vdFNjb3BlJywnJHNjb3BlJywnJG1kVG9hc3QnLCAnJG1kRGlhbG9nJywgJ05vdGljaWEnLCdDYXRlZ29yaWEnLCdWaWRlbycsJ0NhbmNpb24nLCdBZCcsICdVcGxvYWQnLCdUYWcnLFxyXG4gICAgICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsJHNjb3BlLCRtZFRvYXN0LCAkbWREaWFsb2csIE5vdGljaWEsIENhdGVnb3JpYSwgVmlkZW8sIENhbmNpb24sIEFkLCBVcGxvYWQsIFRhZyl7XHJcbiAgICAgICAgICAgIGlmKCRzY29wZS5zZWxlY3RlZEl0ZW0hPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ub3RpY2lhID0gJHNjb3BlLnNlbGVjdGVkSXRlbTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ub3RpY2lhLmZlY2hhID0gbmV3IERhdGUoJHNjb3BlLm5vdGljaWEuZmVjaGEpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5vdGljaWEuY2F0ZWdvcmlhX2lkID0gJHNjb3BlLm5vdGljaWEuY2F0ZWdvcmlhc1swXS5pZDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ub3RpY2lhLnZpZGVvX2lkID0gJHNjb3BlLm5vdGljaWEudmlkZW8uaWQ7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubm90aWNpYS5jYW5jaW9uX2lkID0gJHNjb3BlLm5vdGljaWEuY2FuY2lvbi5pZDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5lZGl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5vdGljaWEgPSBuZXcgTm90aWNpYSgpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5vdGljaWEudGFncyA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuY2F0ZWdvcmlhcyA9IENhdGVnb3JpYS5xdWVyeSgpO1xyXG4gICAgICAgICAgICAkc2NvcGUudmlkZW9zID0gVmlkZW8ucXVlcnkoKTtcclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNpb25lcyA9IENhbmNpb24ucXVlcnkoKTtcclxuICAgICAgICAgICAgJHNjb3BlLmFkcyA9IEFkLnF1ZXJ5KCk7XHJcbiAgICAgICAgICAgICRzY29wZS50YWdzID0gVGFnLnF1ZXJ5KCk7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUucG9zaWNpb25lcyA9IG5ldyBBcnJheSg2KTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5oaWRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHNjb3BlLmF0dGVtcHRlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXR0ZW1wdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmKCEkc2NvcGUuZm9ybS4kdmFsaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCRzY29wZS5maWxlQ2hhbmdlZClcclxuICAgICAgICAgICAgICAgICAgICB1cGxvYWRBbmRTYXZlKCk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmKCRzY29wZS5lZGl0KVxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHNhdmUoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNhdmUoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubm90aWNpYS4kc2F2ZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgkc2NvcGUubm90aWNpYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQoXCJOdWV2YSBub3RpY2lhIGd1YXJkYWRhXCIpKTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChyZXNwb25zZS5kYXRhLmVycm9yKS50aGVtZShcImVycm9yLXRvYXN0XCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJHNjb3BlLnByb2dyZXNzID0gMDtcclxuICAgICAgICAgICAgJHNjb3BlLmZpbGVDaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS5maWxlQ2hhbmdlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICRzY29wZS5maWxlQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHVwbG9hZEFuZFNhdmUoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3VibWl0dGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6ICRyb290U2NvcGUudXBsb2FkX3VybCxcclxuICAgICAgICAgICAgICAgICAgICBmaWxlOiAkc2NvcGUubm90aWNpYS5pbWFnZW5cclxuICAgICAgICAgICAgICAgIH0pLnByb2dyZXNzKGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvZ3Jlc3MgPSBwYXJzZUludCgxMDAuMCAqIGV2dC5sb2FkZWQgLyBldnQudG90YWwpO1xyXG4gICAgICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubm90aWNpYS5pbWFnZW49IGRhdGEudXJsO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2dyZXNzID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZigkc2NvcGUuZWRpdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzYXZlKCk7XHJcbiAgICAgICAgICAgICAgICB9KS5lcnJvcihmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQoZGF0YS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcclxuICAgICAgICAgICAgICAgIE5vdGljaWEudXBkYXRlKHtpZDogJHNjb3BlLm5vdGljaWEuaWR9LCAkc2NvcGUubm90aWNpYSkuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubm90aWNpYSA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ub3RpY2lhLmZlY2hhID0gbmV3IERhdGUoJHNjb3BlLm5vdGljaWEuZmVjaGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ub3RpY2lhLmNhdGVnb3JpYV9pZCA9ICRzY29wZS5ub3RpY2lhLmNhdGVnb3JpYXNbMF0uaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5vdGljaWEudmlkZW9faWQgPSAkc2NvcGUubm90aWNpYS52aWRlby5pZDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubm90aWNpYS5jYW5jaW9uX2lkID0gJHNjb3BlLm5vdGljaWEuY2FuY2lvbi5pZDtcclxuICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZShyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIC8qKioqVEFHUyBDSElQUyAqKioqKioqKioqL1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnNlYXJjaFRleHQgPSBudWxsO1xyXG4gICAgICAgICAgICAkc2NvcGUucXVlcnlTZWFyY2ggPSBxdWVyeVNlYXJjaDtcclxuICAgICAgICAgICAgJHNjb3BlLnRhZ3MgPSBsb2FkVGFncygpO1xyXG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRUYWdzID0gW107XHJcbiAgICAgICAgICAgICRzY29wZS5udW1iZXJDaGlwcyA9IFtdO1xyXG4gICAgICAgICAgICAkc2NvcGUubnVtYmVyQ2hpcHMyID0gW107XHJcbiAgICAgICAgICAgICRzY29wZS5udW1iZXJCdWZmZXIgPSAnJztcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFNlYXJjaCBmb3IgdGFncy5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHF1ZXJ5U2VhcmNoIChxdWVyeSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBxdWVyeSA/ICRzY29wZS50YWdzLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuZmlsdGVyKGNyZWF0ZUZpbHRlckZvcihxdWVyeSkpO1xyXG4gICAgICAgICAgICAgICAgfSk6IFtdO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAqIEFkZCBuZXcgdGFnIGlmIGl0IGRvZXNudCBleGlzdFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgJHNjb3BlLm5ld1RhZyA9ICBmdW5jdGlvbiAoY2hpcCl7XHJcbiAgICAgICAgICAgICAgICBpZighY2hpcC5ub21icmUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3VGFnID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBub21icmU6IGNoaXBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld1RhZztcclxuICAgICAgICAgICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoaXA7XHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQ3JlYXRlIGZpbHRlciBmdW5jdGlvbiBmb3IgYSBxdWVyeSBzdHJpbmdcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUZpbHRlckZvcihxdWVyeSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxvd2VyY2FzZVF1ZXJ5ID0gYW5ndWxhci5sb3dlcmNhc2UocXVlcnkpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGZpbHRlckZuKHRhZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAodGFnLm5vbWJyZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YobG93ZXJjYXNlUXVlcnkpID09PSAwKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gbG9hZFRhZ3MoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gVGFnLnF1ZXJ5KCkuJHByb21pc2UudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXSk7XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmFja2VuZEFwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ05vdGljaWFMaXN0Q29udHJvbGxlcicsWyckc2NvcGUnLCAnTm90aWNpYScsICckbWREaWFsb2cnLCAnJG1kVG9hc3QnLFxyXG4gICAgICAgIGZ1bmN0aW9uKCRzY29wZSwgTm90aWNpYSwgJG1kRGlhbG9nLCAkbWRUb2FzdCl7XHJcbiAgICAgICAgICAgICRzY29wZS5ub3RpY2lhcyA9IE5vdGljaWEucXVlcnkoKTtcclxuICAgICAgICAgICAgJHNjb3BlLm9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICByb3dIZWlnaHQ6IDUwLFxyXG4gICAgICAgICAgICAgICAgZm9vdGVySGVpZ2h0OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGhlYWRlckhlaWdodDogNTAsXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxiYXJWOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY29sdW1uTW9kZTogJ2ZvcmNlJ1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0FkZCA9IGZ1bmN0aW9uKGV2KXtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQWRkTm90aWNpYUNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvbm90aWNpYXMvYWRkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEV2ZW50OiBldlxyXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihuZXdNb2RlbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYobmV3TW9kZWwhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubm90aWNpYXMucHVzaChuZXdNb2RlbCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZSA9IGZ1bmN0aW9uKHJvdywgJGV2ZW50KXtcclxuICAgICAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgTm90aWNpYS5kZWxldGUoe2lkOnJvdy5pZH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmVycm9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UubWVzc2FnZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUubm90aWNpYXMuaW5kZXhPZihyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubm90aWNpYXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93RWRpdCA9IGZ1bmN0aW9uKHJvdyl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRJdGVtID0gcm93O1xyXG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdBZGROb3RpY2lhQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9ub3RpY2lhcy9hZGQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZS4kbmV3KClcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIF0pO1xyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE1heGkgb24gNy8zMS8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdBZGRBZENvbnRyb2xsZXInLEFkZEFkQ29udHJvbGxlcik7XHJcblxyXG4gICAgQWRkQWRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCckc2NvcGUnLCckbWRUb2FzdCcsICckbWREaWFsb2cnLCAnQWQnLCAnVXBsb2FkJ107XHJcbiAgICBmdW5jdGlvbiBBZGRBZENvbnRyb2xsZXIoJHJvb3RTY29wZSwgJHNjb3BlLCAkbWRUb2FzdCwgJG1kRGlhbG9nLCBBZCwgVXBsb2FkKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgdm0uZWRpdCA9IGZhbHNlO1xyXG4gICAgICAgIHZtLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICB2bS5hdHRlbXB0ZWQgPSBmYWxzZTtcclxuICAgICAgICB2bS5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgdm0uZmlsZUNoYW5nZWQgPSBmYWxzZTtcclxuICAgICAgICB2bS5zaXplcyA9IFsgXCIzMDB4MjUwXCIsIFwiMzAweDYwMFwiLCBcIjcyOFg5MFwiLCBcIjMyMHg1MFwiLCBcIjgxMFg1NTBcIl07XHJcbiAgICAgICAgdm0ucG9zaWNpb25lcyA9IFsxLCAyLCAzXTtcclxuXHJcbiAgICAgICAgaWYgKCRzY29wZS5zZWxlY3RlZEl0ZW0gIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHZtLmFkID0gJHNjb3BlLnNlbGVjdGVkSXRlbTtcclxuICAgICAgICAgICAgdm0uZWRpdCA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgIHZtLmFkID0gbmV3IEFkO1xyXG5cclxuICAgICAgICB2bS5oaWRlID0gJG1kRGlhbG9nLmhpZGU7XHJcblxyXG4gICAgICAgIHZtLnN1Ym1pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdm0uYXR0ZW1wdGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmICghJHNjb3BlLmFkRm9ybS4kdmFsaWQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB2bS5zdWJtaXR0aW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmICh2bS5maWxlQ2hhbmdlZClcclxuICAgICAgICAgICAgICAgIHVwbG9hZEFuZFNhdmUoKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAodm0uZWRpdClcclxuICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBzYXZlKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdm0uZmlsZUNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdm0uZmlsZUNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNhdmUoKSB7XHJcbiAgICAgICAgICAgIHZtLmFkLiRzYXZlKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUodm0uYWQpO1xyXG4gICAgICAgICAgICAgICAgdm0uc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KFwiTnVldm8gYWQgZ3VhcmRhZG9cIikpO1xyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChyZXNwb25zZS5kYXRhLmVycm9yKS50aGVtZShcImVycm9yLXRvYXN0XCIpKTtcclxuICAgICAgICAgICAgICAgIHZtLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlKCkge1xyXG4gICAgICAgICAgICBBZC51cGRhdGUoe2lkOiB2bS5hZC5pZH0sIHZtLmFkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJmaW5pc2hlZFwiLCByZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICB2bS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSh2bS5hZCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdXBsb2FkQW5kU2F2ZSgpIHtcclxuICAgICAgICAgICAgdm0uc3VibWl0dGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiAkcm9vdFNjb3BlLnVwbG9hZF91cmwsXHJcbiAgICAgICAgICAgICAgICBmaWxlOiB2bS5hZC5zb3VyY2VcclxuICAgICAgICAgICAgfSkucHJvZ3Jlc3MoZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgdm0ucHJvZ3Jlc3MgPSBwYXJzZUludCgxMDAuMCAqIGV2dC5sb2FkZWQgLyBldnQudG90YWwpO1xyXG4gICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xyXG4gICAgICAgICAgICAgICAgdm0uYWQuc291cmNlID0gZGF0YS51cmw7XHJcbiAgICAgICAgICAgICAgICB2bS5hZC50eXBlID0gZGF0YS50eXBlO1xyXG4gICAgICAgICAgICAgICAgdm0uZmlsZUNoYW5nZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHZtLnByb2dyZXNzID0gMDtcclxuICAgICAgICAgICAgICAgIGlmICh2bS5lZGl0KVxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHNhdmUoKTtcclxuICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQoZGF0YS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICB2bS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB2bS5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE1heGkgb24gNy8zMS8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdBZExpc3RDb250cm9sbGVyJyxBZExpc3RDb250cm9sbGVyKTtcclxuICAgIEFkTGlzdENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZScsJyRzY29wZScsJ0FkJywgJyRtZERpYWxvZycsICckbWRUb2FzdCcsICckc3RhdGUnXTtcclxuICAgIGZ1bmN0aW9uIEFkTGlzdENvbnRyb2xsZXIoJHJvb3RTY29wZSwgJHNjb3BlLCBBZCwgJG1kRGlhbG9nLCAkbWRUb2FzdCwgJHN0YXRlKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgdm0uYWRzID0gQWQucXVlcnkoKTtcclxuICAgICAgICB2bS5zaG93RWRpdCA9IG5hdmlnYXRlVG9JdGVtO1xyXG5cclxuICAgICAgICB2bS5vcHRpb25zID0ge1xyXG4gICAgICAgICAgICByb3dIZWlnaHQ6IFwiYXV0b1wiLFxyXG4gICAgICAgICAgICBmb290ZXJIZWlnaHQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBoZWFkZXJIZWlnaHQ6IDUwLFxyXG4gICAgICAgICAgICBzY3JvbGxiYXJWOiBmYWxzZSxcclxuICAgICAgICAgICAgc2VsZWN0YWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGNvbHVtbk1vZGU6ICdmb3JjZSdcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2bS5zaG93QWRkID0gZnVuY3Rpb24gKGV2KSB7XHJcbiAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdBZGRBZENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy9wcm9tb3MvYWRkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgICAgICAgICB0YXJnZXRFdmVudDogZXZcclxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAobmV3T2JqKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV3T2JqIT09dHJ1ZSlcclxuICAgICAgICAgICAgICAgICAgICB2bS5hZHMucHVzaChuZXdPYmopO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2bS5kZWxldGUgPSBmdW5jdGlvbiAocm93LCAkZXZlbnQpIHtcclxuICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgdmFyIGNvbmZpcm0gPSAkbWREaWFsb2cuY29uZmlybSgpXHJcbiAgICAgICAgICAgICAgICAuY29udGVudCgnRXN0YSBzZWd1cm8gcXVlIGRlc2VhIGJvcnJhciBlc3RlIGVsZW1lbnRvJylcclxuICAgICAgICAgICAgICAgIC5vaygnQm9ycmFyJylcclxuICAgICAgICAgICAgICAgIC5jYW5jZWwoJ0NhbmNlbGFyJylcclxuICAgICAgICAgICAgICAgIC50YXJnZXRFdmVudCgkZXZlbnQpO1xyXG5cclxuICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coY29uZmlybSkudGhlbihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgQWQuZGVsZXRlKHtpZDogcm93LmlkfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChyZXNwb25zZS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChyZXNwb25zZS5tZXNzYWdlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHZtLmFkcy5pbmRleE9mKHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLmFkcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG5hdmlnYXRlVG9JdGVtKHJvdyl7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbyhcImFkc1wiLHtpZDpyb3cuaWR9LCB7bm90aWZ5OmZhbHNlfSk7XHJcbiAgICAgICAgICAgIHNob3dFZGl0KHJvdyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBmdW5jdGlvbiBzaG93RWRpdChyb3cpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkSXRlbSA9IHJvdztcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdm0uYWRzLmluZGV4T2Yocm93KTtcclxuICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0FkZEFkQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL3Byb21vcy9hZGQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUuJG5ldygpXHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oZWRpdGVkKXtcclxuICAgICAgICAgICAgICAgIGlmKGVkaXRlZCE9IHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5hZGRPclVwZGF0ZUxpc3Qodm0uYWRzLCBlZGl0ZWQsIGluZGV4KTtcclxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbyhcImFkc1wiLHtpZDonJ30sIHtub3RpZnk6ZmFsc2V9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9XHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgTWF4aSBvbiA3LzMxLzIwMTUuXHJcbiAqL1xyXG4oZnVuY3Rpb24oKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnYmFja2VuZEFwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ1VzZXJMaXN0Q29udHJvbGxlcicsWyckc2NvcGUnLCAnVXNlcicsICckbWREaWFsb2cnLCAnVVNFUl9ST0xFUycsJyRtZFRvYXN0JyxcclxuICAgICAgICBmdW5jdGlvbigkc2NvcGUsIFVzZXIsICRtZERpYWxvZywgVVNFUl9ST0xFUywgJG1kVG9hc3Qpe1xyXG4gICAgICAgICAgICAkc2NvcGUudXNlcnMgPSBVc2VyLnF1ZXJ5KCk7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUucm9sZXMgPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLnJvbGVzW1VTRVJfUk9MRVMuYWRtaW4gXT0gXCJBZG1pbmlzdHJhZG9yXCI7XHJcbiAgICAgICAgICAgICRzY29wZS5yb2xlc1tVU0VSX1JPTEVTLmVkaXRvcl09IFwiRWRpdG9yXCI7XHJcbiAgICAgICAgICAgICRzY29wZS5yb2xlc1tVU0VSX1JPTEVTLmVkaXRvclBsdXNdPVwiRWRpdG9yIFBsdXNcIjtcclxuICAgICAgICAgICAgJHNjb3BlLnJvbGVzW1VTRVJfUk9MRVMuYW5hbGlzdGFdPVwiQW5hbGlzdGFcIjtcclxuICAgICAgICAgICAgJHNjb3BlLnJvbGVzW1VTRVJfUk9MRVMubGVjdG9yXT1cIkxlY3RvclwiO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLm9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICByb3dIZWlnaHQ6IDUwLFxyXG4gICAgICAgICAgICAgICAgZm9vdGVySGVpZ2h0OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGhlYWRlckhlaWdodDogNTAsXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxiYXJWOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgY29sdW1uTW9kZTogJ2ZvcmNlJ1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnNob3dBZGQgPSBmdW5jdGlvbihldil7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1VzZXJDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL3VzZXJzL2FkZC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRFdmVudDogZXZcclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obmV3RXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKG5ld0V2ZW50IT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVzZXJzLnB1c2gobmV3RXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZGVsZXRlID0gZnVuY3Rpb24ocm93LCAkZXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBVc2VyLmRlbGV0ZSh7aWQ6cm93LmlkfSkuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2UuZXJyb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChyZXNwb25zZS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChyZXNwb25zZS5tZXNzYWdlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS51c2Vycy5pbmRleE9mKHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS51c2Vycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnNob3dFZGl0ID0gZnVuY3Rpb24ocm93KXtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZEl0ZW0gPSByb3c7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1VzZXJDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxzL3VzZXJzL2FkZC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLiRuZXcoKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgXSk7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdVc2VyQ29udHJvbGxlcicsWyckcm9vdFNjb3BlJywnJHNjb3BlJywnJG1kVG9hc3QnLCAnJG1kRGlhbG9nJywgJ1VzZXInLCdVcGxvYWQnLCdVU0VSX1JPTEVTJyxcclxuICAgICAgICBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsJG1kVG9hc3QsICRtZERpYWxvZywgVXNlciwgVXBsb2FkLCBVU0VSX1JPTEVTKXtcclxuICAgICAgICAgICAgaWYoJHNjb3BlLnNlbGVjdGVkSXRlbSE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnVzZXIgPSAkc2NvcGUuc2VsZWN0ZWRJdGVtO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmVkaXQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnVzZXIgPSBuZXcgVXNlcigpO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHNjb3BlLmF0dGVtcHRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUucHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgICAgICAkc2NvcGUuZmlsZWNoYW5nZWQgPSBmYWxzZTtcclxuXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUucm9sZXMgPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLnJvbGVzW1VTRVJfUk9MRVMuYWRtaW4gXT0gXCJBZG1pbmlzdHJhZG9yXCI7XHJcbiAgICAgICAgICAgICRzY29wZS5yb2xlc1tVU0VSX1JPTEVTLmVkaXRvcl09IFwiRWRpdG9yXCI7XHJcbiAgICAgICAgICAgICRzY29wZS5yb2xlc1tVU0VSX1JPTEVTLmVkaXRvclBsdXNdPVwiRWRpdG9yIFBsdXNcIjtcclxuICAgICAgICAgICAgJHNjb3BlLnJvbGVzW1VTRVJfUk9MRVMuYW5hbGlzdGFdPVwiQW5hbGlzdGFcIjtcclxuICAgICAgICAgICAgJHNjb3BlLnJvbGVzW1VTRVJfUk9MRVMubGVjdG9yXT1cIkxlY3RvclwiO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmhpZGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdHRlbXB0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYoISRzY29wZS5mb3JtLiR2YWxpZClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoJHNjb3BlLmZpbGVDaGFuZ2VkKVxyXG4gICAgICAgICAgICAgICAgICAgIHVwbG9hZEFuZFNhdmUoKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYoJHNjb3BlLmVkaXQpXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgc2F2ZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNhdmUoKSB7XHJcbiAgICAgICAgICAgICAgICBVc2VyLnNhdmUoJHNjb3BlLnVzZXIsZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5lcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQoZGF0YS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUoJHNjb3BlLnVzZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQoXCJOdWV2byB1c3VhcmlvIGd1YXJkYWRvXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5maWxlQ2hhbmdlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICRzY29wZS5maWxlY2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gdXBsb2FkQW5kU2F2ZSgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdWJtaXR0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogJHJvb3RTY29wZS51cGxvYWRfdXJsLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGU6ICRzY29wZS51c2VyLmltYWdlblxyXG4gICAgICAgICAgICAgICAgfSkucHJvZ3Jlc3MoZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9ncmVzcyA9IHBhcnNlSW50KDEwMC4wICogZXZ0LmxvYWRlZCAvIGV2dC50b3RhbCk7XHJcbiAgICAgICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS51c2VyLmltYWdlbiA9IGRhdGEudXJsO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlY2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2dyZXNzID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZigkc2NvcGUuZWRpdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzYXZlKCk7XHJcbiAgICAgICAgICAgICAgICB9KS5lcnJvcihmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQoZGF0YS5lcnJvcikudGhlbWUoXCJlcnJvci10b2FzdFwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcclxuICAgICAgICAgICAgICAgIFVzZXIudXBkYXRlKHtpZDogJHNjb3BlLnVzZXIuaWR9LCAkc2NvcGUudXNlcikuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgkc2NvcGUudXNlcik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIF0pO1xyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IE1heGkgb24gNy8zMS8yMDE1LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdVc2VyTGlzdENvbnRyb2xsZXInLFsnJHNjb3BlJywgJ1VzZXInLCAnJG1kRGlhbG9nJywgJ1VTRVJfUk9MRVMnLCckbWRUb2FzdCcsXHJcbiAgICAgICAgZnVuY3Rpb24oJHNjb3BlLCBVc2VyLCAkbWREaWFsb2csIFVTRVJfUk9MRVMsICRtZFRvYXN0KXtcclxuICAgICAgICAgICAgJHNjb3BlLnVzZXJzID0gVXNlci5xdWVyeSgpO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnJvbGVzID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5yb2xlc1tVU0VSX1JPTEVTLmFkbWluIF09IFwiQWRtaW5pc3RyYWRvclwiO1xyXG4gICAgICAgICAgICAkc2NvcGUucm9sZXNbVVNFUl9ST0xFUy5lZGl0b3JdPSBcIkVkaXRvclwiO1xyXG4gICAgICAgICAgICAkc2NvcGUucm9sZXNbVVNFUl9ST0xFUy5lZGl0b3JQbHVzXT1cIkVkaXRvciBQbHVzXCI7XHJcbiAgICAgICAgICAgICRzY29wZS5yb2xlc1tVU0VSX1JPTEVTLmFuYWxpc3RhXT1cIkFuYWxpc3RhXCI7XHJcbiAgICAgICAgICAgICRzY29wZS5yb2xlc1tVU0VSX1JPTEVTLmxlY3Rvcl09XCJMZWN0b3JcIjtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5vcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgcm93SGVpZ2h0OiA1MCxcclxuICAgICAgICAgICAgICAgIGZvb3RlckhlaWdodDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJIZWlnaHQ6IDUwLFxyXG4gICAgICAgICAgICAgICAgc2Nyb2xsYmFyVjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGNvbHVtbk1vZGU6ICdmb3JjZSdcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93QWRkID0gZnVuY3Rpb24oZXYpe1xyXG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdVc2VyQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy91c2Vycy9hZGQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RXZlbnQ6IGV2XHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG5ld0V2ZW50KXtcclxuICAgICAgICAgICAgICAgICAgICBpZihuZXdFdmVudCE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS51c2Vycy5wdXNoKG5ld0V2ZW50KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZSA9IGZ1bmN0aW9uKHJvdywgJGV2ZW50KXtcclxuICAgICAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgVXNlci5kZWxldGUoe2lkOnJvdy5pZH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmVycm9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkbWRUb2FzdC5zaG93KCRtZFRvYXN0LnNpbXBsZSgpLmNvbnRlbnQocmVzcG9uc2UubWVzc2FnZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUudXNlcnMuaW5kZXhPZihyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXNlcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93RWRpdCA9IGZ1bmN0aW9uKHJvdyl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRJdGVtID0gcm93O1xyXG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdVc2VyQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy91c2Vycy9hZGQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZS4kbmV3KClcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIF0pO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiYWNrZW5kQXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignVXNlckNvbnRyb2xsZXInLFsnJHJvb3RTY29wZScsJyRzY29wZScsJyRtZFRvYXN0JywgJyRtZERpYWxvZycsICdVc2VyJywnVXBsb2FkJywnVVNFUl9ST0xFUycsXHJcbiAgICAgICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgJHNjb3BlLCRtZFRvYXN0LCAkbWREaWFsb2csIFVzZXIsIFVwbG9hZCwgVVNFUl9ST0xFUyl7XHJcbiAgICAgICAgICAgIGlmKCRzY29wZS5zZWxlY3RlZEl0ZW0hPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS51c2VyID0gJHNjb3BlLnNlbGVjdGVkSXRlbTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5lZGl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfWVsc2VcclxuICAgICAgICAgICAgICAgICRzY29wZS51c2VyID0gbmV3IFVzZXIoKTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS5hdHRlbXB0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHNjb3BlLnByb2dyZXNzID0gMDtcclxuICAgICAgICAgICAgJHNjb3BlLmZpbGVjaGFuZ2VkID0gZmFsc2U7XHJcblxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnJvbGVzID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5yb2xlc1tVU0VSX1JPTEVTLmFkbWluIF09IFwiQWRtaW5pc3RyYWRvclwiO1xyXG4gICAgICAgICAgICAkc2NvcGUucm9sZXNbVVNFUl9ST0xFUy5lZGl0b3JdPSBcIkVkaXRvclwiO1xyXG4gICAgICAgICAgICAkc2NvcGUucm9sZXNbVVNFUl9ST0xFUy5lZGl0b3JQbHVzXT1cIkVkaXRvciBQbHVzXCI7XHJcbiAgICAgICAgICAgICRzY29wZS5yb2xlc1tVU0VSX1JPTEVTLmFuYWxpc3RhXT1cIkFuYWxpc3RhXCI7XHJcbiAgICAgICAgICAgICRzY29wZS5yb2xlc1tVU0VSX1JPTEVTLmxlY3Rvcl09XCJMZWN0b3JcIjtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5oaWRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXR0ZW1wdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmKCEkc2NvcGUuZm9ybS4kdmFsaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCRzY29wZS5maWxlQ2hhbmdlZClcclxuICAgICAgICAgICAgICAgICAgICB1cGxvYWRBbmRTYXZlKCk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmKCRzY29wZS5lZGl0KVxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHNhdmUoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzYXZlKCkge1xyXG4gICAgICAgICAgICAgICAgVXNlci5zYXZlKCRzY29wZS51c2VyLGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KGRhdGEuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKCRzY29wZS51c2VyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KFwiTnVldm8gdXN1YXJpbyBndWFyZGFkb1wiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZmlsZUNoYW5nZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZWNoYW5nZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHVwbG9hZEFuZFNhdmUoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3VibWl0dGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBVcGxvYWQudXBsb2FkKHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6ICRyb290U2NvcGUudXBsb2FkX3VybCxcclxuICAgICAgICAgICAgICAgICAgICBmaWxlOiAkc2NvcGUudXNlci5pbWFnZW5cclxuICAgICAgICAgICAgICAgIH0pLnByb2dyZXNzKGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvZ3Jlc3MgPSBwYXJzZUludCgxMDAuMCAqIGV2dC5sb2FkZWQgLyBldnQudG90YWwpO1xyXG4gICAgICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXNlci5pbWFnZW4gPSBkYXRhLnVybDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZWNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoJHNjb3BlLmVkaXQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KGRhdGEuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2dyZXNzID0gMDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGUoKSB7XHJcbiAgICAgICAgICAgICAgICBVc2VyLnVwZGF0ZSh7aWQ6ICRzY29wZS51c2VyLmlkfSwgJHNjb3BlLnVzZXIpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUoJHNjb3BlLnVzZXIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBdKTtcclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBNYXhpIG9uIDcvMzEvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiYWNrZW5kQXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignVmlkZW9MaXN0Q29udHJvbGxlcicsWyckc2NvcGUnLCAnVmlkZW8nLCAnJG1kRGlhbG9nJywgJyRtZFRvYXN0JyxcclxuICAgICAgICBmdW5jdGlvbigkc2NvcGUsIFZpZGVvLCAkbWREaWFsb2csICRtZFRvYXN0KXtcclxuICAgICAgICAgICAgJHNjb3BlLnZpZGVvcyA9IFZpZGVvLnF1ZXJ5KCk7XHJcbiAgICAgICAgICAgICRzY29wZS5vcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgcm93SGVpZ2h0OiA1MCxcclxuICAgICAgICAgICAgICAgIGZvb3RlckhlaWdodDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJIZWlnaHQ6IDUwLFxyXG4gICAgICAgICAgICAgICAgc2Nyb2xsYmFyVjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGNvbHVtbk1vZGU6ICdmb3JjZSdcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dBZGQgPSBmdW5jdGlvbihldil7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0FkZFZpZGVvQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy92aWRlb3MvYWRkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEV2ZW50OiBldlxyXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihuZXdFdmVudCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYobmV3RXZlbnQhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmlkZW9zLnB1c2gobmV3RXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZGVsZXRlID0gZnVuY3Rpb24ocm93LCAkZXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBWaWRlby5kZWxldGUoe2lkOnJvdy5pZH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZihyZXNwb25zZS5lcnJvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLmVycm9yKS50aGVtZShcImVycm9yLXRvYXN0XCIpKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLm1lc3NhZ2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLnZpZGVvcy5pbmRleE9mKHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52aWRlb3Muc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93RWRpdCA9IGZ1bmN0aW9uKHJvdyl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRJdGVtID0gcm93O1xyXG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdBZGRWaWRlb0NvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvdmlkZW9zL2FkZC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLiRuZXcoKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgXSk7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdBZGRWaWRlb0NvbnRyb2xsZXInLFsnJHJvb3RTY29wZScsJyRzY29wZScsJyRtZFRvYXN0JywgJyRtZERpYWxvZycsICdWaWRlbycsJ0FkJywnVXBsb2FkJywnJHNjZScsJyRodHRwJyxcclxuICAgICAgICBmdW5jdGlvbigkcm9vdFNjb3BlLCRzY29wZSwkbWRUb2FzdCwgJG1kRGlhbG9nLCBWaWRlbywgQWQsIFVwbG9hZCwgJHNjZSwgJGh0dHApe1xyXG4gICAgICAgICAgICAkc2NvcGUuc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUuYXR0ZW1wdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgICAgICRzY29wZS5maWxlQ2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUuaXNMaW5rID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS55b3V0dWJlSWQgPSAnJztcclxuICAgICAgICAgICAgJHNjb3BlLmFkcyA9IEFkLnF1ZXJ5KCk7XHJcblxyXG4gICAgICAgICAgICBpZigkc2NvcGUuc2VsZWN0ZWRJdGVtIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlkZW8gPSAkc2NvcGUuc2VsZWN0ZWRJdGVtO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZpZGVvLmFkX2lkID0gJHNjb3BlLnZpZGVvLmFkLmlkO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmVkaXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYoJHNjb3BlLnZpZGVvLnR5cGU9PSd5b3V0dWJlJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzTGluayA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnlvdXR1YmVJZCA9ICRzY29wZS52aWRlby5zb3VyY2U7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAoJHNjb3BlLnZpZGVvLnR5cGUgPT0nIHZpZGVvJyl7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZpZGVvID0gbmV3IFZpZGVvO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXR0ZW1wdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmKCEkc2NvcGUuZm9ybS4kdmFsaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCRzY29wZS5maWxlQ2hhbmdlZCAmJiAhJHNjb3BlLmlzTGluaylcclxuICAgICAgICAgICAgICAgICAgICB1cGxvYWRBbmRTYXZlKCk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmKCRzY29wZS5lZGl0KVxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHNhdmUoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5oaWRlID0gJG1kRGlhbG9nLmhpZGU7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNhdmUoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlkZW8uJHNhdmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KFwiTnVldm8gYWQgZ3VhcmRhZG9cIikpO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLmRhdGEuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5maWxlQ2hhbmdlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICRzY29wZS5maWxlQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaXNMaW5rID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUubGlua0NoYW5nZWQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmlzTGluayA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5wb3N0KCRyb290U2NvcGUuc2VydmVyX3VybCArIFwiL2FwaS91dGlscy95b3V0dWJlXCIse3VybDogJHNjb3BlLnZpZGVvLnNvdXJjZX0pLnN1Y2Nlc3MoZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS55b3V0dWJlSWQgPScnO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmlkICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUueW91dHViZUlkID0gcmVzcG9uc2UuaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52aWRlby50eXBlID0gJ3lvdXR1YmUnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmdldFl0ID0gZnVuY3Rpb24odmlkZW9JZCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJHNjZS50cnVzdEFzUmVzb3VyY2VVcmwoJ2h0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLycgKyB2aWRlb0lkKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gdXBsb2FkQW5kU2F2ZSgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdWJtaXR0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogJHJvb3RTY29wZS51cGxvYWRfdXJsLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGU6ICRzY29wZS52aWRlby5zb3VyY2VcclxuICAgICAgICAgICAgICAgIH0pLnByb2dyZXNzKGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvZ3Jlc3MgPSBwYXJzZUludCgxMDAuMCAqIGV2dC5sb2FkZWQgLyBldnQudG90YWwpO1xyXG4gICAgICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmlkZW8uc291cmNlID0gZGF0YS51cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnZpZGVvLnR5cGUgPSBkYXRhLnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCRzY29wZS5lZGl0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhdmUoKTtcclxuICAgICAgICAgICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xyXG4gICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChkYXRhLmVycm9yKS50aGVtZShcImVycm9yLXRvYXN0XCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcclxuICAgICAgICAgICAgICAgIFZpZGVvLnVwZGF0ZSh7aWQ6ICRzY29wZS52aWRlby5pZH0sICRzY29wZS52aWRlbykuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgkc2NvcGUudmlkZW8pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBdKTtcclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBNYXhpIG9uIDcvMzEvMjAxNS5cclxuICovXHJcbihmdW5jdGlvbigpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdiYWNrZW5kQXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignVmlkZW9MaXN0Q29udHJvbGxlcicsWyckc2NvcGUnLCAnVmlkZW8nLCAnJG1kRGlhbG9nJywgJyRtZFRvYXN0JyxcclxuICAgICAgICBmdW5jdGlvbigkc2NvcGUsIFZpZGVvLCAkbWREaWFsb2csICRtZFRvYXN0KXtcclxuICAgICAgICAgICAgJHNjb3BlLnZpZGVvcyA9IFZpZGVvLnF1ZXJ5KCk7XHJcbiAgICAgICAgICAgICRzY29wZS5vcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgcm93SGVpZ2h0OiA1MCxcclxuICAgICAgICAgICAgICAgIGZvb3RlckhlaWdodDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJIZWlnaHQ6IDUwLFxyXG4gICAgICAgICAgICAgICAgc2Nyb2xsYmFyVjogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGNvbHVtbk1vZGU6ICdmb3JjZSdcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dBZGQgPSBmdW5jdGlvbihldil7XHJcbiAgICAgICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0FkZFZpZGVvQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFscy92aWRlb3MvYWRkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEV2ZW50OiBldlxyXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihuZXdFdmVudCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYobmV3RXZlbnQhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmlkZW9zLnB1c2gobmV3RXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZGVsZXRlID0gZnVuY3Rpb24ocm93LCAkZXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBWaWRlby5kZWxldGUoe2lkOnJvdy5pZH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZihyZXNwb25zZS5lcnJvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLmVycm9yKS50aGVtZShcImVycm9yLXRvYXN0XCIpKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLm1lc3NhZ2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLnZpZGVvcy5pbmRleE9mKHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52aWRlb3Muc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93RWRpdCA9IGZ1bmN0aW9uKHJvdyl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRJdGVtID0gcm93O1xyXG4gICAgICAgICAgICAgICAgJG1kRGlhbG9nLnNob3coe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdBZGRWaWRlb0NvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbHMvdmlkZW9zL2FkZC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSxcclxuICAgICAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLiRuZXcoKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgXSk7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2JhY2tlbmRBcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdBZGRWaWRlb0NvbnRyb2xsZXInLFsnJHJvb3RTY29wZScsJyRzY29wZScsJyRtZFRvYXN0JywgJyRtZERpYWxvZycsICdWaWRlbycsJ0FkJywnVXBsb2FkJywnJHNjZScsJyRodHRwJyxcclxuICAgICAgICBmdW5jdGlvbigkcm9vdFNjb3BlLCRzY29wZSwkbWRUb2FzdCwgJG1kRGlhbG9nLCBWaWRlbywgQWQsIFVwbG9hZCwgJHNjZSwgJGh0dHApe1xyXG4gICAgICAgICAgICAkc2NvcGUuc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUuYXR0ZW1wdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgICAgICRzY29wZS5maWxlQ2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUuaXNMaW5rID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS55b3V0dWJlSWQgPSAnJztcclxuICAgICAgICAgICAgJHNjb3BlLmFkcyA9IEFkLnF1ZXJ5KCk7XHJcblxyXG4gICAgICAgICAgICBpZigkc2NvcGUuc2VsZWN0ZWRJdGVtIT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlkZW8gPSAkc2NvcGUuc2VsZWN0ZWRJdGVtO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZpZGVvLmFkX2lkID0gJHNjb3BlLnZpZGVvLmFkLmlkO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmVkaXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYoJHNjb3BlLnZpZGVvLnR5cGU9PSd5b3V0dWJlJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzTGluayA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnlvdXR1YmVJZCA9ICRzY29wZS52aWRlby5zb3VyY2U7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAoJHNjb3BlLnZpZGVvLnR5cGUgPT0nIHZpZGVvJyl7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZpZGVvID0gbmV3IFZpZGVvO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXR0ZW1wdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmKCEkc2NvcGUuZm9ybS4kdmFsaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKCRzY29wZS5maWxlQ2hhbmdlZCAmJiAhJHNjb3BlLmlzTGluaylcclxuICAgICAgICAgICAgICAgICAgICB1cGxvYWRBbmRTYXZlKCk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmKCRzY29wZS5lZGl0KVxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHNhdmUoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5oaWRlID0gJG1kRGlhbG9nLmhpZGU7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNhdmUoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlkZW8uJHNhdmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kRGlhbG9nLmhpZGUocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KFwiTnVldm8gYWQgZ3VhcmRhZG9cIikpO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG1kVG9hc3Quc2hvdygkbWRUb2FzdC5zaW1wbGUoKS5jb250ZW50KHJlc3BvbnNlLmRhdGEuZXJyb3IpLnRoZW1lKFwiZXJyb3ItdG9hc3RcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdWJtaXR0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5maWxlQ2hhbmdlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICRzY29wZS5maWxlQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaXNMaW5rID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUubGlua0NoYW5nZWQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmlzTGluayA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5wb3N0KCRyb290U2NvcGUuc2VydmVyX3VybCArIFwiL2FwaS91dGlscy95b3V0dWJlXCIse3VybDogJHNjb3BlLnZpZGVvLnNvdXJjZX0pLnN1Y2Nlc3MoZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS55b3V0dWJlSWQgPScnO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmlkICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUueW91dHViZUlkID0gcmVzcG9uc2UuaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52aWRlby50eXBlID0gJ3lvdXR1YmUnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmdldFl0ID0gZnVuY3Rpb24odmlkZW9JZCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJHNjZS50cnVzdEFzUmVzb3VyY2VVcmwoJ2h0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLycgKyB2aWRlb0lkKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gdXBsb2FkQW5kU2F2ZSgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdWJtaXR0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIFVwbG9hZC51cGxvYWQoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogJHJvb3RTY29wZS51cGxvYWRfdXJsLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGU6ICRzY29wZS52aWRlby5zb3VyY2VcclxuICAgICAgICAgICAgICAgIH0pLnByb2dyZXNzKGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvZ3Jlc3MgPSBwYXJzZUludCgxMDAuMCAqIGV2dC5sb2FkZWQgLyBldnQudG90YWwpO1xyXG4gICAgICAgICAgICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmlkZW8uc291cmNlID0gZGF0YS51cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnZpZGVvLnR5cGUgPSBkYXRhLnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVDaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvZ3Jlc3MgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCRzY29wZS5lZGl0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhdmUoKTtcclxuICAgICAgICAgICAgICAgIH0pLmVycm9yKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xyXG4gICAgICAgICAgICAgICAgICAgICRtZFRvYXN0LnNob3coJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChkYXRhLmVycm9yKS50aGVtZShcImVycm9yLXRvYXN0XCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3VibWl0dGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9ncmVzcyA9IDA7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcclxuICAgICAgICAgICAgICAgIFZpZGVvLnVwZGF0ZSh7aWQ6ICRzY29wZS52aWRlby5pZH0sICRzY29wZS52aWRlbykuJHByb21pc2UudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdHRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgkc2NvcGUudmlkZW8pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICBdKTtcclxufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=